Программные продукты и системы / Software & Systems               № 4 (112), 2015 

УДК 519.68; 681.513.7; 612.8.001.57; 007.51/.52            Дата подачи статьи: 02.07.15 
DOI: 10.15827/0236-235X.112.188-197 

ПРОГРАММНЫЙ КОМПЛЕКС ДЛЯ АНАЛИЗА ДАННЫХ  
ИЗ СОЦИАЛЬНЫХ СЕТЕЙ 

 
Т.В. Батура, к.ф.-м.н., старший научный сотрудник, tatiana.v.batura@gmail.com;  

Ф.А. Мурзин, к.ф.-м.н., зам. директора по науке, murzin@iis.nsk.su;  
А.В. Проскуряков, аспирант, alexey.proskuryakov@gmail.com  

(Институт систем информатики им. А.П. Ершова СО РАН,  
просп. Лаврентьева, 6, г. Новосибирск, 630090, Россия) 

 

Статья посвящена проблемам извлечения и обработки данных из социальных сетей. Рассмотрены различные ко-
личественные характеристики, отношения и множества, вычислимые на основе получаемых данных. Важно, что эти 
характеристики являются конструктивными и могут быть эффективно вычислены или построены при помощи соот-
ветствующих алгоритмов.  

Количество информации, находящейся в социальных сетях, очень велико. При использовании распределенной си-
стемы извлечения и обработки данных объем увеличивается еще больше. Поэтому наиболее важной и трудной задачей 
является выделение той части данных, которую можно было бы достаточно эффективно обработать и которая пред-
ставляла бы интерес в соответствии с поставленными целями. Для решения этой задачи предлагается применить метод 
определения количества влияния аудитории на отдельного пользователя. Метод основан на теории динамического 
социального влияния, предложенной Б. Латане. Данный подход является полезным также при решении задачи опре-
деления источника распространения информации.  

Задача определения количества влияния на пользователя со стороны других пользователей непосредственно свя-
зана с задачей обнаружения лидеров мнений – сравнительно популярных пользователей, которые формируют мнение 
остального большинства. В работе предложен один из возможных методов определения лидеров мнений. 

Приведено довольно подробное описание разработанного программного комплекса, позволяющего работать с ин-
формацией из социальных сетей ВКонтакте и Twitter. Он состоит из шести модулей: извлечения, обработки данных, 
отслеживания изменений пользовательских данных, анализа данных, построения графовых структур и модуля визуа-
лизации данных. 

Ключевые слова: анализ социальных сетей, обработка данных на естественном языке, источник распростране-
ния информации, лидеры мнений, межличностный анализ. 

 

Сложно представить современный мир без со- большая часть информации в социальных сетях 
циальных сетей. Это удобное средство общения представляет собой средство самовыражения, ко-
между людьми, кроме того, сети открывают новые гда человек делает заметки для себя, не преследуя 
возможности для анализа потоков информации и какие-то дополнительные цели наподобие ре-
поведения людей в процессе общения. Анализ кламы, агитации и пр. Это предположение подтвер-
структуры графов и текстовых данных, получае- ждает официальная статистика [1], согласно кото-
мых из социальных сетей, является наиболее эф- рой, 40 % всех твитов можно отнести к светской бе-
фективным методом изучения взаимодействий седе. 
между их участниками. Важный элемент подобных Чтобы выбрать существенную информацию из 
исследований – создание программных инструмен- большого объема разнородных данных, необхо-
тов, позволяющих извлекать из сетей данные и об- димо разрабатывать определенные критерии.  
рабатывать их.  В ряде случаев достаточно ограничить число отсле-

В статье приведено довольно подробное описа- живаемых пользователей и, к примеру, просматри-
ние разработанного программного комплекса для вать только тех, которые пользуются большей по-
извлечения, обработки и анализа пользовательских пулярностью. Их называют лидерами мнений. Это 
данных. Эксперименты проводились по извлече- люди, чье мнение оказывает на окружающую ауди-
нию данных из сетей ВКонтакте и Twitter, хотя мо- торию большое влияние, формируя таким образом 
дуль извлечения системы имеет возможность мнение остального сообщества.  
функционального расширения практически на лю- Помимо количества подписчиков или друзей, 
бую социальную сеть в зависимости от предостав- лидера мнений характеризуют такие величины, как 
ляемого API. В целом система состоит из шести  количество созданных сообщений, лайков, репо-
модулей, в том числе модуля отслеживания изме- стов и комментариев, которые собирают записи 
нений в пользовательских данных и модуля по- пользователя. 
строения графов. Не менее важной задачей является определение 

Просматривать и обрабатывать невероятно количества влияния, оказываемого на человека со 
большие потоки информации, которые постоянно стороны его окружения. Для ее решения предлага-
обновляются, не только затруднительно, но и нера- ется адаптировать к социальным сетям теорию Ла-
ционально. По мнению авторов, сравнительно  тане социального влияния [2, 3]. 

 

188  



Программные продукты и системы / Software & Systems               № 4 (112), 2015 

Количественные характеристики, отношения  ные отношения предпочтения [4]. Согласно [5], за-
и множества, вычислимые на основе данных пись i | j  означает, что i предпочтительнее j, по 

k

из социальных сетей 
мнению k. Критерии предпочтительности могут 

 
быть самыми разными: профессионализм, который 

При анализе социальных сетей целесообразно 
можно разбить на разные виды деятельности, что 

рассматривать ряд числовых и нечисловых харак-
породит спектр новых критериев; умение руково-

теристик, отношений и множеств, естественно свя-
дить людьми; коммуникабельность; восприимчи-

занных с пользователями сети и сообщениями, 
вость к инновациям; психологическая устойчи-

циркулирующими в ней. Важно, чтобы эти харак-
вость и т.д. На базе этих отношений складывается 

теристики могли быть вычислены или построены 
неформальная структура коллектива, важность вы-

при помощи соответствующих алгоритмов.  
явления которой в ряде случаев не требует коммен-

Обозначим T сообщение (твит) социальной 
тариев.  

сети, u – пользователя сети, который может созда-
Трехместные отношения: 

вать и пересылать сообщения. 
Mentionsu(u1, u2) – пользователь u упоминает 

Одноместные характеристики: 
пользователя u1 не реже, чем u2; 

Followers_Count(u) – количество людей, кото-
Hashtagsu(h1, h2) – пользователь u употребляет 

рые читают сообщения данного пользователя (то 
хэштег h1 не реже, чем хэштег h2; 

есть подписчиков этого пользователя); 
Urlsu(url1, url2) – пользователь u упоминает 

Friends_Count(u) – количество друзей данного 
ссылку url1 не реже, чем ссылку url2; 

пользователя (пользователь сам заносит некоторых 
Retweetsu(u1, u2) – пользователь u пересылает со-

людей в список друзей); 
общения, полученные от пользователя u1, не мень-

Retweets(T) – количество пересылок данного со-
шее число раз, чем полученные от пользователя u2. 

общения. 
Числовые характеристики, ассоциированные с 

Множества: 
трехместными отношениями: 

Followers(u) – подписчики данного пользова-
N_Mentionsu(u1, u2)= 

теля; 
=Count_Mentionsu(u1) – Count_Mentionsu(u2); 

Friends(u) – друзья данного пользователя; 
N_ Hashtagsu(h1, h2)= 

Mentions(u) – имена пользователей, упоминае-
=Count_Hashtagsu(h1) – Count_Hashtagsu(h2); 

мые в сообщениях данного пользователя; 
N_ Urlsu(url1, url2)= 

Hashtags(u) – хэштеги, встречающиеся в сооб-
=Count_Urlsu(url1) – Count_Urlsu(url2); 

щениях данного пользователя; 
N_ Retweetsu (u1, u2)= 

Urls(u) – внешние ссылки, встречающиеся в со-
=Count_ Retweetsu (u1) – Count_ Retweetsu(u2). 

общениях данного пользователя. 
Можно считать, что приведенные выше функ-

Хэштег – это слово или набор слов, записанных 
ции также позволяют определять силы влияния 

без пробелов и начинающихся с символа #. Явля-
различных факторов. Например, функция N_Men-

ется одной из форм метаданных. Короткие сообще-
tionsu(u1, u2) позволяет вычислить силу влияния 

ния в блогах или социальных сетях типа Facebook, 
пользователя u1 по сравнению с u2 на пользователя 

Twitter или Instagram могут быть помечены симво-
u, то есть силу влияния с учетом предпочтений 

лом # перед ключевыми словами или фразами, не 
пользователя u. Например, если пользователь 

содержащими пробелов. Они встречаются в любых 
u="@mursya_ru" упоминает 8 раз пользователя 

предложениях. Например, «Эверест (Гималаи) са-
u1="@tadatuda" и 12 раз пользователя u2='@vois-

мая высокая точка мира #12МестКоторыеЯБыХо-
chev', то N_Mentionsu(u1, u2) = 12 – 8 = 4. 

телПосетить». Хэштеги позволяют группировать  
похожие сообщения. По заданному хэштегу можно Теория Латане социального влияния  
найти набор сообщений, содержащих его. и ее модификация 

Числовые характеристики, ассоциированные с  
множествами: Теория динамического социального влияния, 

Count_Mentionsu(v) – количество упоминаний предложенная Латане [2, 3], позволяет вычислить 
пользователя v пользователем u; «количество влияния», оказанного на получателя 

Count_Hashtagsu(v) – количество употреблений информации из нескольких источников. Латане вы-
хэштега v пользователем u; делял три наиболее важных атрибута отношений 

Count_Urlsu(v) – количество упоминаний внеш- между получателем информации и ее источни-
ней ссылки v пользователем u; ками: сила источника влияния на агента, расстоя-

Count_Retweetsu(u1) – количество сообщений, ние между агентом и источником и количество  
пересланных пользователем u, полученных от источников, влияющих на получателя. Под рассто-
пользователя u1. янием понимается оперативность перемещения ин-

При анализе процессов, происходящих в кол- формации от источника к агенту воздействия. 
лективах, в исследованиях по социологии, психо- Согласно теории социального влияния, уровень 
логии, экономике часто рассматривают трехмест- влияния, испытываемого агентом, может быть  

 189



Программные продукты и системы / Software & Systems               № 4 (112), 2015 

выражен следующей формулой: I = −S β −  N
i i 2

I = −β⋅max{Count _Mentions u −
u u ( i )}

N S O O i=1
j j i

− ∑ , где Ii – количество социального дав-
α N N N _Mentions u ,u   

j=1, j≠i d u ( i j )
i 
, j −minmin .

ления, направленного на агента i; Oi – мнение i-го i j α
=1 =2  ρ u ,u

i ( )
> j i j 

агента (±1) по отношению к данному вопросу, зна-
Здесь ρ(ui, uj) – расстояние между пользовате-

чение +1 соответствует поддержке, а –1 – сопро-
лями ui и uj. В формуле учитываются все пользова-

тивлению предложению; Si – сила социального 
тели, упоминаемые u, то есть считается, что все они 

влияния (Si ≥ 0); β – сопротивляемость агента к из-
на него влияют. Расстояние можно, например, за-

менениям (β>0); dij – расстояние между агентами i дать отношением «подписчик–подписчик подпис-
и j (dij ≥ 1); α – степень ослабления расстояния чика–подписчик подписчика подписчика» и т.д. 
(α≥0); N – общее число взаимодействующих аген- Так как эти выкладки производятся относительно 
тов. предпочтений пользователя u, уместно будет вос-

Значение постоянной β обычно принимается пользоваться французской железнодорожной мет-
равным 2 в соответствии с величиной, использо- рикой: 
ванной в исследованиях Латане. Большее значение 
этой постоянной означает, что для изменения мне- (  u −u , u −u = λ

i j (u −u) ,i j
ρ u ,u =   

ния требуется большее давление, меньшее значе- i j )


ние соответствует меньшему усилию. Значение по-  u −u + u −u , u −u ≠ λ
i j (u −u) ,i j

стоянной α также обычно принимается равным 2. где λ – заданный коэффициент; u – фиксированная 

Большие значения α означают, что с ростом рас- выбранная точка, через которую обязательно дол-

стояния между источником и получателем требу- жен проходить путь между ui и uj. Самое простое – 

ется гораздо большая величина давления.  подсчитать количество ребер. Можно, конечно, 

Величина dij определяется свойствами пары приписывать вес каждому ребру. Но, на взгляд ав-

агентов, она может рассматриваться как показатель торов, здесь вес ребра не столь важен, так как в те-

легкости общения (передачи информации). При за- кущий момент времени пользователь u может не 

дании данной величины могут учитываться воз- быть подписчиком, например, пользователя uj и по-

растные, национальные, конфессиональные и дру- этому находиться от него на далеком расстоянии, а 

гие различия. Формула для вычисления dij может в следующий момент времени уже стать подписчи-

включать в себя физическое расстояние. Например, ком. 

между населенными пунктами, в которых нахо- Внешнее влияние, например влияние СМИ, 

дятся агенты. Обычно учитывается то, что легкость также может быть учтено, если в основную фор-

коммуникации подчиняется закону об обратной мулу Латане добавить дополнительное слагаемое 

квадратичной зависимости от физического рассто- −OO S , где S
i M M Mi – сила влияния внешних источ-

i

яния [3]. В случае с социальными сетями возможны ников на агента i (SMi > 0); OM – мнение внешнего 
различные подходы, в том числе такие, когда физи- источника (±1). Для учета влияния масс-медиа Ла-
ческое расстояние не принимается во внимание. тане [2, 3] получил итоговую формулу 

Для анализа социальных сетей авторы предла- N S O O
j j i

гают модификацию формулы Латане в следующем I = −S β−OO S −  
i i i M Mi ∑ .

α

j=1, j≠i d
виде: i, j

N Обычно внешний источник также моделируется 
I = −β⋅∑Count _Mentions (u ) −u u i как агент, но «вне окружающей среды» и с рассто-

i=1
янием 1 до каждого агента ввиду своей «вездесу-

 
N N N _Mentions u ,u

u ( i j ) щей» природы. Величина SMi меняется в зависимо-
−∑∑ .

α ( ) сти от агента, так как каждый человек испытывает 
i=1 j=2 ρ u ,u

i j
i> j различное давление СМИ. Эта величина анало-

В этой формуле учитываются все пользователи, гична иногда рассматриваемой «величине дове-
упоминаемые u. Можно считать, что все они на рия» агента к сообщениям, получаемым из внеш-
него влияют. В следующей формуле учитывается них источников. Для социальных сетей аналогом 
влияние только наиболее упоминаемого и наиме- СМИ можно считать хэштеги и внешние ссылки. 
нее упоминаемого пользователей: Соответственно получаем формулу 

N N
1
I = −β⋅max Count Mentions u
u { _

u ( i )}− Iu = −β ⋅∑Count _Mentionsu (ui )−
i=1 i=1

  
N N N _Mentions u u

u ( ,
i j ) Hashtags(u) Hashtags(u)


−maxmax  . − ∑ ∑ Hashtagsu (hi ,h j )−  

i α
=1 j=2

>  ρ (u ,u
i j i j )  i=1 j=2

 i> j

Также можно учитывать влияние только наибо- N N N _Mentionsu (ui ,u j )
лее упоминаемого и следующего за ним по частоте −∑∑ ,

α

i=1 j=2
упоминания: ρ (u ,u

i j )
i> j

190  



Программные продукты и системы / Software & Systems               № 4 (112), 2015 

в которой учитываются все пользователи, упоми- чиков пользователя. Согласно новому закону о 
наемые u, и все хэштеги.  блоггерах (№ 97-ФЗ от 05.09.14), автор с аудито-

Аналогично получаем формулу, в которой учи- рией свыше 3 000 пользователей в сутки должен за-
тываются все пользователи и внешние ссылки в носиться в спецреестр. 
Интернете, упоминаемые пользователем u: Но большое количество подписчиков не явля-

N ется достаточно точным показателем того, что 
I = −β⋅∑Count _Mentions u −
u u ( i )

i пользователь – лидер мнений. Количество публи-
=1

Urls(u) Urls(u ) куемых сообщений тоже важно, причем созданных 
− ∑ ∑ Urls (url ,url ) −  самим пользователем, а не просто перепостов. 

u i j
i=1 j=2

i Кроме того, необходимо учитывать реакцию ауди-
> j

тории в виде количества комментариев к собран-
N N N _Mentionsu (ui ,u j )

− ному сообщению, количества лайков и ретвитов. 
∑∑ .

α
i=1 j=2 ρ (u ,u Таким образом, пользователя Twitter, которого 

i j )
i> j

можно назвать лидером мнений, характеризует 
 следующий набор величин в терминах извлекае-

Обнаружение лидеров мнений мых нами данных: 
 

– количество подписчиков (followers_count); 
По данным сайта Statista [6], социальная сеть 

– количество самостоятельно созданных тви-
ВКонтакте насчитывает 55 млн активных россий-

тов (statuses_count); 
ских пользователей, Twitter – 8,5 млн человек [7]. 
Среди жителей Казахстана на долю ВКонтакте – количество репостов сообщения пользова-

приходится 3,8 млн пользователей, Twitter исполь- теля (retweet_count); 

зуют 300 тысяч человек [8]. Количество пользова- – количество лайков, которые собрал твит 

телей социальных сетей постоянно увеличивается. пользователя (favorite_count). 

Для сравнения: Twitter сейчас насчитывает 236 млн Вместо количества самостоятельно созданных 
пользователей во всем мире [9]. твитов удобнее оперировать величиной, вычисляе-

Просматривать и обрабатывать огромные по- мой как отношение самостоятельно созданных тви-
токи информации, которые постоянно обновля- тов к общему количеству сообщений пользователя, 
ются, не только трудно, но и нерационально. По ST

то есть , где ST – количество самостоятельно 
мнению авторов, сравнительно большая часть ин- TT
формации в социальных сетях представляет собой созданных твитов; TT – общее количество сообще-
средство самовыражения, когда человек делает за- ний пользователя. 
метки для себя, не преследуя какие-то дополни- Заметим, что перед текстом твит-сообщения 
тельные цели типа рекламы, агитации и пр. Это может присутствовать пометка RT, означающая, 
предположение подтверждает официальная стати- что сообщение создано не лично пользователем, а 
стика [1], согласно которой 40 % всех твитов является перепостом уже существующего. Это поз-
можно отнести к светской беседе. Вместе с тем сле- воляет точно вычислить величину ST. 
дует особо рассматривать пользователей Twitter, 

Количество репостов сообщения (retweet_ 
которые являются официальными представите-

count) и количество лайков, которые собрал твит 
лями группы людей в сети. Например, новостные 

(favorite_count), являются характеристиками са-
каналы (радио, телевидение, пресса), рекламные 

мого сообщения, а не его автора, поэтому не могут 
агентства, различные организации, в том числе го- 

вносить непосредственный вклад в оценку попу-
сударственного уровня, и так далее. В отличие от 

лярности пользователя. Чтобы их учесть, можно, 
Twitter в сети ВКонтакте существует в явном виде 

например, применить к каждой из этих характери-
понятие сообщества, то есть группы людей, объ-

стик алгоритм, аналогичный вычислению индекса 
единенных интересами. Безусловно, некоторая 

Хирша [10]. В итоге количеству репостов сообще-
часть аккаунтов, зарегистрированых как один са-

ния пользователя будет соответствовать коэффи-
мостоятельный пользователь ВКонтакте, в реаль-

циент χ1, а количеству лайков, которые собрал твит 
ной жизни может управляться группой людей.  

пользователя, – коэффициент χ2. Эти два коэффи-
Чтобы выбрать существенную информацию из 

цианта уже могут использоваться в качестве крите-
большого объема разнородных данных, необхо-

рия популярности пользователя. 
димы критерии, позволяющие анализировать са-
мое важное. Таким образом можно ограничить Лидера мнений в сети ВКонтакте характеризует 

число просматриваемых пользователей. Другими следующий набор величин в терминах извлекае-

словами, хотелось бы просматривать только срав- мых данных: 

нительно популярных пользователей, которые – количество подписчиков (getProfiles().coun-
формируют мнение остального большинства. Их ters. followers); 
называют лидерами мнений. Показателем популяр- – количество друзей (getProfiles().counters.fri-
ности здесь может выступать количество подпис- ends); 

 191



Программные продукты и системы / Software & Systems               № 4 (112), 2015 

– количество записей пользователя (getProfi- число), словари, в которых и ключи, и их значения 
les().counters.notes); – строки. 

– количество лайков, собранных записью Тип данных значения определяет, какие опера-
пользователя (likes_count); ции (команды) доступны для него. Хранилище дан-

– количество комментариев, собранных запи- ных Redis поддерживает такие высокоуровневые 
сью пользователя (comments_count). операции, как объединение и разность наборов, а 

Следует отметить, что количество друзей в се- также их сортировку [11]. 
ти ВКонтакте – более важный признак популярно- Данные с любого сервера Redis могут реплици-
сти пользователя, чем количество подписчиков.  роваться произвольное количество раз. Репликация 
В сети Twitter ситуация противоположная. – механизм синхронизации содержимого несколь-

В сети ВКонтакте дополнительной характери- ких копий объекта. В процессе репликации измене-
стикой сообщения является количество коммента- ния, сделанные в одной копии объекта, могут быть 
риев, которые собрала запись пользователя. К ней распространены в другие копии. Но, чтобы избе-
также можно применить алгоритм, аналогичный жать конфликтов, необходимо понимать, в каком 
вычислению индекса Хирша [10]. В результате по- порядке должны применяться обновления. При вы-
лучим величину χ3, которая вносит вклад при оце- грузке информации из социальных сетей прихо-
нивании популярности пользователя. дится иметь дело с очень большими объемами дан-

 ных. Репликация как раз полезна в таких случаях. 
Программная реализация Высокая производительность Redis обусловлена 

 тем, что все данные хранятся в оперативной па-
В процессе исследований был разработан про- мяти. 

граммный комплекс, содержащий модули извлече- Важными условиями при выборе БД были вари-
ния информации из социальных сетей, обработки, абельность структуры данных и возможность изме-
анализа и визуализации данных. Все модули реали- нять структуру содержимого БД. Это вызвано тем, 
зованы на языке Python для широкого круга опера- что на начальном этапе получалось большое коли-
ционных систем, на которых может работать ком- чество неструктурированных данных и сама струк-
плекс. Программный комплекс cодержит шесть  тура хранения данных постепенно вырабатывалась 
модулей: извлечения данных, обработки данных, по мере их извлечения и исследования. 
отслеживания изменений в пользовательских дан- Кроме того, в MongoDB имеются механизмы 
ных, анализа данных, построения графовых струк- обработки данных Map Reduce и Aggregation frame-
тур, визуализации данных. work, значительно ускоряющие обработку данных 

Модуль извлечения данных позволяет из- в самой БД для предоставления обрабатываемых 
влекать данные из Twitter и ВКонтакте. Для  данных в требуемом формате для последующего 
доступа к данным в каждой из них используется анализа. Такой формат организации и хранения 
интерфейс прикладного программирования (API), данных наиболее подходит для слабоструктуриро-
авторизация производится при помощи протоко- ванной информации, в том числе для извлекаемой 
ла OAuth. При использовании одного компью- из социальных сетей.  
тера программа позволяет в сутки выполнять от 8 В реализованном программном комплексе для 
до 250 тысяч запросов в зависимости от того, к ка- извлечения данных используются различные пара-
кой социальной сети осуществляется запрос, и  метры запуска в зависимости от социальной сети. 
от быстродействия оборудования и пропускной Для извлечения данных из сетей Twitter и ВКон-
способности каналов. На данный момент модуль такте используются параметры, приведенные в таб-
извлечения данных имеет возможность функцио- лице. 
нального расширения практически на любую соци- Модуль обработки данных сначала производит 
альную сеть. поиск хэштегов, упоминаний пользователей и ссы-

Для хранения извлеченных данных использу- лок, далее – нормализацию текста сообщений. Нор-
ются документо-ориентированная система управ- мализация текста сообщений осуществляется в за-
ления БД MongoDB и сетевое журналируемое хра- висимости от настроек с помощью либо стеммера 
нилище данных Redis.  Портера [12] (для большей скорости обработки), 

Все данные Redis хранит в виде словаря, в кото- либо морфологической нормализации на основе 
ром ключи связаны со своими значениями. Одно из алгоритмов АОТ [13] с использованием библио-
важных отличий Redis от других хранилищ данных теки PyMorphy.  
заключается в том, что значения этих ключей не Модуль слежения за пользовательскими дан-
ограничиваются строками. Поддерживаются сле- ными позволяет отслеживать изменения, вносимые 
дующие абстрактные типы данных: списки строк, пользователями в настройки своего аккаунта. 
множества строк (коллекции неповторяющихся не- В модуле анализа данных используются различ-
сортированных элементов), сортированные множе- ные алгоритмы кластеризации и классификации 
ства строк (коллекции неповторяющихся элемен- данных как самих пользователей и их связей, так и 
тов), упорядоченных по score (вещественное их сообщений. 

192  



Программные продукты и системы / Software & Systems               № 4 (112), 2015 

Описание запускаемых  теля и дополнительные параметры, описание кото-
для социальной сети команд рых приведено в таблице. Например, необходимо 

 

Description of issued instructions  извлечь информацию о Бахыт Сыздыковой – быв-

for a social network шем депутате мажилиса Республики Казахстан.  
 В Twitter она зарегистрирована под именем @ba-

Параметр Функция hytsyzdykova. Часть содержимого коллекции users, 
Twitter и ВКонтакте в частности, с данными о пользователе @bahyt-

-h, --help Показать справочную информа- syzdykova, можно увидеть по ссылке http://www. 
цию о параметрах и выйти из 

swsys.ru/uploaded/image/2015-4-dop/3.jpg. 
программы 

У каждого зарегистрированного пользователя 
-l LIST, --list LIST Загрузить данные о нескольких 

пользователях по списку id ВКонтакте есть собственный ID (идентификацион-
пользователей из заранее  ный номер), который присваивается странице во 
созданного файла время регистрации. Для запуска извлечения дан-

-u USER, --user USER Загрузить данные об одном ных о пользователе из сети ВКонтакте необходимо 
пользователе по имени  указать этот ID, например 2237709. 
пользователя Часть содержимого коллекции messages можно 

-v, --visualise Визуализировать данные  увидеть по ссылке http://www.swsys.ru/uploaded/ 
о пользователях в виде графа image/2015-4-dop/4.jpg.  
Twitter При помощи запросов к БД можно осуществ-

-rt RELATION_TYPE, Указать тип связи: friends или 
лять поиск по текстам сообщений, именам пользо-

--relation_type RELA- followers; если не указать, по 
вателей и другим сведениям среди тех данных, ко-

TION_TYPE умолчанию берется friends 
-d DEPTH, --depth Глубина в цепочке отношений торые уже были извлечены. Например, при по-
DEPTH (friends и followers); непосред- мощи запроса к БД db.messages.find({source:"vk"}) 

ственные друзья пользователя можно просматривать сообщения, извлеченные 
находятся на глубине 1, друзья только из сети ВКонтакте. 
друзей – 2 и так далее  

ВКонтакте Описание извлекаемых данных 
-r, --recursive Загрузить родственные связи  

пользователя (братья, сестры, В зависимости от социальной сети можно из-
родители и пр.) влечь четыре типа объектов: User, Message, Social-

 

В модуле построения графовых структур име- Object, ContentObject, каждый из которых хранится 
ется возможность построения графов, отражающих в своей коллекции в MongoDB. Из Twitter извлека-
связи пользователей, а также выгрузки данных в ются только объекты User и Message, из ВКонтакте 
программное средство для работы с графами Gephi – все четыре типа. 
[14]. Выгрузка может осуществляться в виде  Объекты типа User характеризуют пользовате-

csv-файлов или посредством http-протокола. Реа- лей социальной сети. Они находятся в коллекции 

лизованы оба метода. В зависимости от настроек в users и имеют различные поля в зависимости от ре-

Gephi есть возможность отображения вершин, ре- сурса. Однако для Twitter и ВКонтакте имеются и 

бер, меток (вершин и ребер), по необходимости схожие поля: 

можно менять их величину и расцветку, масштаби- source – собственно имя ресурса (ttr – Twitter, vk 
ровать изображение с различной степенью детали- – ВКонтакте); 
зации, просматривать списки вершин и ребер, ран- name и <[first, last, middle]>_name – имя пользо-
жировать их. В числе аналитических возможностей вателя, которое он указал при регистрации; 
Gephi автоматическое вычисление таких характе- sn_id – идентификатор пользователя в социаль-
ристик, как диаметр графа, плотность графа, моду- ной сети; 
лярность, средняя длина пути между любыми status – последнее его сообщение (либо его со-
двумя вершинами, метрики авторитетности вер- стояние, которое он указал в графе «Что с вами 
шин HITS и PageRank, центральность по собствен- происходит?»); 
ному вектору (eigenvector centrality), средний коэф-

birthday – дата рождения; 
фициент кластеризации и пр. 

screen_name – ник; 
Модуль визуализации данных дает возмож-

ность на основе извлеченных данных строить гра- update_date – время сохранения в БД и время по-

фики зависимостей между различными показате- следнего просмотра; 

лями. [followers, friends]_count – количество подпис-
 чиков и друзей пользователя соответственно; 
Просмотр результатов работы программы verified – проверенный ли пользователь; в неко-
 торых случаях это ответ на email, посланный при 
Для извлечения данных о конкретном пользова- регистрации, в иных – проверка модератором на 

теле из Twitter необходимо указать имя пользова- реальность имени и прочего. 

 193



Программные продукты и системы / Software & Systems               № 4 (112), 2015 

Имеются около 18 видов полей, описывающих getCities. Если город не указан, то при приеме дан-
пользователя Twitter. Приведем лишь некоторые ных в формате XML в узле <user> отсутствует тег 
наиболее важные из них: city.  

follow_request_sent – отправлен ли запрос на 2. Поле country – выдается id страны, указанной 
подписку этому пользователю (true/false); у пользователя в разделе «Контакты». Название 

time_zone – временная зона; страны по ее id можно узнать при помощи метода 
update_date – время последнего обращения си- getCountries. Если страна не указана, то при приеме 

стемы к данным этого пользователя; данных в формате XML в узле <user> отсутствует 
protected – пользователь скрывает свои твиты, тег country.  

твиты показываются только его друзьям и подпис- 3. Поле online – показывает, находится ли этот 
чикам; пользователь сейчас на сайте. Поле доступно 

listed_count – количество публичных листов, в только для метода friends.get. Возвращаемые значе-
которых состоит данный пользователь; ния: 1 – находится, 0 – не находится. 

statuses_count – количество сообщений пользо- Если пользователь использует мобильное при-
вателя; ложение либо мобильную версию сайта, будет воз-

description – информация, которую пользова- вращено дополнительное поле online_mobile. 
тель написал о себе; lists – список, содержащий id списков друзей, в 

favourites_count – количество избранных объек- которых состоит текущий друг пользователя. Ме-
тов у пользователя; тод получения id и названий списков: friends.get-

url – ссылка, которую указал пользователь в Lists. Поле доступно только для метода friends.get. 
своем описании; Если текущий друг не состоит ни в одном списке, 

created_at – когда был создан аккаунт; то при приеме данных в формате XML в узле от-
default_profile – настроил ли пользователь свой сутствует тег lists.  

аккаунт (дополнительной индивидуальностью, к screen_name – возвращает короткий адрес стра-
примеру, картинкой в фоне); ницы (возвращается только имя адреса, например 

following – читает ли текущий бот искомого andrew). Если пользователь не менял адрес своей 
пользователя. страницы, возвращается 'id'+uid, например 

Объекты типа Message характеризуют сообще- id35828305.  
ния, оставленные пользователем в сети. has_mobile – показывает, известен ли номер мо-

1) status – последнее сообщение пользователя: бильного телефона пользователя. Возвращаемые 
favorited – в избранном ли это сообщение у значения: 1 – известен, 0 – не известен. Рекоменду-

бота; ется перед вызовом метода secure.sendSMSNotifi-
text – текст сообщения; cation.  
favorite_count – количество пользователей, ко- contacts – возвращает поля:  

торые добавили это сообщение себе в избранное; 
mobile_phone – мобильный телефон пользо-

lang – язык текста; 
вателя; 

created_at – когда создано сообщение; 
home_phone – домашний телефон пользова-

retweeted – было ли переслано сообщение; 
теля;  

coordinates – координаты места, откуда было от-
правлено сообщение; education – возвращает код и название уни-

source – ресурс, с которого было создано сооб- верситета пользователя, а также факультет и 

щение; год окончания; 

retweet_count – количество пересылок (репо- universities – список высших учебных заве-

стов) сообщения; дений, в которых учился текущий пользова-

entities – сущности (которые есть также в со- тель;  

общениях); все атрибуты этого объекта являются schools – список школ, в которых учился те-
массивами, и каждый элемент является объектом, кущий пользователь. 
который содежит информацию о позиции в тексте: can_post – разрешено ли оставлять записи на 

symbols : массив символов; стене у данного пользователя. 
user_mentions : массив пользователей, упо- can_see_all_posts – разрешено ли текущему 
минаемых в тексте сообщения; пользователю видеть записи других пользователей 
hashtags : массив хэштегов;  на стене данного пользователя. 
urls : массив ссылок; can_write_private_message – разрешено ли напи-

2) lang – основной язык пользователя. сание личных сообщений данному пользователю. 
Приведем поля для описания объекта типа User activity – возвращает статус, расположенный в 

из ВКонтакте. профиле, под именем пользователя. 
1. Поле city – выдается id города, указанного у last_seen – возвращает объект, содержащий 

пользователя в разделе «Контакты». Название го- поле time, в котором содержится время последнего 
рода по его id можно узнать при помощи метода захода пользователя. 

194  



Программные продукты и системы / Software & Systems               № 4 (112), 2015 

relation – возвращает семейное положение поль- Также для каждого такого объекта определены 
зователя: 1 – не женат/не замужем; 2 – есть слеующие поля: 
друг/есть подруга; 3 – помолвлен/помолвлена; 4 – sn_id – уникальный идентификатор записи;  
женат/замужем; 5 – все сложно; 6 – в активном по- user – ссылка на пользователя, загрузившего 
иске; 7 – влюблен/влюблена. эту запись; 

4. Поле counters – возвращает количество раз- text – что пользватель написал про эту запись; 
личных объектов у пользователя. Поле возвраща- created_at – когда была создана запись; 
ется только в методе getProfiles при запросе инфор- views_count – количество просмотров в не-
мации об одном пользователе. Данное поле явля- котором случае; 
ется объектом, который содержит следующие comments_count – количество коммента-
поля: риев; 

albums – количество фотоальбомов; likes_count – количество лайков; 
videos – количество видеозаписей; video_id – идентификаторы видеоконтента в 
audios – количество аудиозаписей; сети vk; 
notes – количество заметок; photo_id – идентификаторы фото контента в 
friends – количество друзей; сети vk; 
groups – количество сообществ;  wall_post_id – идентификаторы записей на 
online_friends – количеcтво друзей онлайн; стене пользователя vk; 
mutual_friends – количество общих друзей (если type – тип [wall_post, video, photo]. 

запрашивается информация не о текущем пользо- Объекты типа SocialObject представляют сооб-
вателе); щества пользователей, такие как группы, публич-

user_videos – количество видеозаписей с поль- ные страницы, встречи, и различаются свойством 
зователем; type. 

followers – количество подписчиков. Для каждого объекта SocialObject определены 
Если запрашивается информация не о текущем следующие поля: 

пользователе, то отсутствие полей friends, on- sn_id – идентификатор группы, страницы, 
line_friends, mutual_friends, user_photos в объекте встречи в социальной сети vk; в некоторых случаях 
означает, что информация по ним скрыта соответ- уместно его применение в обратном значении, та-
ствующими настройками приватности у запраши- ком как get_photos; 
ваемого пользователя. Если при запросе данного private – закрыто ли это сообщество для сторон-
поля оно отсутствует в ответе, то это означает, что них пользователей (чтобы вступить, требуется от-
текущий пользователь находится у запрашивае- править запрос администратору этого сообщества); 
мого пользователя в черном списке.  name – видное всем пользователям имя сообще-

5. Поле wall_comments – разрешено ли коммен- ства; 
тирование стены. Если комментирование стены от- screen_name – «ник» сообщества; 
ключено, то комментарии на стене не отобража- type – тип сообщества (может быть group, page, 
ются.  event); 

6. Поле relatives – возвращает список родствен- source – всегда равен vk. 
ников текущего пользователя в виде объектов, со- Связи между двумя пользователями либо 
держащих поля uid и type. type может принимать между пользователем и сообществом (для социаль-
одно из следующих значений: grandchild, ной сети ВКонтакте) ввиду их большого количе-
grandparent, child, sibling, parent.  ства хранятся в Redis для последующего быстрого 

7. Поля interests, movies, tv, books, games, about извлечения. Каждая связь имеет определенный тип 
– позволяют получить профильную информацию о и соединяет между собой либо двух пользователей, 
пользователе.   либо пользователя и сообщество. Таким образом, 

8. Поле connections – позволяет получить ин- связь – это тройка L = <B, U, T>, где B – идентифи-
формацию об аккаунтах пользователя на других катор начального пользователя; U – идентификатор 
сервисах. При указании этого поля будут прихо- конечного пользователя (либо сообщества, то есть 
дить следующие ключи в случае наличия соответ- группы пользователей); T – тип связи.  
ствующих записей: twitter, facebook, facebook_na- Связи между пользователями в социальной сети 
me, skype, livejounal. Twitter имеют только 2 типа: freind и follower. 

Под объектами типа ContentObject понимаются Связи между двумя пользователями социальной 
некоторые контентные объекты, такие как фото- сети ВКонтакте могут быть следующими: friend, 
графии, видео, обсуждения групп, имеющиеся в follower, like, comment, mentions. Типы связей 
сети ВКонтакте. Все эти объекты имеют различные между пользователем и сообществом: member, 
наборы атрибутов в зависимости от типа объекта, к admin, subscribe, request, invitation. 
каждому из них могут привязываться объекты типа На основании изложенного сделаем следующие 
Message посредством информации из атрибута выводы. В процессе анализа социальных сетей ре-
comment_for.  шается довольно большой круг задач и применя- 

 195



Программные продукты и системы / Software & Systems               № 4 (112), 2015 

ются методы из различных областей знаний. Часто Проведенные испытания созданного програм- 
решение задач одного класса связано с решением много комплекса показали его корректную работу. 
задач другого класса, поэтому к их решению целе- Извлекаемые из сетей данные весьма интересны. 
сообразно подходить комплексно. Для этого, без- Однако необходимы еще более глубокое осмысле-
условно, необходимы новые методы, алгоритмы, ние получаемых результатов и дополнительные ис-
введение новых характеристик, которые помогли следования для того, чтобы с помощью програм- 
бы в решении возникающих вопросов. много комплекса получать и анализировать дей-

В рамках исследования был разработан про- ствительно наиболее важную информацию. 
граммный комплекс для анализа данных из со-  

Литература 
циальных сетей. Он состоит из шести модулей: из-  

влечения, обработки данных, отслеживания изме- 1. Twitter. URL: https://en.wikipedia.org/wiki/Twitter (дата 

нений пользовательских данных, анализа данных, обращения: 1.07.2015). 
2. Nowak A., Szamrej J., Latané B. From private attitude to 

построения графовых структур и модуля визуали- public opinion: a dynamic theory of social impact. Psychological Re-
зации данных. В данной работе также приведено view, 1990, vol. 97, pp. 362–376. 

довольно подробное описание извлекаемых дан- 3. Latané B. The psychology of social impact. American Psy-

ных. chologist, 1981, vol. 36, pp. 343–356. 
4. Роджерс Э., Агарвала-Роджерс Р. Коммуникации в ор-

Ясно, что количество получаемой информации ганизациях. М.: Экономика, 1980. 178 c. 
очень большое. При использовании распределен- 5. Крючков В.Н., Мурзин Ф.А., Нартов Б.К. Исследование 

ной системы извлечения и обработки данных связей в коллективах и сетях ЭВМ на основе анализа предпочте-
ний // Проблемы конструирования эффективных и надежных 

объем возрастает еще больше. Поэтому сначала 
программ. 1995. C. 136–141. 

необходимо из всей информации выделить ту, ко- 6. Number of monthly active VKontakte users via desktop 
торую можно было бы достаточно эффективно об- connections in Russia from December 2012 to December 2014. The 

работать и которая представляла бы интерес в со- Statistics Portal. URL: http://www.statista.com/statistics/425423/ 
number-of-monthly-active-vkontakte-users (дата обращения: 

ответствии с поставленными целями. К примеру, 1.07.2015). 
необходимо выяснить, насколько большое влияние 7. Top social networks in Russia: latest numbers and trends. 

оказывает на человека его окружение. Для решения Russian Search. URL: http://www.russiansearchtips.com/2015/01/ 

этой задачи предлагается применить к социальным top-social-networks-russia-latest-numbers-trends (дата обращения: 
1.07.2015). 

сетям теорию динамического социального влия- 8. Сколько тратят казахстанские компании на рекламу в 
ния, предложенную Латане. соцсетях. Forbes Kazakhstan. URL: http://forbes.kz/process/inter-

Задача определения количества влияния на net/skolko_tratyat_kazahstanskie_kompanii_na_reklamu_v_sotsse-
tyah (дата обращения: 1.07.2015). 

пользователя со стороны других пользователей 9. Number of monthly active international Twitter users from 
непосредственно связана с задачей обнаружения 2nd quarter 2010 to 1st quarter 2015. The Statistics Portal. URL: 
лидеров мнений – относительно популярных поль- http://www.statista.com/statistics/274565/monthly-active-interna-

зователей, формирующих мнение большинства. tional-twitter-users (дата обращения: 1.07.2015). 
10. Hirsch J.E. An index to quantify an individual's scientific 

Благодаря им информация распространяется бы- research output. Proc. Natl Acad. Sci. USA. 2005, no. 102 (46),  
стрее и, соответственно, воздействует на более  pp. 16569–16572. 

многочисленную аудиторию. Лидера мнений ха- 11. Redis. URL: https://ru.wikipedia.org/wiki/Redis (дата об-
ращения: 1.07.2015).  

рактеризуют следующие величины: количество 
12. Willett P. The Porter stemming algorithm: then and now. 

подписчиков или друзей, количество созданных со- Program: Electronic Library and Information Systems, 2006, vol. 40, 
общений, количество лайков, репостов и коммен- no. 3, pp. 219–223. 

тариев, которые собирают записи пользователя. 13. Автоматическая обработка текста. URL: http://aot.ru 
(дата обращения: 1.07.2015). 

Эти характеристики позволяют более точно оце- 14. Gephi, an open source graph visualization and manipulation 
нить популярность пользователя. software. URL: https://gephi.org (дата обращения: 1.07.2015). 

 

 
 
 

DOI: 10.15827/0236-235X.112.188-197                  Received 02.07.15 
A SOFTWARE PACKAGE FOR A SOCIAL NETWORK DATA ANALYSIS 

Batura T.V., Ph.D. (Physics and Mathematics), Senior Researcher, tatiana.v.batura@gmail.com;  
Murzin F.A., Ph.D. (Physics and Mathematics), Deputy Director on Scientific Work, murzin@iis.nsk.su;  

Proskuryakov A.V., Postgraduate Student, alexey.proskuryakov@gmail.com  
(A.P. Ershov Institute of Informatics Systems (IIS), Siberian Branch of the Russian Federationn Academy of Sciences,  

Lavrenteva Av. 6, Novosibirsk, 630090, Russian Federation) 
Аbstract. The paper focuses on the problems of extracting and processing social network data. It considers various numer-

ical characteristics, relations and sets analyzed on the basis of output data. It is important that these characteristics are construc-
tive and can be effectively calculated or built using corresponding algorithms. 

The data amount in social networks is large. It becomes even larger when using distributed data extraction and processing 
system. That is why the most significant and difficult problem is to determine data, which could be processed effectively 
enough and is of interest according to the goals. To solve this task, we suggest using the method of determining the amount of 

196  



Программные продукты и системы / Software & Systems               № 4 (112), 2015 

audience influence on individual users. The method is based on the dynamic social impact theory proposed by B. Latané. This 
approach is also useful for solving the problem of determining the primary source of information. This problem is connected 
to the opinion leader detection problem. Opinion leaders are popular users who form the opinion of the majority. The paper 
describes one of the methods of opinion leader detection. 

The article provides a detailed description of the developed software, which processes information from social networks 
VKontakte and Twitter. It consists of six modules: extraction module, data processing module, user data change tracking mod-
ule, data analysis module, graph construction module and data visualization module. 

Keywords: social networks analysis, natural language data processing, primary source of information dissemination, opin-
ion leaders, interpersonal analysis. 

References 
1. Twitter. 2015. Available at: https://en.wikipedia.org/wiki/Twitter (accessed July 1, 2015). 
2. Nowak A., Szamrej J., Latané B. From private attitude to public opinion: a dynamic theory of social impact. Psycho-

logical Review. 1990, vol. 97, pp. 362–376. 
3. Latané B. The psychology of social impact. American Psychologist. 1981, vol. 36, pp. 343–356. 
4. Rogers E.M., Agarwala-Rogers R. Communication in organizations. NY, Free Press, 1976, 209 p. (in Russ. ed.:  Mos-

cow, Ekonomika Publ., 1980, 178 p.). 
5. Kryuchkov V.N., Murzin F.A., Nartov B.K. An Investigation of the Connections in the Collectives and in the Computer 

Networks. Problemy konstruirovaniya effektivnykh i nadezhnykh programm [The Problems of Constructing Efficient and Re-
liable Programs]. Novosibirsk, 1995, pp. 136–141 (in Russ.). 

6. Number of monthly active VKontakte users via desktop connections in Russia from December 2012 to December 2014. 
The Statistics Portal. 2015. Available at: http://www.statista.com/statistics/425423/number-of-monthly-active-vkontakte-users 
(accessed July 1, 2015). 

7. Top social networks in Russia: latest numbers and trends. Russian Search Tips. 2015. Available at: http://www.rus-
siansearchtips.com/2015/01/top-social-networks-russia-latest-numbers-trends (accessed July 1, 2015). 

8. How much do Kazakhstan companies spend on advertisement in social networks? Forbes Kazakhstan. 2015. Available 
at: http://forbes.kz/process/internet/skolko_tratyat_kazahstanskie_kompanii_na_reklamu_v_sotssetyah (accessed July 1, 
2015). 

9. Number of monthly active international Twitter users from 2nd quarter 2010 to 1st quarter 2015. The Statistics Portal. 
2015. Available at: http://www.statista.com/statistics/274565/monthly-active-international-twitter-users (accessed July 1, 
2015). 

10. Hirsch J.E. An index to quantify an individual's scientific research output. Proc. National Acad. Sci. USA. 2005, no. 
102 (46), pp. 16569–16572. 

11. Redis. 2015. Available at: https://ru.wikipedia.org/wiki/Redis (accessed July 1, 2015). 
12. Willett P. The Porter stemming algorithm: then and now. Program: Electronic Library and Information Systems. 2006, 

vol. 40, no. 3, pp. 219–223. 
13.  Avtomaticheskaya obrabotka teksta [Automatic Text Processing]. 2012. Available at: http://aot.ru/ (accessed July 1, 

2015). 
14. Gephi, an open source graph visualization and manipulation software. 2012. Available at: https://gephi.org (accessed 

July 1, 2015). 
 
 
 
 
 
 
 

Примеры оформления статьи в списке литературы 
 
1. Батура Т.В., Мурзин Ф.А., Проскуряков А.В. Программный комплекс для анализа 

данных из социальных сетей // Программные продукты и системы. 2015. № 4 (112).  
С. 188–197. 

 
2. Батура Т.В., Мурзин Ф.А., Проскуряков А.В. Программный комплекс для анализа 

данных из социальных сетей // Программные продукты и системы. 2015; DOI: 
10.15827/0236-235X.112. 188-197. 

 
3. Batura T.V., Murzin F.A., Proskuryakov A.V. A software package for a social network 

data analysis. Programmnye produkty i sistemy [Software & Systems]. 2015, no. 4 (112),  
pp. 188–197 (in Russ.); DOI: 10.15827/0236-235X.112.188-197. 
  

 197