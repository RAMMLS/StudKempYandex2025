100 ТРУДЫ МФТИ. — 2010. — Том 2, № 4
УДК 519.86

А.Б. Куржанский1,2, А.А. Куржанский2, П. Варайя2

1 Московский государственный университет им. М.В. Ломоносова
2 University of California at Berkeley, USA

Роль макромоделирования в активном управлении транспортной сетью
Система активного управления транспортной сетью (АУТС) нацелена на динамическое
регулирование автомобильных потоков на дорогах в режимах регулярно повторяющихся
и внезапно возникающих перегрузок. Её работа основана на измерении и оценивании теку-
щей ситуации на дороге и направлена на повышение эффективности использования сети
дорог в условиях перегрузок. Она представляет собой непрерывный процесс выполнений
следующих операций: (1) получения и анализа данных измерений потоков транспорта; (2)
оперативного планирования и компьютерной симуляции различных сценариев и управля-
ющих стратегий; (3) внедрения наиболее подходящих управленческих решений; (4) обес-
печения в реальном времени работы системы поддержки принятия решений, отфильтро-
вывающей текущие измерения; это делается с целью предсказания ожидаемого состояния
транспортной сети на ближайшее время и подготовки к внедрению соответствующих наи-
лучших управленческих решений к моменту возможного возникновения ожидаемой крити-
ческой ситуации. АУТС опирается на работу быстрого и надёжного симулятора дорожного
движения, который способен в течение нескольких минут протестировать множество сцена-
риев и управленческих стратегий для наблюдаемой дорожной сети и выбрать адекватные
для использования. Для реализации подобной схемы действий возможно использовать бес-
платный программный пакет для макросимуляций — систему Aurora Road Network Modeler.
В настоящей статье изложено описание следующих элементов АУТС: динамической мо-
дели транспортных потоков, лежащей в её основе; приспособления и подготовки модели
к процессу симуляции; критериев эффективности транспортной сети и оценки сценариев
как части оперативного планирования; указания рамок, в пределах которых оцениваются
управленческие решения, и их моделирование; предлагаемых алгоритмов оценивания со-
стояния транспортной сети и предсказания её будущего поведения на ближайших коротких
отрезках времени.

Ключевые слова: активное управление, транспортная сеть, макроскопическая транспорт-
ная модель, калибровка, автоматизированная система, геоинформационная система, фун-
даментальная диаграмма, коммуникационная сеть, быстрый и надёжный симулятор, опе-
ративное планирование, динамическая фильтрация, оперативная стратегия, оценивание со-
стояния, гарантированное прогнозирование.

ная структура АУТС и подробно рассматривают-
I. Введение ся его отдельные составляющие. В основе статьи

лежит опыт, полученный авторами в результате
участия в исследовательском проекте TOPL [1],

Автомобильные заторы в городах являются проводимом в Берклейском отделении Калифор-
причиной длительных задержек, пониженной про- нийского университета в США, начиная с 2006
изводительности труда, неэкономного расхода бен- года. Цель проекта TOPL состоит в том, чтобы
зина и чрезмерного загрязнения окружающей сре- помочь Департаменту Транспорта штата Кали-
ды. Стремительный рост числа автомобилей на форния прооптимизировать эксплуатацию особен-
дорогах, стоимость земли и проблемы экологии де- но загруженных магистралей штата.
лают задачу расширения существующих дорог и
строительство новых в густонаселённых городах
всё более трудно выполнимой. Активное управле-
ние транспортной сетью (АУТС) — это эффек-
тивное средство борьбы с повторяющимися изо
дня в день и внезапно возникающими заторами,
учитывающая конкретные для данного времени
года и суток условия и не требующая физиче-
ского увеличения пропускной способности дорог.
АУТС использует автоматизированные системы
управления дорожным движением (АСУД), а так-
же вмешательство диспетчера для по возможно-
сти оптимальной организации работы транспорт-
ной сети. В данной статье предлагается определён- Рис. 1. Схема работы АУТС



ТРУДЫ МФТИ. — 2010. — Том 2, № 4 101
АУТС представляет собой цикличный процесс, рации дорожных сетей и структуры возможных

состоящий из следующих факторов: (1) измере- систем управления сохраняются в соответствую-
ния транспортного потока и анализа полученных щих базах данных, которые используются в меха-
данных, без которых управление транспортной низме поддержки принятия решений. Параграф
сетью будет беспомощным и практически невоз- 3 затрагивает тему оперативного планирования,
можным; (2) оперативного планирования, которое а параграф 4 посвящён моделированию управле-
включает изучение поведения транспортной сети ния транспортным потоком. Второй режим рабо-
при возможных сценариях (таких, например, как ты — это динамическая фильтрация: симуляция
плохая погода, ДТП, дорожные работы, специ- системы с неопределённостью в параметрах моде-
альные мероприятия, увеличение спроса и т.п.), ли и входных данных. Она используется для кор-
а также разработку стратегий управления, при- ректировки измерений, поступающих в реальном
званных увеличить продуктивность транспортной времени с дорожных датчиков. Отфильтрованные
сети и оценку пригодности разработанных стра- через динамическую модель измерения использу-
тегий с точки зрения их стоимости и потенци- ются для организации обратной связи в соответ-
альной эффективности; (3) внедрения наиболее ствующих алгоритмах управления транспортным
обещающих стратегий непосредственно на маги- потоком. В третьем режиме прогнозирования бли-
стралях путём установки необходимого оборудо- жайшего будущего и выбора оперативной страте-
вания и программного обеспечения; (4) работаю- гии, исходя из начальных условий, полученных
щей системы поддержки принятия решений, кото- фильтрацией текущих измерений, вычисляются
рая осуществляет фильтрацию поступающих в ре- множества достижимости состояния транспорт-
альном времени измерений, прогнозирует поведе- ной сети при вероятных сценариях и возможных
ние транспортной системы на ближайшие несколь- стратегиях управления для ближайших несколь-
ко часов и помогает диспетчеру выбрать страте- ких часов. Диспетчер выбирает наиболее подходя-
гию управления, наиболее соответствующую ситу- щую из предлагаемых оперативных стратегий и
ации. вводит её в действие посылкой соответствующих
Схема работы АУТС представлена на рис. 1. команд на управляющие устройства. Параграф 5

В основе её лежит коммуникационная сеть, по описывает алгоритмы гарантированного прогно-
которой в центр сбора информации и управле- зирования и оценивания состояния транспортной
ния пересылаются данные измерений с дорожных сети. В параграфе 6 приведены отдельные элемен-
датчиков, и в свою очередь команды АСУД или ты АУТС на примере автострады I-80 в Северной
диспетчеров передаются на управляющие устрой- Калифорнии.
ства, установленные на перекрёстках городских
улиц и автостадах. Центральным элементом схе- II. Динамическая модель
мы АУТС является «быстрый и надёжный симу- транспортной сети
лятор». Надёжность симулятора обуславливает-
ся теоретически обоснованной транспортной моде-
лью, адекватно отображающей ситуацию на доро- II.1. Описание динамической модели
ге, для идентификации параметров которой доста-
точно лишь существующих измерений. В качестве Начнём с описания динамической модели
кандидата в такие симуляторы нами предлагает- транспорта — вариации макроскопической моде-
ся система Aurora Road Network Modeler (RNM) ли Даганзо [3, 4], на базе которой основан предла-
[2], бесплатный программный пакет для моделиро- гаемый надёжный симулятор.
вания и симуляций автомобильного движения на Транспортная сеть состоит из направленных
автострадах и городских улицах со светофорами соединений и узлов, где соединения представля-
на перекрёстках. Используемая в этом симулято- ют сегменты дорог, а узлы служат коммутатора-
ре макроскопическая динамическая транспортная ми соединений. Обозначим множество соединений
модель, а также метод её построения при помощи через L, а множество узлов — через N . Узел обя-
данных геоинформационных систем (ГИС) и ка- зан иметь минимум одно входное и минимум од-
либровки на основании данных измерений описы- но выходное соединение. Соединение называется
ваются в параграфе 2. обычным, если у него присутствуют начальный и
Симулятор может работать в трёх режимах. конечный узлы. Соединение без начального узла

Первый из них, режим оперативного планирова- именуется далее как въезд, соединение без конеч-
ния, используется для прогона большого числа ного узла — соответственно как выезд.
симуляций, тестирующих различные сценарии и В табл. 1 приведены параметры модели с ука-
потенциальные меры по улучшению дорожного занием возможных диапазонов их значений, а так-
движения. Сценарии могут включать перераспре- же используемые переменные. Каждое соедине-
деление транспортных потоков из-за возможных ние l ∈ L характеризуется длиной Δxl, коли-
дорожных работ, особых мероприятий или ДТП, чеством полос kl, своей фундаментальной диа-
уменьшение максимальной пропускной способно- граммой (отражающей максимальную пропуск-
сти дорог из-за плохой погоды и т.п. Конфигу- ную способность Fl, свободную скорость vl и ско-



102 ТРУДЫ МФТИ. — 2010. — Том 2, № 4
рость распространения затора wl (см. рис. 2)21, и вающей, каким образом входящие в узел потоки
учитывающей число полос. Въезды — это соеди- распределяются между выходящими из узла со-
нения, через которые автомобили попадают в си- единениями. Узлы могут использоваться не толь-
стему. С ними ассоциируются функции требуемых ко для моделирования перекрёстков, точек слия-
потоков rl(·). Каждый узел ν ∈ N характеризует- ния и разветвления дорог, но и просто для разби-
ся распределительной матрицей Bν(·), устанавли- ения длинных соединений на более короткие.

Т а б л и ц а 1
Параметры модели и переменные

Символ Описание Возможное Размерность
значение

Δxl длина соединения l ∈ L ∈ [0,05,0,4] км
kl число полос в соединении l ∈ L [ ] полосы
Δt размер временного шага ∈ 1

3600 ,
1

360 часы
Fl максимальная пропускная для 1 полосы авто/ч

способность l ∈ L ∈ [1500,2000]
vl свободная скорость в l ∈ L для автострад

∈ [90,130];
для улиц км/ч
∈ [30,70]

wl скорость распространения затора в l ∈ L ∈ [10,40] км/ч
ρl максимальная плотность автомобилей в l ∈ L для 1 полосы авто/км

∈ [95,125]
ρcl критическая плотность автомобилей в l ∈ L для 1 полосы авто/км

∈ [12,30]
t время ∑ ∈ [0,∞) часы
Bν(t) распределительная матрица в узле ν ∈ N βij(t) ∈ [0,1], безразмерна

j βij(t) = 1
rl(t) требуемый поток на въезде l ∈ L переменная авто/ч
ful(t) фактический поток, входящий в l ∈ L переменная авто/ч
fdl(t) фактический поток, исходящий из l ∈ L переменная авто/ч
Vl(t) средняя скорость потока в l ∈ L переменная км/ч
ρl(t) плотность автомобилей в l ∈ L переменная авто/км
ρ(t) вектор плотностей из всех соединений в L переменная авто/ч

дятся либо в точках, где въезды соединяются с ав-
тострадой, а выезды ответвляются от неё, либо в
точках, где меняются свойства автострады, опре-
деляемые фундаментальной диаграммой. В дан-
ном примере обычные соединения — это отрезки
автострады, идущие от одного узла до следующе-
го, въезды соответствуют попаданию на автостра-
ду, выезды — съездам с неё.

Состояние транспортной сети во время t опре-
Рис. 2. Фундаментальная диаграмма для соединения l деляется плотностью движущихся объектов (то

есть автомобилей) в каждом соединении: ρl(t),
В простом примере автострады с одним на- l ∈ L. При начальных данных ρl(t0) = ρ0

l , обычно
правлением, изображённом на рис. 3, узлы нахо- определяемых путём измерений, система развива-

21Фундаментальная диаграма — это функция потока от плотности, обычно вогнутая. В нашем случае фундаментальная
диаграмма имеет треугольную форму, как на рис. 2, определяемую тремя значениями: максимальной пропускной способно-
стью Fl, свободной скоростью (средней скоростью потока, измеряемой при малой плотности автомобилей) vl и скоростью
распространения затора (скорость, с которой волна затора распространяется в направлении обратном движению автомо-
бильного потока) wl. Альтернативно, треугольная фундаментальная диаграмма задаётся тройкой значений: максимальной
пропускной способностью Fl, критической плотностью (количеством автомобилей на километр в соединении, при котором
поток достигает максимальной пропускной способности) ρc

l и максимальной плотностью (количеством автомобилей на
километр в соединении, при котором движение полностью останавливается) ρl. Хотя в данной статье мы имеем дело с
треугольной формой, возможны и другие формы фундаментальной диаграммы, например, парабола [5], трапеция [6], или
кусочно-линейная, так называемая «развёрнутая лямбда» [7, 8].



ТРУДЫ МФТИ. — 2010. — Том 2, № 4 103
ется во времени соответственно уравнению 4. Вычислим требующий вливания поток для

Δt каждого выхода:
ρl(t+ Δt) = ρl(t) + (fu t − d ( )

Δx l( ) f l t )
l m

для всех l ∈ L ∗ ∑
[p]

, (1) j ( p
d t) = βij(t)

[ ]
di (t), j = 1, ..., n. (4)

где Δt должно удовлетворять условию i=1

Переменная ∗[0]
dj (t) обозначает полный по-

ток, требующий вливания в выходное соеди-
нение j.

Рис. 3. Простая транспортная сеть: соедине- 5. Для p = 1,...,n, и для каждого входного со-
ния пронумерованы от 1 до 6, узлы обозначены единения i = 1,...,m, повторяем
шестиугольниками{ } { } (a) при необходимости сократим требуе-

Δt  min Δxl 2
l v и Δt  min Δxl 2

l
l w . мые входные потоки так, чтобы они не

l

Для въездов ful(t) = rl(t), где rl(t) — значе- превышали фактический допускаемый
ние требуемого пото{ка во вр}емя t. Для выездов приём для соответствующего выходно-
fdl(t) = vlρl(t)min 1, Fl

v Д я б ч о
lρl(t)

. л о ы н го со- го соедин

единения l поток ful(t) определяется в соответ-
⎧ения:⎪⎪⎨ [p−1]

di (t), есл{и βip(t) = 0
ствующем ему начальном узле, а поток fdl(t) — в

},
[p]
d [p−1]
i (t) = ⎪⎪⎩ di ( )min 1 s (t

, p )
конечном. t ∗[p−1] ,

dp (t)
Узел с m входными и n выходными соедине- иначе;

ниями имеет распределительную матрицу размер-
ности m × n: Bν(t) = {βij(t)}j=1,...,n (5)

i=1,...,m. Эта матри-
ца имеет неотрицательные элементы, лежащие в (b) пересчитаем требуемые выходные пото-

ки ∗[p]
интервале [0,1], причём сумма элементов каждо- dj (t), j = 1, ..., n, по формуле (4).
го ряда равна 1. Элемент βij(t) определяет долю
потока, исходящего из входного соединения i и от- На этом шаге использовано правило «про-
ветвляющегося в направлении выходного соедине- порциональных приоритетов» для сходя-
ния j в момент t. Входные потоки fdi(t) и выход-

щихся соединений и правило очереди (пер-
ные потоки fuj(t), i = 1, ..., m, j = 1, ..., n, вычис- вый вошёл, первый вышел) для расходящих-
ляются согласно приведённому ниже алгоритму. ся соединений так, как они сформулированы

в [4]23Процедура вычисления входных и вы- .
ходных потоков узла 6. Поток, исходящий из входного соединения i:
1. Вычислим фактический допускаемый приём
для каждого выходного соединения (какой fd

[
i(t) = n]

di (t), i = 1, ..., m. (6)
поток готово принять данное выходное со-
единение): 7. Поток, входящий в выходное соединение j:

sj(t) = min{Fj,wj(ρj − ρj(t))}, j = 1, ..., n. ∑m
(2) fuj(t) = [ ]

βij(t)
n

di (t), j = 1, ..., n. (7)
Здесь индекс j обозначает номер выходного i=1

соединения.
При начальной позиции t = t0, ρ(t0) = ρ0 на

2. Установим итерацию p = 0. каждом временном шаге Δt эволюционирующей
3. Вычислим поступающий поток для каждого системы вычисляются входные и выходные пото-
входного соединени{я: } ки для всех узлов сети; затем состояние системы

обновляется по закону сохранения (1).
[0] Fi
di (t) = viρi(t)min 1, , i = 1, ..., m,

viρi(t)
(3)

где индекс i обозначает номер входного со-
единения. Переменная [0]

di (t) обозначает по-
ступающий поток, требующий выхода из
входного соединения i.

22Это необходимое условие сходимости при численном решении гиперболических уравнений в частных производных, из-
вестное как условие Куранта–Фридрихса–Леви (КФЛ) [9].

23Правило пропорциональных приоритетов означает, что каждое выходное соединение принимает автомобили из входных
потоков пропорционально интенсивности этих потоков. Правило очереди означает, что отношение доли входящего потока
из соединения i, распределённой в выходное соединение j, к входящему потоку fd

i(t) должно равняться соответствующему
элементу распределительной матрицы узла βij(t).



104 ТРУДЫ МФТИ. — 2010. — Том 2, № 4
II.2. Построение модели точек плотность–поток, когда плотность ни-

же критической.
Построение динамической модели, готовой для

симуляций, требует следующего: (1) составления 4. Используя метод наименьших квадратов с
дорожной сети с верным расположением узлов, ограничениями, найдём скорость распро-
длиной соединений и числом полос в соединениях; странения затора wl.
(2) калибровки системы, то есть идентификации
фундаментальных диаграмм для всех соединений;
(3) определения требуемых потоков для въездов
и распределительных матриц для узлов. Эта ра-
бота является, как правило, весьма трудоёмкой,
так как практически не имеется универсальных
информационных систем, собирающих в едином
месте те данные, что необходимы для выполнения
всех трёх задач.
Для начала необходимо получить картографи- Рис. 4. Идентификация фундаментальной диаграм-

ческую информацию об интересующих нас доро- мы: (а) данные высокого качества; (б) данные низкого
гах через доступные коммерческие [10, 11] или бес- качества
платные [12] геоинформационные системы (ГИС). Если данных измерений достаточно и они по-
Данные ГИС содержатся в виде специальных фай- ступают с исправных датчиков, то калибровочные
лов с более или менее детальным описанием до- шаги 1–3 дают хороший результат (рис. 4а). Одна-
рожных сегментов, которые могут быть использо- ко при низком качестве измерений (например, вви-
ваны для составления сети из узлов и соединений. ду поломки датчика либо просто потому, что на
В пакет Aurora RNM [2] входит программа GIS данном участке дороги поток не достигает макси-
Importer, конвертирующая данные ГИС в форму мальной пропускной способности (рис. 4б)) необ-
соединения-узлы. В особых случаях, например, ходимо использовать фундаментальные диаграм-
для автострад Калифорнии или автострад горо- мы соседних участков либо синтезировать недо-
да Портленд, штат Орегон, существуют общедо- стающие данные (например, при помощи спосо-
ступные информационные системы PeMS [13] и ба, предложенного в [16]) и повторить шаги 1–3.
PORTAL [14], содержащие как картографические Изображение на рис. 4 иллюстрирует тот факт,
данные, так и данные измерений с дорожных дат- что измерения в зоне свободного движения фун-
чиков. даментальной диаграммы хорошо аппроксимиру-
Данные измерений с автострадных датчиков, ются прямой линией, в то время как измерения

предлагаемые такими информационными систе- в зоне затора (правая часть диаграммы) имеют
мами, как PeMS или PORTAL, позволяют иден- больший разброс, что в свою очередь может слу-
тифицировать фундаментальные диаграммы для жить обоснованием альтернативных форм фунда-
соответствующих соединений автострады. Полное ментальной диаграммы (например, в виде трапе-
описание алгоритма калибровки дано в [15]. Здесь ции или «развёрнутой лямбды»).
мы предлагаем сжатое описание. Наиболее трудная часть калибровки соедине-

ний, моделирующих городские улицы, состоит
1. Для каждого надёжного24 датчика на вы- в оценивании их максимальной пропускной спо-
бранном участке автострады извлечём дан- собности. Если максимальная пропускная способ-
ные измерений плотности и потока. Обычно ность уличного соединения определена (из изме-
расстояние между датчиками бывает боль- рений или соображений здравого смысла), то сво-
ше, чем длина соединений в нашей модели. бодную скорость можно установить равной мак-
Поэтому извлечённые данные измерений мо- симальному ограничению, а максимальную плот-
гут относиться (и чаще всего относятся) к ность вычислить путём оценки максимального
более чем одному соединению. числа автомобилей, которые могут разместиться в

2. Среди измерений найдём максимальный по- данном соединении с последующим делением это-
ток. Обычно этот измеренный максималь- го числа на длину соединения.
ный поток и берётся за значение параметра Наконец, остаётся определить функции требу-
Fl. емого потока для въездов и распределительные

матрицы для узлов. Для автострад это осуществ-
3. Используя метод наименьших квадратов ляется при помощи данных информационных си-
для точек, определённых парой плотно- стем типа PeMS и PORTAL, предоставляющих
сть–поток, на плоскости найдём свободную измерения потоков на въездах, которые можно
скорость vl. Установим критическую плот- брать за основу при построении функций требу-
ность ρcl = Fl

v . На практике обычно прямая емого потока. Элементы распределительных мат-
l

линия хорошо аппроксимирует множество риц могут быть вычислены, исходя из измерений
24PeMS [13], например, предоставляет ежедневный бюллетень состояния для всех зарегистрированных датчиков.



ТРУДЫ МФТИ. — 2010. — Том 2, № 4 105
потоков на главной магистрали и съездах: в при- точки зрения отношения эффективности к стои-
мере, показанном на рис. 3, это будут измерения мости.
потоков fu4 и fu6. На практике, однако, измере- Приведём общие параметры оценки эффектив-
ний потоков на въездах и съездах может не быть, ности соединения.
что, к примеру, имеет место на ряде калифорний-
ских автострад. В таких случаях требуемые по- • Средняя скорость транспортного потока:
токи на въездах и распределительные матрицы fd

V l(t)
должны быть синтезированы таким образом, что- l(t) = . (8)

ρl(t)
бы потоки на основной магистрали, полученные
в результате работы динамической модели, соот- • Предполагаемое время в пути — время, необ-
ветствовали измерениям потоков на основной ма- ходимое автомобилю, чтобы проехать соеди-
гистрали. Это требует решения обратной задачи, нение от начала до конца в предположении,
являющейся некорректной по Адамару. Решение что скорость потока, зафиксированная в мо-
данной задачи неединственно. Для регуляризации мент времени t, V (t), останется постоянной:
её решения необходимо вводить дополнительные Δx
ограничения на максимальные требуемые пото- ПВПl(t) = l

. (9)
Vl(t)

ки, их вариации и значения элементов распреде-
лительных матриц. Задача синтеза недостающих • Фактическое время в пути — время, нужное
данных на автострадных въездах и съездах осве- автомобилю, чтобы проехать соединение от
щена в [17]. начала до конца, учитывая изменения в ско-

рости потока после момента времени t:
III. Оперативное планирование ФВПl(t) = Tl(t)Δt, (10)

где
Цель оперативного планирования для транс- {

τ∑− }
1

порта заключается в разработке стратегий управ- Tl(t) = argmax Vl(t+ τ ′)Δt  Δxl .
ления, призванных улучшить продуктивность пе- τ

τ ′=0
регруженных транспортных сетей. В основе опера- (11)
тивного планирования лежат измерения и базиру-
ющийся на них анализ этой продуктивности. По- • Суммарный поток, измеряемый в автомо-
добный анализ выделяет узкие места, являющие- биле-километрах, оценивает фактическую
ся причинами заторов, обозначает участки дорог пропускную способность соединения:
с повышенным риском ДТП и позволяет наметить СПl(t) = ρl(t)Vl(t)ΔxlΔt. (12)
главные элементы управляющих стратегий, кото-
рые должны облегчить нагрузку на транспорт- • Суммарная плотность, измеряемая в автомо-
ную сеть. биле-часах, отражает количество автомоби-

лей, которые провели данный отрезок вре-
Выработанные стратегии могут включать в се- мени в данном соединении:

бя увеличение пропускной способности узких мест СПЛl(t) = ρl(t)ΔxlΔt. (13)
путём строительства дополнительных полос или
таких методов оперативного управления, как ре- • Задержка, измеряемая в автомобиле-часах:
гулирование спроса, целью которого является со-
кращение перенасыщенных потоков на въездах в Зl(t) = СПЛl(t) −

СПl(t)
. (14)

транспортную сеть в пиковые часы; профилакти- vl

ка и контроль ДТП, которые концентрируют ре- • Потеря продуктивности, измеряемая произ-
сурсы служб дорожного патруля и первой помощи ведением километро-часов на число полос —
поблизости от дорожных участков с повышенным степень недоиспользования пропускной спо-
риском ДТП; предоставление информации для во- собности п{олос соединения из-за затора:дителей — ожидаемое время путешествия до опре-
делённых пунктов, предупреждение о ДТП впере- 0(, если) Vl(t) = vl,

ППl(t) = d

1 − f l(t)ди, возможные пути объезда пробки; управление F klΔxlΔt, иначе.
l

транспортным потоком, включающее регулирова- (15)
ние въездных потоков на загруженные магистра- Здесь надо обратить внимание на то, что по-
ли, динамическое ограничение скорости для более теря продуктивности зависит от числа по-
равномерного движения автомобилей, оптимиза- лос. Например, при одном и том же исхо-
ция режимов и координация светофоров в груп- дящем из соединения потоке fdl(t) и той
пах перекрёстков на городских улицах. Для опера- же самой максимальной пропускной способ-
тивного планирования нужно быстрое оценивание ности соединения Fl, потеря продуктивно-
эффективности управляющих стратегий, которое сти двухполосного соединения вдвойне пре-
в комбинации со стоимостью внедрения этих стра- вышает потерю продуктивности соединения
тегий позволяет выбрать оптимальную из них с с одной полосой.



106 ТРУДЫ МФТИ. — 2010. — Том 2, № 4
За исключением фактического времени в пути гут быть применены также для выяснения целе-

все перечисленные оценки эффективности вычис- сообразности открытия в часы пик вспомогатель-
ляются по ходу реализации тректории системы. ных и специальных полос для общего пользова-
Вычисление же фактического времени проводит- ния.
ся апостериорно, требуя знания всей траектории Особые мероприятия, влияние информации
системы. Если известны значения времени в пу- для водителей и прочие меры по перенаправлению
ти, суммарного потока, суммарной плотности, за- автомобильных потоков моделируются переклю-
держки и потери продуктивности для каждого со- чениями в распределительных матрицах. Перена-
единения сети, то можно элементарно вычислить правление потока с одного выходного соединения
эти же оценки для конкретных маршрутов внутри на другое может вызвать появление узкого места
сети. и, как следствие, затора, если максимальная про-
Соединения, представляющие городские ули- пускная способность этого другого соединения не

цы, чьи конечные узлы являются перекрёстками будет удовлетворять требуемому потоку. Колеба-
со светофорами, имеют дополнительные парамет- ния в спросе моделируются путём умножения тре-
ры эффективности, а именно следующие: задерж- буемых потоков на въздах на неотрицательные ко-
ка за цикл — число автомобиле-часов проведён- эффициенты.
ных перед светофором; размер очереди — чис- В симуляторе Aurora RNM эти переключения
ло ожидающих автомобилей в соединении; мера воплощены в качестве событий, которые пользова-
использования фазы — доля зелёной фазы цик- тель может создавать и активизировать в задан-
ла, при которой фактический поток, исходящий ные моменты времени. Влияние любого сценария
из соединения, равен требуемому потоку; нехват- на продуктивность транспортной сети возможно
ка цикла — процентная доля автомобилей, ко- быстро проверить, поскольку этот симулятор вы-
торым необходимо пережидать красный свет бо- числяет параметры эффективности для соедине-
лее одного раза; отношение потока к максималь- ний и заданных маршрутов.
ной пропускной способности, которое характери- Ещё один важный аспект оперативного плани-
зует степень использования существующей про- рования, так же, как и системы поддержки ре-
пускной способности; качество проезда — процент- ального времени, — управление потоком и оцен-
ная доля автомобилей, прибывающих к перекрёст- ка его эффективности рассматриваются в следу-
ку во время зелёной фазы. Если известны значе- ющем параграфе.
ния этих параметров для каждого входящего со-
единения узла-перекрёстка, то нетрудно оценить
эффективность перекрёстка в целом.
Для изучения поведения транспортной сети

при различных сценариях, таких как плохая пого-
да, ДТП, ремонт дороги, особые мероприятия, ко-
лебания спроса на дорогу и т.п. с помощью макро-
скопической модели (1)--(7) используем переклю-
чения параметров модели (фундаментальных диа-
грамм в соединениях и распределительных мат-
риц в узлах) либо функций требуемых потоков на
въездах в определённые моменты времени.
Переключения в фундаментальных диаграм-

мах моделируют уменьшение свободной скорости
и максимальной пропускной способности из-за
плохой погоды или блокирование полос в силу
ДТП или дорожных работ. Например, допустим
для какого-то соединения l : Fl = 6000 авто/ч,
vl = 100 км/ч, wl = 20 км/ч, в 10:00 происходит Рис. 5. Иерархия управляющих элементов: примеры
авария, блокирующая половину полос, и длится (а) локального управления (регулятор въездного пото-
до 10:30, когда движение полностью восстановле- ка); (б) узлового управления (перекрёсток со светофо-
но. Мы моделируем это ДТП, дважды переклю- ром); (в) комплексное управление (координированное
чая фундаментальную диаграмму: Fl(10) = 3000 регулирование въездных потоков)
означает начало происшествия, и Fl(10,5) = 6000
означает возвращение к обычному режиму рабо- IV. Управление транспортным
ты. Размер заторов, образующихся в результате потоком
ДТП, существенно зависит от времени реагирова-
ния на ДТП дорожно-патрульных служб. Изуче- Среди упомянутых в предыдущем параграфе
ние этой зависимости принадлежит разделу пла- элементов оперативных стратегий минимизации
нирования по профилактике и контролю ДТП. Пе- заторов, влияние таких, как регулирование спро-
реключения в фундаментальных диаграммах мо- са, профилактика/контроль ДТП или информа-



ТРУДЫ МФТИ. — 2010. — Том 2, № 4 107
ция для водителей, на поведение транспортной си- суток они меняются (такие узкие места на-
стемы является лишь косвенным. А именно оце- зываются плавающими). Зональные управ-
нить, как изменилось поведение потока в резуль- ления отвечают за координацию локальных
тате упомянутых мер, можно лишь приблизитель- регуляторов въездных потоков в своих зо-
но, но невозможно напрямую измерить. Прямое нах, в то время как главное управление от-
же и доступное измерению влияние на транспорт- слеживает местоположение узких мест и со-
ную систему достигается путём непосредственно- ответственно модифицирует конфигурацию
го управления автомобильным потоком. зональных управляющих элементов. И глав-
В макроскопической модели (1)--(7) состояние ное, и зональные управления являются ком-

соединения (плотность) эволюционирует во време- плексными.
ни согласно закону сохранения. Для всякого со-
единения l, не являющегося выездом (то есть име- Управление вводится в динамическую модель
ющего конечный узел), поток fdl, исходящий из (1)--(7) заменой формул{ы (3) выражениемэтого соединения, может быть ограничен структу- }
рой узла.25 Таким образом, управление потоками [0] Fi Ci(t,ρ(t))

d̃i (t) = viρi(t)min 1, , ,
сосредоточено в узлах. viρi(t) viρi(t)
Далее предлагается следующая иерархия i = 1, ..., m, (16)

управляющих элементов, иллюстрированная
рис. 5. где m — число входных соединений узла, а

Ci(t,ρ(t)) — управляющая функция для потока,
• Локальное управление привязано к конкрет- поступающего в узел из соединения i.
ному входному соединению узла и регули- Управление может быть программным:
рует только единственный поток, исходя- Ci(t,ρ(t)) = Ci(t) или с обратной связью. Простей-
щий из этого соединения. Пример локально- шим программным управлением является свето-
го управления — это регулятор потока при фор, регулирующий въездной поток на автостра-
въезде на автостраду, показанный на рис. 5а: ду, с фиксированной для данного времени суток
узел имеет два входных соединения, соедине- длительностью красного и зелёного сигналов. Си-
ние 1 без управления (автострада) и управ- стема светофоров с фиксированным циклом на
ляемое соединение 2 (въезд на автостраду). перекрёстке представляет собой программное уз-

ловое управление.
• Узловое управление привязано к узлу и Управление с обратной связью должно реаги-
управляет потоками, исходящими из всех ровать на состояние системы и желательно адап-
входных соединений узла. Пример узлового тироваться к специальным ситуациям типа ДТП.
управления — перекрёсток со светофором, Примером управления с обратной связью являет-
изображённый на рис. 5б. В этом примере в ся алгоритм ALINEA [18], локальное управление,
каждый момент времени управление пропус- регулирующее въездной поток на автостраду, ко-
кает только не конфликтующие между со- торое для схемы рис. 5а определяется формулой
бой потоки: одновременно могут быть пропу- A2(t,ρ3(t)) = A2(t− Δt,ρ3(t− Δt))+
щены потоки 1 и 5, 2 и 6, 3 и 7 или 4 и 8, при
этом остальные потоки блокируются. Каж- +v3(ρc3 − ρ3(t)), (17)
дое входное соединение индивидуально по- где индексы «2» и «3» относятся соответствен-
прежнему находится под контролем локаль- но к соединениям 2 и 3, а функция A2 — реко-
ного управления, но все локальные управля- мендуемое ALINEA ограничение на поток, исходя-
ющие элементы подчинены узловому управ- щий из соединения 2. Имеет смысл использовать
лению. алгоритмы управления типа ALINEA в комбина-

• Комплексное управление оперирует несколь- ции с алгоритмами управления очередью, кото-
кими локальными, узловыми или даже дру- рые должны предотвращать формирование слиш-
гими комплексными управляющими элемен- ком больших заторов на въездах, которые мо-
тами, координируя их действия ради общей гут распространиться на более узкие городские
цели. Пример комплексного управления — улицы. Наиболее известный алгоритм управления
координированное регулирование въездных очередью, так называемое преодоление очереди
потоков на автостраду, схема которого при- (queue override) выражается следующим образом:
ведена на рис. 5в. В этом примере участок Q2(t,ρ2(t)) = fu2(t) + v2(ρ2(t) − ρc2), (18)
автострады имеет два выявленных узких ме-
ста, делящих его на две зоны, 1 и 2, каждая где функция Q2 — ограничение на поток, исхо-
из которых заканчивается соответствующим дящий из соединения 2, рекомендуемое алгорит-
узким местом. Местоположения узких мест мом преодоления очереди. При включении обоих
не фиксированы, и ожидается, что в течение алгоритмов одновременно они начинают работать

25По определению, поток, исходящий из выезда, ограничен лишь максимальной пропускной способностью выезда.



108 ТРУДЫ МФТИ. — 2010. — Том 2, № 4
друг против друга: в то время как ALINEA созда- ные — одни сплошные помехи). Данные, сооб-
ёт очередь, алгоритм преодоления очереди пыта- щаемые виртуальными сенсорами, используются
ется её сократить. Таким образом, комбинирован- для формирования обратных связей при управле-
ный регулятор потока на въезде 2 имеет форму нии потоком. Изображение на рис. 6 иллюстри-

рует идею виртуальных сенсоров на абстрактном
C2(t,ρ(t)) = max{A2(t,ρ3(t)),Q2(t,ρ2(t))}. (19) уровне. В идеальных условиях (рис. 6а) управле-

ние получает информацию о состоянии системы
Координированный алгоритм ALINEA, извест- напрямую из уравнения состояния (1). Вводя вир-
ный под названием HERO [19], идея которого за- туальные датчики, мы подменяем в модели обрат-
ключается в том, чтобы сначала применять управ- ную связь по состоянию обратной связью по изме-
ление ALINEA (17) на ближайшем перед узким рению.
местом въезде на автостраду до тех пор, пока
очередь не вырастет до рекомендуемого предела,
затем надо включить ALINEA на следующем по
удалённости въезде перед узким местом, пока оче-
редь не заполнится там, и так, по мере необходи-
мости, переключаться от въезда к въезду, удаля-
ясь от узкого места, представляет собой комплекс-
ное управление. Примером комплексного управ-
ления с обратной связью, координирующего узло-
вые управления на перекрёстках со светофорами, Рис. 6. Система с обратной связью: (а) обратная связь
является алгоритм TUC [20]. по состоянию; (б) обратная связь по измерению
Ограничение скорости, фиксированное и ди- Существующие устройства измерения автомо-

намическое, также воздействует на автомобиль- бильных потоков можно условно подразделить на
ный поток через узлы. Допустим, какой-либо ре- точечные датчики, такие, как индуктивные или
гулятор скорости вычисляет желаемое ограниче- магнитные детекторы, мобильные датчики, как,
ние скорости v∗l для соединения l, тогда соответ- например, транспортные средства оборудованные
ствующее ограничение на поток, устанавливаемое приборами GPS, и пространственные устройства
соответствующим локальным управлением, имеет сбора данных, среди которых можно назвать каме-
форму ры наблюдения, спутниковую и аэрофотосъёмку.

Cl(t,ρl(t)) = v∗l ρl(t). (20)

Нередко случается, что при моделировании 1. Точечные датчики имеют фиксированное ме-
управления с обратной связью с точки зрения стоположение на дороге и работают как счёт-
уменьшения задержки и потери продуктивности чики проезжающих поверх них автомоби-
эффективность алгоритмов очень высока. Одна- лей, измеряя в определённых конфигураци-
ко как только дело доходит до внедрения этих ал- ях и скорость этих автомобилей.
горитмов в реальные транспортные системы, ре- 2. Мобильные датчики передвигаются вместе с
зультаты разочаровывают. Причина здесь лежит транспортным потоком в пространстве и вре-
в низком качестве обратной связи — из-за боль- мени и периодически сообщают свои коорди-
ших помех в измерениях либо из-за поломок в дат- наты и скорость, снабжённые временной от-
чиках, либо из-за сбоев в коммуникационном обо- меткой.
рудовании. Например, бюллетени состояния дат-
чиков PeMS [13] свидетельствуют о том, что до 3. Пространственные устройства сбора данных
30% датчиков на калифорнийских автострадах не фотографирует ситуацию на данном участке
полностью функциональны в течение года. дороги в данный момент времени, и затем из
Поэтому для симуляции алгоритмов управле- полученного снимка можно извлечь инфор-

ния с обратной связью и тестирования их эф- мацию о плотности автомобилей.
фективности в условиях, приближённых к реаль-
ным, мы предлагаем задействовать устройства из- Мы здесь моделируем точечные и мобильные
мерения в транспортную модель. Такие элемен- датчики. Каждый точечный датчик приписан к
ты мы называем виртуальными датчиками. Вир- своему соединению и его местоположение внут-
туальные датчики моделируют работу реальных ри соединения строго определено. Соединения мо-
датчиков, сообщая данные счётчиков автомоби- гут иметь по несколько точечных датчиков, при-
лей и/или скорости автомобилей с определённых писанных к ним. Конкретные модели воплощают
участков транспортной сети, основываясь на со- поведение индуктивных или магнитных детекто-
стоянии соединений сети, вычисленном посред- ров. Измерения индуктивных детекторов содер-
ством динамической модели. В каждом таком вир- жат данные счётчиков автомобилей и, возможно,
туальном датчике можно настроить свой уровень скорости. Измерения магнитных детекторов, та-
помех в диапазоне от идеального (полного отсут- ких, как, например, беспроводные сенсоры Sensys
ствия помех) до неудовлетворительного (все дан- [21] могут быть использованы для вычисления



ТРУДЫ МФТИ. — 2010. — Том 2, № 4 109
плотности автомобилей в соединении, как описа- жат в известных интервалах, F−

l  Fl  F+
l (F

−
l

но в [22]. Каждыйже мобильный датчик приписан и F+
l известны) и ρ−l  ρl  ρ+

l (ρ
−
l и ρ

+
l извест-

к конкретному маршруту между двумя пунктами ны), и соотвественно
в сети. В определённые моменты времени он сооб-
щает соединение, в котором он находится, своё ме- F− +

w−
l = l и + Fl

стоположение в этом соединении и скорость. Мо- ρ−
wl = + ,

l − F− +
l /vl ρl − Fl /vl

бильные датчики — это «автомобили-фантомы»
в том смысле, что они не оказывают влияния на а свободные скорости vl известны точно. Изобра-
состояние системы, диктуемое моделью. Примене- жение на рис. 7 иллюстрирует неопределённость в
ние мобильных датчиков возможно для вычисле- фундаментальной диаграмме. Ещё одно предполо-
ния фактического времени в пути для конкретных жение заключается в том, что распределительные
маршрутов. матрицы в узлах, Bν(t), ν ∈ N , известны точно.
Ещё одно применение виртуальных датчи-

ков — это интерфейс к реальным измеритель-
ным устройствам, данные с которых поступают в
центр управления транспортом в сыром, необрабо-
танном виде. В то же время симулятор с динами-
ческой моделью (1)--(7) исполняет функцию филь-
трации этих данных прежде, чем использовать
их для обратной связи с адаптивными управля-
ющими элементами. Гарантированное прогнозиро-
вание и основанный на нём динамический фильтр
описываются в следующем параграфе.

Рис. 7. Неопределённость в фундаментальной диа-
V. Прогноз и оценивание состояния грамме соединения l ∈ L

транспортной системы Для каждого соединения l ∈ L имеются неточ-
ные измерения исходящего потока:

Для прогнозирования и оценивания состоя-
ния транспортной сети требуется знать начальные (f)

yl (t) = ( )
fd

f
l(t) + ωl (t), (21)

условия, входные данные (требуемые потоки на
въездах) и параметры системы. Начальные усло- и скорости:
вия формируются на основе поступающих изме- (V )
рений. Будущие значения требуемых потоков за- yl (t) = Vl(t) + (V )

ωl (t). (22)
ранее неизвестны, но могут быть более или ме-
нее достоверно предугаданы, базируясь на стати- В последних двух выражениях (f)

ωl (t) ∈
∈ [− 0,(f) 0,(f)

стическом анализе данных прошлых измерений, ωl (t),ωl (t)] обозначает помеху при из-
как предлагается в [23--25]. Параметры системы, мерении потока, (V ) ,

l ( 0 V
t) ∈ [− ( ) (V )

ωl (t) 0,
ω ,ωl (t)] —

то есть фундаментальные диаграммы и распреде- помеху при изменении скорости, а ограничения
лительные матрицы также определяются на осно- 0,(f) 0, V

ωl (t) и ( )
ωl (t) известны. Таким образом, для

ве данных прошлых измерений.26 Задача измере- каждого соединения имеем оценку плотности по
ния максимальной пропускной способности и ка- измерениям:
либровки фундаментальных диаграмм исследова-
на в [15]. Как уже было упомянуто в подпарагра- ρ̂−l (t)  ρ̂l(t)  ρ̂+

l (t), (23)
фе II.2, данные измерений в левой части фунда-
ментальной диаграммы (в зоне свободного движе- где

(f) ( )
ния) хорошо аппроксимируются прямой линией, y

ρ̂− l (t) − 0, f
ωl (t)

в то время как данные в правой части фундамен- l (t) = и
(V )
yl (t) + 0,(V )

ωl (t)
тальной диаграммы (в зоне затора) имеют зна- (f)
чительный разброс. Этот разброс в комбинации y t)

ρ̂+ ( + 0,(f)

l (t) = l ωl (t)
, Vl(t) > 0. (24)

с неточностью в определении максимальной про- (V ) , V )
yl (t) − 0 (

ωl (t)
пускной способности создаёт неопределённость в Теперь мы можем сформулировать задачи,
фундаментальной диаграмме. требующие решения.
Таким образом, мы предполагаем, что значе-

ния требуемых потоков на въездах в сеть, rl(t), 1. Гарантированное прогнозирования со-
известны не точно, а лежат в известных интерва- стояния транспортной сети. Найти кри-
лах, r−l (t)  rl(t)  r+l (t) (r−l (t) и r+l (t) известны); вые ρ−(·) (лучший случай) и ρ+(·) (худший
значения максимальной пропускной способности случай) такие, что любая возможная тра-
Fl и максимальной плотности ρl, l ∈ L, также ле- ектория системы (1)-(7) с описанной выше

26Параметры Δxl известны точно, а размер временного шага Δt выбирается, исходя из значений Δxl и vl, l ∈ L так, чтобы
удовлетворялось условие КФЛ.



110 ТРУДЫ МФТИ. — 2010. — Том 2, № 4
множественной неопределённостью в требу- На рис. 8 показано, что значат выражения
емых потоках и фундаментальных диаграм- s±j (t) и s±j (t). Так как возможно ρ+

j (t) > ρ−j ,
мах, ρ(·), ограничена: то необходимо следить, чтобы всегда выпол-

нялось условие s+j (t)  0.
ρ−l (t)  ρl(t)  ρ+

l (t), t  t0, (25)

для всех l ∈ L.
2. Гарантированное оценивание состоя-
ния транспортной сети. В определённые
моменты времени t0 < τ1 < τ2 < ... < τq < ...
для каждого соединения l ∈ L использо-
вать оценку по измерениям [ρ̂−l (τ),ρ̂+

l (τ)] (ес-
ли таковые имеются) для корректировки
прогнозируемого интервала [ρ−l (τ),ρ+

l (τ)],
τ = τ1, τ2, ..., τq,....

Рис. 8. Границы фактически допускаемого приёма
V.1. Гарантированное прогнозирование для fu−

j (t) и fu+
j (t)

состояния системы

Основывясь на законе сохранения (1), опреде- 2. Установим итерацию p = 0.
лим уравнения для нижних и верхних ограниче-
ний на плотность: 3. Для каждого входного соединения

i = 1, ..., m вычислим нижние границы тре-
ρ±

Δ
l (t+ Δt) = ρ±

t
l (t) + (fu±

±
) f

Δx l (t − d
l (t)) буемого потока:

l {
F− C−

для каждого l ∈ L. (26) 1, i i (t,ρ− }
±[0]
di (t) = viρ

± ,ρ+)
i (t)min

v ± ,
iρi (t) viρ

±
i (t)

Здесь и далее символ «±» означает либо «−» (29)
для вычисления нижней (лучший случай), ли- и верхние границы{требуемого потока:бо «+» для вычисления верхней (худший слу-
чай) границы плотности. Как и раньше{, Δt }удо- F+ C+

1, i i (t,ρ− }
±[0]
di (t) = viρ

± ,ρ+)
влетворяет{усло}вию КФЛ Δt  min Δxl

l v и i (t)min
v ± , ,
iρi (t) viρ

±
i (t)

l

Δt  min Δxl
w . Для въездов fu±l

l l{(t) = r±l

{ } 1 F+ } (30)
(t). где

Для выездов fd−l (t) = vlρ
−
l (t)min , l и C−

i (t,ρ−,ρ+
v − ) =

lρl (t)

fd
+
l (t) = vlρ

+
l (t)min 1 F−

, l

v + . Для обычных со-
lρl (t) = min{Ci(t,ρ̃))|ρ−l (t)  ρ̃l  ρ+

l (t),∀ l ∈ L}
единений fu±l (t) определяется своим начальным, и
а fd±l (t) — своим конечным узлами.

C+
i (t,ρ−,ρ+

В общем случае для узла ν ∈ N сm входными, ) =
n выходными соединениями и распределительной = max{Ci(t,ρ̃))|ρ−l (t)  ρ̃l  ρ+

l (t),∀ l ∈ L}.
матрицей: Bν(t) = {βij(t)}j=1, ..., n

i=1, ..., m, значения f
d±
i ,

i = 1,...,m, и fu±j , j = 1,...,n, вычисляются соглас- Из формул (29), (30) следует, что
но следующему алгоритму. ±[0] ±[0]

di (t)  di (t), −[0] +[0]
di (t)  di (t) и

Алгоритм вычисления входных и выход- −[0] +[0]

ных потоков в лучшем и худшем случаях di (t)  di (t). На рис. 9 показано, что
значат выражения ±[0] ±[0]

di (t) и di (t).
1. Для каждого выходного соединения
j = 1, ..., n вычислим нижние границы фак-
тической приёмной способности:

s±j (t) =

= min{F−
j ,max{0,w−

j (ρ−j − ρ±j (t))}} (27)
и её верхние границы:

s±j (t) = min{F+
j ,w

+
j (ρ+

j − ρ±j (t))}. (28)
Рис. 9. Границы требуемого потока для fd−

i (t) и
Из формул (27) и (28) следует, что fd+

i (t)
s±j (t)  s±j (t), s+j (t)  s−j (t) и s+j (t)  s−j (t).



ТРУДЫ МФТИ. — 2010. — Том 2, № 4 111
4. Для каждого выходного соединения 7. Для каждого выходного соединения
j = 1, ..., n вычислим нижние границы тре- j = 1, ..., n повторяем
буемого потока:

(a) для p = 1, ..., n повторяем
m

∗± ∑
[p]

d i. сократим, если необходимо, ниж-
j (t) = βij(t)

±[p]
di (t) (31)

нюю границу требуемого потока
i=1

для лучшего случая, −[p]
di (t), что-

и его верхние границы: бы она удовлетворяла нижней гра-
нице фактической приёмной способ-

∗± m
[p] ∑ ±[p]

dj (t) = βij(t)di (t). (32) ности для худшего случая, s+p (t),
i=1 при p = j и нижней границе факти-

ческой приёмной способности для
Очевидно, что ∗±[0] ∗±[0]

di (t)  di (t), лучшего с
∗−[0] ∗+[0] ∗−[0] ∗+[
di (t)  di (t) и di (t)  0]

di (t). ⎧лучая, s−j (t), при p = j:

⎪⎪⎪
5. Для p = 1, ..., n и для каждого входного со- ⎪⎪ −[p−1]

⎪⎪ d

⎪ i (t),

⎪⎪⎪ если βip(t) = 0,
единения i = 1, ..., m повторяем: ⎪⎪ −[p−1]

(a) сократим, если необходимо, верхнюю ⎪⎨ di {(t)× }
s+(t)

−[p]
di (t) = ⎪ ×min 1, p

∗−[p−1] ,

⎪ dp (t)
границу требуемого потока для лучше-

−[p]
го случая, di (t), чтобы она удовлетво- ⎪⎪⎪⎪ если β

⎪⎪⎪⎪⎪ {ip > 0 и p = }j,−[p−1]
di (t)×

ряла верхней границе фактической при-
ёмной способности для лучшего случая, ⎪⎪ s−

s− ⎩ × (t)
min 1, j

∗−[p−1] ,
dp (t)

p (t): ⎧ если βip > 0 и p = j;

⎪⎪⎪ − (37)
[p−1]

di (t), если βip(t) = 0, ii. сократим, если необходимо, верх-
− ⎨

[p] −
di (t) = ⎪ [p−1{]⎪⎪⎩ di (t)× } нюю границу требуемого потока

+[p]

× s−p (t)
min 1, для худшего случая, di (t), чтобы

∗−[p−1] , иначе;
dp (t) она удовлетворяла верхней грани-

(33) це фактической приёмной способно-
(b) сократим, если необходимо, нижнюю сти для лучшего случая, s−p (t), при

границу требуемого потока для худше- p = j и верхней границе фактиче-
−[p]

го случая, ской приёмной способности для худ-
di (t), чтобы она удовлетво-

ряла нижней границе фактической при- шего случ
ёмной способности для худшего случая, ⎧ая, s

+
p (t), при p = j:

⎪⎪⎪⎪⎪ +[p−1]

s+p (t): ⎧⎪ ⎪
⎪ ⎪ d

⎨ ⎪ i (t),

+[p−1] ⎪
d ⎪ если βip(t) = 0,

⎪⎪⎪ +[p−1]

⎪⎨ di {(t)×i (t), если βip(t) = 0, }
−

+[p]
i (t) = ⎪ [p−1{]d ⎪⎩ di (t)× } × s−(t)

min 1, p

+[p] ∗+[p−1

× s+p (t) d d

min 1, i (t) = ⎪ ] ,

∗+[p−1] , иначе;
dp (t) ⎪⎪ p (t)

⎪
(34) ⎪⎪⎪ если βip > 0 и p = j,

⎪⎪⎪ +[p−1{]⎪ di (t)×
⎪ }

(c) пересчитаем верхние границы требуе- ⎪
мых выходных потоков для лучшего ⎪⎩ s+× (t)

min 1, j
∗+[p−1] ,
dp (t)

∗−[p] если βip > 0 и p = j;
случая, dq (t), по формуле (32) и (38)
нижние границы требуемых выходных iii. пересчитаем нижние границы тре-
потоков для худшего случая, d∗+[p]

q (t), буемых выходных потоков для луч-
по формуле (31), q = p+ 1, ..., n. шего случая, d∗−[p]

q (t), по форму-
6. Для каждого входного соединения ле (31) и верхние границы требу-

емых выходных потоков для худ-
i = 1, ..., m поток, исходящий из этого со- ∗+[p]
единения, в лучшем случае: шего случая, dq (t), по формуле

(32), q = p+ 1, ..., n;
−[n]

fd
−
i (t) = di (t), (35) (b) поток, входящий в выходное соедине-

ние j, в лучшем случае:
а в худшем случае: ∑m

fd
+
i (t) = +[n]

di (t). (36) fu−j (t) = − n
βij(t)

[ ]
di (t), (39)

i=1



112 ТРУДЫ МФТИ. — 2010. — Том 2, № 4
а в худшем сл{учае: В любое время t  t0 оценка плотности для∑ } соединения l ∈ L — это интервал [ρ−l (t),ρ+

l (t)], а
m

fu+ s+
+[n]

j (t) = min j (t), βij(t)di (t) . если t = τq, то значения ρ−l (τq), ρ+
l (τq) берутся

после корректировки (43).
i=1

(40) На рис. 10 схематично представлен алго-
ритм динамической фильтрации: для каждого

При начальной позиции t = t0, ρ−(t0) = ρ−
0 и q = 1, 2, ... множественная траектория системы

ρ+(t0) = ρ+
0 , таких, что ρ

−
l (t0)  ρ+

l (t0) для всех (26)--(40) вычисляется от τq−1 до τq, после чего
l ∈ L,27 прогнозирующая система развивается во пересекается с измерениями, а результат пересе-
времени, во-первых, вычисляя fu±l и f

d±
l по ша- чения берётся за новое начальное условие.

гам 1--7 для всех l ∈ L, и, во-вторых, вычисляя
границы плотности согласно (26) для всех l ∈ L.

V.2. Гарантированное оценивание
состояния системы

Динамическая фильтрация измерений, мно-
жественное оценивание состояния транспортной
сети — это комбинированный процесс, состо-
ящий из вычисления множества достижимо-
сти (прогноза состояния) системы (26)--(40) и
его корректировки при помощи оценок измере-
ний (23)--(24), поступающих в моменты времени
t0 < τ1 < τ2 < ...τq < .... Далее применяем мето- Рис. 10. Схема работы динамического фильтра
ды теории гарантированного оценивания, следуя Согласно теории пересечение интервалов (42)
публикациям [26--28]. должно быть непустым, иначе получается, что
Алгоритм гарантированного оценивания сделаны неверные предположения о диапазоне по-

мех при измерениях или при неопределённости в
1. В момент времени τ0 = t0 вычисляем оцен- динамической системе. Однако в реальной жизни
ку состояния по измерениям ρ̂−l (τ0), ρ̂+

l (τ0) пустые пересечения имеют место. Что делать, ес-
по формуле (24) для всех l ∈ L. ли условие (42) не выполнено, зависит от конкрет-

2. Присваиваем значения ной ситуации. Если мы доверяем модели больше,
чем измерениям, то просто отказываемся от кор-
ректировки (43). Более того, динамическую мо-

ρ−l (τ0) = ρ̂−l (τ0) и ρ+
l (τ0) = ρ̂+

l (τ0) (41)
дель (26)--(40) можем использовать для выявле-

для всех l ∈ L. ния неисправных датчиков. С другой стороны, ес-
ли полагаем, что данные измерений надёжны, то

3. Для q = 1, 2, ... повторяем: корректировка (43) превращается в

(a) вычисляем ρ−
ρ− l (τq) ← ρ̂−l (τq), и ρ+

l (τq) ← ρ̂+
l (τq). (44)

l (τq) и ρ+
l (τq) с помощью

уравнений (26)--(40) с начальными усло- Возможно, что из каких-то соединений в L из-
виями ρ−l (τq−1), ρ+

l (τq−1) для всех l ∈ L; мерения не поступают. Для таких соединений кор-
(b) получаем оценку состояния по измере- ректировка (43) не делается. Задача же наблюдае-

ниям ρ̂−l (τ0), ρ̂+
l (τ0) согласно (24) для мости (когда, например, поток измерить можно, а

всех l ∈ L; скорость нельзя или наоборот) рассмотрена в [29].
(c) в предположении,⋂что VI. Пример: автострада I-80

в Калифорнии
[ρ−l (τq),ρ+

l (τq)] [ρ̂−l (τq),ρ̂+
l (τq)] =

В качестве примера транспортной сети рас-
= ∅, (42) смотрим одну из наиболее загруженных магистра-

корректируем прогноз плотности: лей США — автостраду I-80 в районе залива
Сан–Франциско. Интересующий нас участок за-

ρ− падного направления — это 30 км, ведущие от мо-
l (τq) ← max{ρ−l (τq),ρ̂−l (τq)} и

ста Карквинес Бридж на севере восточного берега
ρ+ залива через города Сан Пабло, Ричмонд, Берк-
l (τq) ← min{ρ+

l (τq),ρ̂+
l (τq)} (43)

ли и Окленд к мосту Бэй Бридж — основной ма-
для всех l ∈ L. гистрали, соединяющей восточный берег залива с

27Начальные границы плотности могут быть получены из измерений по формуле (24).



ТРУДЫ МФТИ. — 2010. — Том 2, № 4 113
городом Сан–Франциско (см. карту на рис. 11а, ацию на дороге, имевшую место 14 января 2009
на которой начало и конец участка обозначены, года, можно убедиться, глядя на сравнительные
соответственно, буквамиА иБ). На данном участ- графики суммарного потока29 и суммарной плот-
ке автострады имеется 29 въездов, 24 съезда и ности для измерений и симуляции, где значения
57 датчиков — индуктивных детекторов, функ- берутся с интервалом в 1 час, приведённые на
ционирующих с переменным успехом. Кроме то- рис. 11б, и контурные диаграммы скорости, по-
го, при построении модели этой транспортной се- лученные в результате измерений (рис. 11в) и си-
ти нами дополнительно предусмотрено возможное муляции (рис. 11г). Контурные диаграммы следу-
регулирование потоков на отдельных въездах. Ме- ет читать так: горизонтальная ось обозначает на-
ста возможного регулирования также указаны на правление движения автомобильного потока (сле-
рис. 11а. ва направо) при длине маршрута 30 км, верти-

кальная ось — это ось времени от 0 до 24 часов
(снизу вверх), а цвет в данной точке плоскости
указывает скорость в данной точке маршрута в
данное время соответственно приведённой рядом
шкале30.
Одним из элементов оперативного планирова-

ния является тестирование потенциальных стра-
тегий управления на предмет того, насколько вы-
годно их внедрение. В данном примере мы про-
гнали по 50 стохастических симуляций для каж-
дой из трёх конфигураций: (1) с регулированием
въездных потоков по методу ALINEA [18] в ме-
стах, указанных на рис. 11а; (2) с комбинирован-
ным регулированием ALINEA и преодоления оче-
реди в этих же местах; (3) без всякого управления,
то есть, как это происходит в реальной жизни на
данный момент. Стохастика симуляций состоит в
том, что для каждой из них максимальные про-
пускные способности соединений выбирается слу-
чайным образом из диапазона ±5% от значений,
полученных в результате калибровки, а разброс
значений требуемых потоков на въездах состав-

Рис. 11. Модель западного направления автострады ляет ±25% от данных на 14 января 2009 года.
I-80 с данными автомобильных въездных потоков на На рис. 12 приведены результаты этих стохасти-
14 января 2009 года, где (а) карта автострады — по- ческих симуляций, показанные в виде зависимо-
ток движется от пункта А к пункту Б; (б) суммарный сти задержки от суммарного потока за сутки для
поток и суммарная плотность — сравнение измерений транспортной сети. Значения суммарного потока
(PeMS) с результатом симуляции (Aurora RNM) (зна- характеризуют спрос. Очевидно, что при низком
чения даны из расчёта за 1 час, а суммарный поток спросе (малых значениях суммарного потока) за-
указан в автомобиле-милях); контурные диаграммы держка отсутствует, и нет различия между кон-
скорости (скорость указана в милях в час) (в) по из- фигурациями с управлением и без. Зато при вы-
мерениям, (г) по результатам симуляции соком спросе (больших значениях суммарного по-
Построение сети, состоящей из соединений и тока) наблюдается большой разброс в значениях

узлов, и калибровка фундаментальных диаграмм задержки: в конфигурации без управления раз-
соединений есть первый этап в исследовании ин- брос значений задержки для одного и того же
тересующей нас дороги. Далее, чтобы проверить суммарного потока составляет около 8000 автомо-
правильность полученной модели, нами выбраны биле-часов в сутки, что, из консервативного расчё-
дни, когда по данным системы PeMS [13] количе- та: 1 автомобиль = 1 человек и стоимости 1 часа
ство неисправных датчиков было минимальным, водителя равной 50 долларам, составляет 200 ты-
а качество измерений соответственно наилучшим. сяч долларов в сутки. При регулировании въезд-
Примером такого дня может служить среда, 14 ных потоков разброс значений задержки незначи-
января 2009 года.28 В том, что предлагаемая на- телен, а сами значения существенно ниже, чем в
ми модель хорошо воспроизводит реальную ситу- конфигурации без управления.

28На самом деле, мы не ограничиваемся одним днём, но стараемся собрать, по меньшей мере, по одной конфигурации на
каждый день недели, так как наблюдения показывают, что хотя автомобильные потоки на одной и той же дороге отличаются
друг от друга день ото дня, их поведение качественно повторяется в одни и те же дни недели. В нашем же случае 14 января
2009 года является прототипом среднестатистической среды на западном направлении автострады I-80.

29Значения суммарного потока указаны в автомобиле-милях.
30Скорость на контурных диаграммах указана в милях в час: учитывая, что 1 миля примерно равна 1,6 км, 70 миль/ч

соответствует, примерно, 112 км/ч.



114 ТРУДЫ МФТИ. — 2010. — Том 2, № 4
трёх параметров сократились по сравнению с кон-
фигурацией без управления, сама потеря продук-
тивности сократилась значительно сильнее, чем
задержка. Это произошло потому, что задержка
частично переместилась из заторов на автостраде
в очереди на въездах.

Рис. 12. Зависимость задержки за сутки, исчисляе-
мой в автомобиле-часах, от суммарного потока за сут-
ки, указанного в автомобиле-милях, для транспорт-
ной сети по результатам 50 стохастических симуля-
ций с каждой из трёх конфигураций, (1) с регулято-
рами типа ALINEA на въездах, (2) с регуляторами
ALINEA в комбинации с преодолением очереди и (3)
без управления
Рассмотрим пример краткосрочного прогнози- Рис. 13. Прогноз оценок эффективности западного на-

рования. Исходя из данных контурной диаграммы правления автострады I-80, суммарного потока (СП),
скорости на рис. 11г, затор на дороге начинается суммарной плотности (СПЛ), задержки (З), потери
после 6 часов утра. Представим себя на месте дис- продуктивности (ПП) в конфигурациях (а) без управ-
петчера, контролирующего автостраду I-80 в 6:00, ления; (б) с регулированием въездных потоков при
в среду. Оценив неопределённость в максималь- помощи комбинации алгоритмов ALINEA и преодоле-
ных пропускных способностях в ±1,5% и неопре- ния очереди. Значения оценок эффективности даны
делённость в предполагаемых требуемых потоках из расчёта за 1 минуту. Суммарный поток указан в
на въездах — в ±2% на ближайшие два часа (с 6 автомобиле-милях

до 8 утра), далее можем вычислить границы плот- Далее введём в действие сценарий — ДТП. Ме-
ности для всех соединений сети, а следовательно сто гипотетической аварии обозначено на рис. 11а
и оценки эффективности для лучшего и худшего как место повышенного риска ДТП. Система
случаев: суммарного потока, суммарной плотно- PeMS предоставляет статистику зарегистрирован-
сти, задержки и потери продуктивности. Графики ных ДТП на автострадах Калифорнии. На кон-
этих оценок изображены на рис. 13а: период с 5:00 турной диаграмме ДТП (см. рис. 14а) обозначе-
до 6:00 уже в прошлом, и для него имеются изме- но место и время, когда и где подобные проис-
рения, определяющие наши начальные условия в шествия происходят наиболее часто — это место
6:00, а период с 6:00 до 8:00 — это ближайшее бу- мы и называем местами повышенного риска, а фо-
дущее, для которого рассчитывается прогноз. За- тография его приведена на рис. 14б. Хотя наибо-
метим, что для суммарной плотности, задержки лее вероятное время ДТП согласно контурной диа-
и потери продуктивности кривые лучшего и худ- грамме на рис. 14а между 7 и 8 часами утра, пред-
шего случаев определяют границы, между кото- положим, что ДТП произойдёт несколько рань-
рыми гарантированно будут лежать соответству- ше, в 6:35, и половина полос (две из четырёх)
ющие параметры реальной системы (если не про- будут блокированы в течение 15 минут, после че-
изойдёт ничего неожиданного, например, аварии). го движение будет полностью восстановлено.31 Ре-
Для суммарного потока кривые лучшего и худше- зультат прогноза для сценария ДТП приведён на
го случаев не являются границами, они могут пе- рис. 14в — задержка, достигающая в худшем слу-
ресекаться, так как более высокое значение пото- чае 65, а в лучшем 47 автомобиле-часов в минуту,
ка не всегда соответствует более высокому (или и 14г — контурные диаграммы скорости для луч-
более низкому) значению плотности и наоборот. шего и худшего случаев. Данные на этих рисун-
На рис. 13б изображены графики тех же оценок, ках получены в предположении, что управление
но при включенных регуляторах ALINEA в ком- отсутствует. В качестве возможных мер по пре-
бинации с преодолением очереди на въездах, ука- одолению последствий ДТП предлагаются следу-
занных на рис. 11а. Здесь наблюдается сужение ющие три оперативные стратегии.
прогнозируемых интервалов для суммарной плот- Стратегия 1 заключается в том, чтобы
ности, задержки и потери продуктивности, то есть ещё не дожидаясь аварии, включить регуляторы
система стала более предсказуемой. Следует об- ALINEA с преодолением очереди на въездах, ука-
ратить внимание на то, что хотя значения этих занных на рис. 11а и 15а, и более ничего не де-

31Мы выбрали время ДТП так, чтобы вред, нанесённый им дорожному движению и продуктивности транспортной сети,
был максимальным. Это случится, если ДТП произойдёт перед самым началом формирования затора в обычных условиях,
то есть когда интенсивность движения резко возрастает.



ТРУДЫ МФТИ. — 2010. — Том 2, № 4 115
лать. То есть следует осуществлять обычное регу-
лирование въездных потоков, в принципе никак
не связанное с ДТП. Тем не менее это даёт хо-
роший результат. Данные прогноза для сценария
ДТП при вводе в действие стратегии 1 приведёны
на рис. 16а. Здесь видно, что задержка в худшем
случае сократится до 47, а в лучшем до 37 автомо-
биль-часов в минуту, и на контурных диаграммах
скорости видно, что существенно уменьшились зо-
ны затора.

Рис. 15. Стратегии преодоления последствий ДТП на
западном направлении автострады I-80, где (а) кар-
та для стратегий 1 (регулирование въездных потоков)
и 2 (регулирование въездных потоков в сочетании с
ограничением скорости); (б) карта для стратегии 3
(регулирование въездных потоков в сочетании с при-
нуждением к объезду)

Рис. 14. Сценарий возможного ДТП на западном на-
правлении автострады I-80 в 6:35 утра длительностью
15 минут, где (а) контурная диаграмма частоты ДТП
между 6 и 8 часами утра (источник PeMS); (б) фото-
графия места гипотетического ДТП (источник Google
Maps); (в) прогноз задержки, вычисленный симуля-
тором Aurora RNM (задержка указана в автомобиле-
часах за 1 минуту); (г) контурные диаграммы скоро-
сти для двух крайних случаев, лучшего и худшего, вы-
численные симулятором Aurora RNM (скорость указа-
на в милях в час)

Стратегия 2 состоит в том, что к указанно-
му выше регулированию при помощи ALINEA, с
преодолением очереди, добавляется ограничение,
требующее снижения скорости до уровня от 60
до 80 км/ч. Оно устанавливаетcя на участке ав-
тострады непосредственно перед ДТП, обозначен-
ном на рис. 15б. Результат прогноза, как видно из
рис. 16б, оказывается лучше, чем в конфигурации Рис. 16. Сравнение эффективности стратегий преодо-
без управления. Он однако хуже, чем у стратегии ления последствий ДТП на западном направлении ав-
1, а именно, задержка в худшем случае достигает тострады I-80, где (а) диапазон прогнозируемой за-

55, а в лучшем — 44 автомобиле-часов в минуту, держки и скорости в случае ввода в действие стра-
тегии 1; (б) диапазон прогнозируемой задержки и ско-

причём соответствующие зоны затора на контур- рости в случае ввода в действие стратегии 2. На обоих
ных диаграммах скорости оказываются больше, графиках задержка указана в автомобиле-часах за 1
чем на рис. 16а. минуту, а скорость — в милях в час



116 ТРУДЫ МФТИ. — 2010. — Том 2, № 4
чительно уменьшились зоны заторов. На рис. 17б
приведены диапазоны предполагаемого времени в
пути для маршрутов, включающих объезды через
Карлсон и Сэнтрал: с точки зрения предполагае-
мых временных затрат объезд через Карлсон де-
шевле. Стратегия 3 является важным примером
профилактики и контроля ДТП, о которых гово-
рилось в параграфе III.

VII. Заключение

Данные измерений транспортных потоков как
собранные за относительно длительный период
(несколько месяцев или лет), так и поступающие
в реальном времени, питающие быстрый и надёж-
ный симулятор, позволяют создать базу для ра-
боты с аналитической моделью АУТС. Высокая
скорость симуляций транспортных сетей долж-

Рис. 17. Результат использования стратегии 3 для пре- на позволить диспетчеру проанализировать де-
одоления последствий ДТП на западном направлении сятки возможных оперативных стратегий в тече-
автострады I-80, где (а) диапазон прогнозируемой за- ние нескольких минут. Микромоделирование та-
держки и скорости в случае ввода в действие стра- ким требованиям не отвечает. В данной статье
тегии 3 (задержка указана в автомобиле-часах за 1 предлагается использовать макромоделирование,
минуту, а скорость — в милях в час); (б) сравнение которое кроме быстроты вычислений ещё и на-
прогнозируемых диапазонов предполагаемого време- дёжно, — во-первых, потому что адекватно отоб-
ни в пути для объездных маршрутов через Карлсон ражает поведение транспортной сети, и во-вто-
и Сэнтрал (предполагаемое время в пути указано в рых, потому что параметры макромодели напря-
минутах) мую идентифицируются по данным измерений.
Стратегия 3 интересна тем, что она специ- При наличии необходимых измерений калибров-

ально разработана на случай ДТП на западном ка предлагаемой макромодели не требует особо-
направлении автострады I-80, в окрестности ука- го искусства. Возможное отсутствие измерений на
занного места. Теперь в дополнение к регулирова- въездах и съездах конкретной автострады частич-
нию ALINEA с преодолением очереди предлагает- но компенсируется синтезом отсутствующих дан-
ся две возможности объезда зоны ДТП с после- ных.
дующим возвращением на I-80. Схема объездов Поведение и продуктивность транспортной се-
представлена на рис. 15б. Дело в том, что место ти при различных сценариях и управляющих
ДТП находится перед самым слиянием двух авто- стратегиях оценивается при помощи таких пара-
страд — западного направления I-80 и восточного метров, как скорость потока, фактическое время в
направления I-580. До места соединения этих двух пути для соединений или конкретных маршрутов,
автострад интенсивность движения на I-580 суще- а также таких, как суммарный поток, суммарная
ственно ниже, чем на I-80. Поэтому её пропускную плотность, задержка и потеря продуктивности, ко-
способность возможно использовать для перерас- торые могут быть вычислены как для отдельных
пределения нагрузки. Система Aurora RNM поз- соединений, так для конкретных маршрутов и для
воляет очень быстро модифицировать сеть, доба- всей сети в целом. Для городских перекрёстков со
вив объездные пути и создав переключения в рас- светофорами существуют дополнительные оценки
пределительных матрицах так, чтобы, к примеру, эффективности: задержка за цикл, размер очере-
25% автомобилей перенаправлялось с I-80 на I-580 ди, мера использования фазы, нехватка цикла, от-
через съезды соответственно на бульвар Карлсон ношение потока к максимальной пропускной спо-
и на Сэнтрал авенью. Оба объезда включают в собности и качество проезда.
себя городские улицы с регулируемыми перекрёст- Прямое управление транспортным потоком в
ками, содержащими светофоры. Требуемый поток нашей модели осуществляется в узлах сети. Ло-
для въезда с I-580 на I-80 из первоначальной се- кальное управление отвечает за поток, исходя-
ти перенаправляется в объезд, на новый въезд к щий из одного конкретного входного соединения.
I-580 в таких размерах, чтобы не создавать затор Узловое управление отвечает за все входные по-
на I-580. Как видно из рис. 17а, стратегия 3 суще- токи для данного узла. Комплексное управле-
ственно улучшает работу транспортной сети: за- ние координирует несколько локальных, узловых
держка полной сети, включающей объезды, сокра- или комплексных управляющих элементов. Тако-
тилась в худшем случае до 36, а в лучшем до 27 ва иерархия управления. Для симуляции алгорит-
автомобиле-часов в минуту, а на контурных диа- мов управления с обратной связью и проверки
граммах скорости для маршрута без объезда зна- их эффективности в близких к реальным услови-



ТРУДЫ МФТИ. — 2010. — Том 2, № 4 117
ях мы подменяем обратную связь по состоянию сегодняшний день противоречивые технологии,
обратной связью по измерению, используя вирту- как динамическое ограничение скорости с точ-
альные датчики. Виртуальные датчики моделиру- ки зрения улучшения продуктивности транспорт-
ют работу реальных измерительных устройств, у ной сети. Также интересной задачей является ко-
которых качество измерений находится в диапа- ординация регуляторов потоков при въездах на
зоне от идеального (полное отсутствие помех) до автострады с сигналами светофоров на ближай-
неудовлетворительного (одни сплошные помехи). ших крупных городских перекрёстках. Цель —
Важно, что виртуальные датчики могут служить выработка оперативных стратегий управления ав-
интерфейсом к реальным измерительным устрой- тострадой и окружающими городскими улицами
ствам. как единой системой.
Симулятор имеет три рабочих режима. Пер- Важным элементом полностью функциональ-

вый — это режим оперативного планирования; он ного динамического фильтра является автомати-
используется для проигрывания сценариев, раз- ческий детектор сбоев для датчиков, работающий
работки и тестирования оперативных стратегий. в реальном времени. В случае, если условие (42)
Второй — это режим динамического фильтра, ис- не выполнено, должно быть принято решение, че-
пользуемый в реальном времени для улучшения му доверять — модели или измерениям. При этом
качества данных в алгоритмах управления с об- датчики должны оцениваться не сами по себе,
ратной связью. Третий режим — это прогнозиро- а во взаимодействии со своими соседями, с ис-
вание ближайшего будущего состояния системы, пользованием данных об их исправности в про-
в котором рассчитываются ограничения на это со- шлом, а также такой дополнительной информа-
стояние на ближайшие один-два часа. Они основы- ции, как, например, вызовы дорожно-патрульных
ваются на текущих измерениях, а также на пред- служб и т.п.
полагаемых значениях требуемых потоков и рас-
пределительных матриц при различных возмож- Литература
ных оперативных стратегиях, дабы помочь дис- 1. TOPL Project http://path.berkeley.edu/topl
петчеру выбрать наиболее подходящую для дан- 2. Aurora RNM Homepage
ной ситуации. Предлагаемый пример с автостра- http://code.google.com/p/aurorarnm
дой I-80 в Северной Калифорнии иллюстрирует 3. Daganzo C.F. The cell transmission model:
отдельные элементы АУТС в контексте данной A dynamic representation of highway traffic
статьи. consistent with the hydrodynamic theory //
Динамическая модель, инструменты для по- Transportation Research — 1994. — V. 28, N. 4. —

строения транспортной сети, отдельные алгорит- P. 269--287.
мы управления, локальные, узловые и комплекс-
ные, а также алгоритмы гарантированного про- 4. Daganzo C.F. The cell transmission model
гнозирования и оценивания воплощены в бесплат- II: Network traffic // Transportation Research —
ном программном пакете Aurora RNM [2]. 1995. — V. 29, N. 2. — P. 79--93.
В заключение наметим возможные направле- 5. Greenshields B. A study of highway capacity

ния будущих исследований. // Proceedings of the 14th annual meeting of the
Highway Research Board. — 1934.

Для улучшения процесса калибровки модели
необходимо разработать механизм оценки каче- 6. Munõz L., Sun X., Horowitz R., Alvarez L.
ства используемых измерений, так как парамет- Traffic density estimation with the cell transmission
ры модели могут быть правильно идентифициро- model // Proceedings of the 2003 American Control
ваны лишь на основе данных с исправных датчи- Conference. — 2003. — P. 3750--3755.
ков. Даже такая качественная информационная 7. Kerner B.S. Experimental features of self-
система, как PeMS [13], которая сообщает данные organization in traffic flow // Physical Review
об исправности датчиков, часто ошибочно выдаёт Letters. — 1998. — V. 81, N. 17.
неисправные датчики за исправные. 8. Orosz G., Wilson R.E., Szalai R., Stepan G.
Для оперативного планирования необходимо Exciting traffic jams: Nonlinear phenomena behind

подразделять моделируемый в макроскопической traffic jam formation on highways // Physical
среде транспортный поток на классы, как, напри- Review, E. — 2009. — V. 80, N. 4.
мер, общественный транспорт (автобусы, троллей- 9. Courant R., Friedrichs K., Lewy H.
бусы), тяжёлые грузовики, обычные автомобили Über die partiellen Differenzengleichungen
и т.п., отдельные из которых могут использовать der mathematischen Physik // Mathematische
полосы специального назначения. Другие задачи Annalen. — 1928. — V. 100, N. 1. — P. 32--74.
состоят в быстром приблизительном расчёте эмис- 10. Navteq Corporatio http://www.navteq.com
сий и потребления бензина, а также возможном 11. Tele Atlas http://www.teleatlas.com
влиянии оплаты проезда на транспортную ситуа- 12. OpenStreetMap Project
цию. http://www.openstreetmap.org
В области управления транспортным потоком 13. PeMS Homepage

стоит подробнее изучить такие существующие на http://pems.eecs.berkeley.edu



118 ТРУДЫ МФТИ. — 2010. — Том 2, № 4
14. PORTAL Homepage 22. Papageorgiou M., Varaiya P. Link vehicle-

http://portal.its.pdx.edu count — the missing measurement for traffic control
15. Dervisoglu G., Gomes G., Kwon J., // Proceedings of the 12th IFAC Symposium on

Muralidharan A., Varaiya P. Automatic Calibration Control in Transportation Systems. — 2009.
of the Fundamental Diagram and Empirical 23. Lin W.H. Spillovers, merging traffic and the
Observations on Capacity // 88 Annual Meeting morning commute // Proceedings of the 4th IEEE
of the Transportation Research Board, Washington, Intelligent Transportation Systems Conference,
D.C., USA. — 2008. Oakland, CA. — 2001.
16. Chen C., Kwon J., Skabardonis A., 24. Okutani I., Stephanedes Y.J. Dynamic

Varaiya P. Detecting errors and imputing missing prediction of traffic volume through Kalman filtering
data for single loop surveillance systems // theory // Transportation Research, B. — 1984. —
Transportation Research Record. — 2003. — V. 18. — P. 1--11.
N. 1855. — P. 160--167. 25. Smith B.L., Williams B.M., Oswald R.K.
17. Muralidharan A., Horowitz R. Imputation Comparison of parametric and nonparametric

of ramp data flow for freeway traffic simulation models for traffic flow forcasting // Transportation
// Transportation Research Record. — 2009. — Research, C. — 2002. — V. 10. — P. 303--321.
N. 2099. — P. 58--64. 26. Кощеев А.С., Куржанский А.Б. Адап-
18. Papageorgiou M., Hadj–Salem H., тивное оценивание эволюции многошаговых си-

Blosseville H.M. ALINEA: A local feedback стем в условиях неопределённости // Известия
control law for onramp metering // Transportation АН СССР. Техническая кибернетика. — 1983. —
Research Record. — 1991. — N. 1320. Т. 2. — С. 72--93.
19. Papamichail I., Papageorgiou M., Vong V., 27. Kurzhanski A.B. Identification — a theory of

Gaffney J. HERO Coordinated Ramp Metering guaranteed estimates // From Data to Model, (ed.)
Implemented at Monash Freeway, Australia // 89th J.C. Willems, Springer Verlag. — 1989. — P. 135--214.
Annual Meeting of the Transportation Research 28. Milanese M., Norton J., Piet–Lahanier H.,
Board, Washington, D.C., USA. — 2010. Walter É. Bounding Approaches to System
20. Diakaki C., Papageorgiou M., McLean T. Identification // Springer Verlag. — 1996.

Integrated Traffic–Responsive Urban Corridor 29. Kurzhanskiy A.A. Set-valued estimation of
Control Strategy in Glasgow, Scotland // freeway traffic density // Proceedings of the 12th
Transportation Research Record. — 2000. — IFAC Symposium on Control in Transportation
N. 1727. — P. 101--111. Systems. — 2009.
21. Sensys Networks

http://www.sensysnetworks.com Поступила в редакцию 15.10.2010.