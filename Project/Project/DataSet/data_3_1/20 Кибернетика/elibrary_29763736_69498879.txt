ПРИКЛАДНАЯ ДИСКРЕТНАЯ МАТЕМАТИКА

2017 Математические основы интеллектуальных систем №36

МАТЕМАТИЧЕСКИЕ ОСНОВЫ
ИНТЕЛЛЕКТУАЛЬНЫХ СИСТЕМ

УДК 519.7
О НЕИЗБЫТОЧНОМ ПРЕДСТАВЛЕНИИ МИНИМАКСНОГО

БАЗИСА СТРОГИХ АССОЦИАТИВНЫХ ПРАВИЛ
В.В. Быкова, А.В. Катаева

Сибирский федеральный университет, г. Красноярск, Россия

Ассоциативные правила— тип зависимостей между данными, которые отражают,
какие признаки или события встречаются совместно и насколько часто это проис-
ходит. Строгие ассоциативные правила представляют интерес для тех приложе-
ний, где требуется высокая степень уверенности в установленных зависимостях
между данными, например, в информационной безопасности, анализе компью-
терных сетей и медицине. Чрезмерно большое число выявленных правил суще-
ственно усложняет их экспертизу и применение. Для решения этой проблемы
предложен алгоритм MClose, расширяющий возможности известного алгоритма
Close. Алгоритм Close формирует минимаксный базис, в котором каждое строгое
ассоциативное правило имеет минимальную посылку и максимальное следствие.
Однако в минимаксном базисе остаются избыточные строгие ассоциативные пра-
вила. Алгоритм MClose в процессе построения минимаксного базиса распознаёт
избыточные строгие ассоциативные правила и устраняет их. Предложенный ал-
горитм основан на свойствах замкнутых множеств. Доказаны выводимости, ар-
гументирующие корректность алгоритма MClose.

Ключевые слова: соответствия Галуа, замкнутые множества, строгие ассо-
циативные правила, неизбыточность, минимаксный базис.

DOI 10.17223/20710410/36/9

ON THE NON-REDUNDANT REPRESENTATION OF THE MINIMAX
BASIS OF STRONG ASSOCIATIONS

V.V. Bykova, A.V. Kataeva
Siberian Federal University, Krasnoyarsk, Russia

E-mail: bykvalen@mail.ru, kataeva_av@mail.ru

Associative rules are the type of dependencies between data that reflect which fea-
tures or events occur together and how often this happens. Strong associative rules are
of interest for those applications where a high degree of confidence of dependencies
is required. For example, they are used in information security, computer network
analysis and medicine. Excessively large number of identified rules significantly com-
plicates their expert analysis and application. To reduce the severity of this problem,
we propose the MClose algorithm, which extends the capabilities of the well-known
algorithm Close. The Close algorithm forms a minimax basis in which each strong
associative rule has a minimum premise and a maximal consequence. However, in the



114 В. В. Быкова, А. В. Катаева

minimax basis, some redundant strong associative rules remain. The MClose algo-
rithm recognizes and eliminates them in the process of constructing a minimax basis.
The proposed algorithm is based on the properties of closed sets. Its correctness is
proved by proving the reflexivity, additivity, projectivity, and transitivity properties
of strong associative rules.

Keywords: Galois connection, closed sets, strong association rules, non-redundant,
minimax basis.

Введение
При поиске ассоциативных правил анализируемое множество данных обычно опи-

сывается бинарным контекстом—матрицей, строки которой отвечают объектам пред-
метной области, а столбцы— признакам этих объектов. Единичное значение элемента
матрицы трактуется как наличие у объекта соответствующего признака, а нулевое —
как его отсутствие. Бинарное представление данных существенно расширяет матема-
тический аппарат для их исследования. Современные методы поиска ассоциативных
правил базируются преимущественно на анализе формальных понятий и теории веро-
ятностей [1 – 3]. Анализ формальных понятий, как прикладная ветвь алгебраической
теории решёток, является удобным математическим аппаратом описания методов по-
иска ассоциативных правил [4 – 6].

Главная проблема при поиске ассоциативных правил— это огромное число правил,
возникающих при анализе больших контекстов. Для решения этой проблемы исполь-
зуются различные меры значимости правил. С их помощью правила фильтруются и
для анализа предъявляются только те, для которых значения мер превышают задан-
ные пороговые значения. Подобная фильтрация, конечно, уменьшает число правил, но
не решает проблему размерности полностью. Часто после фильтрации всё равно оста-
ётся значительное число правил, при этом многие из них избыточные. Ассоциативное
правило считается избыточным, если его удаление из множества правил не приводит
к потере информации о связях между данными в рассматриваемой предметной обла-
сти.

Множество ассоциативных правил, не содержащее избыточных (в некотором смыс-
ле) правил, принято называть базисом. Существуют различные формальные определе-
ния избыточных ассоциативных правил и методы их устранения [7]. Наиболее развиты
методы устранения избыточности для строгих ассоциативных правил. Для таких ассо-
циативных правил имеется плотная параллель с функциональными зависимостями из
теории реляционных баз данных [8]. Строгие ассоциативные правила имеют достовер-
ность, равную единице, и представляют интерес для приложений, где требуется вы-
сокая степень уверенности в установленных зависимостях между данными, например,
в информационной безопасности, анализе компьютерных сетей и медицине [9 – 11].

В настоящее время известен ряд алгоритмов, позволяющих строить различные ба-
зисы для строгих ассоциативных правил. Наиболее значимыми базисами являются
канонический и минимаксный. Канонический базис (или базис Дюкена — Гига) со-
стоит из минимального числа строгих ассоциативных правил, рекуррентно описывае-
мых в терминах псевдосодержаний [12]. Канонический базис математически глубоко
исследован, однако все предложенные на сегодняшний день алгоритмы его построе-
ния в большей степени представляют теоретический, чем практический интерес [13].
Минимаксный базис состоит из строгих ассоциативных правил, имеющих минималь-
ную посылку и максимальное следствие [14]. Для минимаксного базиса имеются хо-



О неизбыточном представлении минимаксного базиса 115

рошо апробированные алгоритмы, к которым относится алгоритм Close [7, 15]. Иссле-
дования показали, что в построенных канонических и минимаксных базисах остаётся
некоторая избыточность, которая может быть устранена на основе выводимостей, по-
добных аксиомам Амстронга, известным в теории реляционных баз данных для функ-
циональных зависимостей.

В данной работе для строгих ассоциативных правил предложен алгоритм MClose,
расширяющий возможности алгоритма Close. Алгоритм MClose позволяет в процессе
построения минимаксного базиса устранять избыточность с сохранением поддержки
и достоверности без дополнительного обращения к исходному бинарному контексту.
Доказаны выводимости, обосновывающие корректность алгоритма MClose. Доказа-
тельство этих выводимостей — основной результат работы.

1. Основные термины и обозначения анализа формальных понятий
Приведём термины и обозначения, традиционно применяемые в анализе формаль-

ных понятий [4 – 6].
Пусть для предметной области определены два непустых конечных множества G

и M объектов и признаков соответственно (от немецких слов Gegenstände — объект,
Merkmale —признак). Предполагаем, что все объекты в G и признаки в M различ-
ны. Пусть задано отношение I ⊆ G × M инцидентности между G и M . Тройку
K = (G,M, I) принято называть формальным контекстом (или просто контекстом)
предметной области. Считаем, что существование в I пары (g,m) означает, что объ-
ект g имеет признак m, и наоборот — признак m присущ объекту g.

Выберем в K = (G,M, I) два произвольных элемента g ∈ G и m ∈ M . Определим
для них два отображения φ и ψ:

φ(g) = {m ∈M : (g,m) ∈ I} , ψ(m) = {g ∈ G : (g,m) ∈ I} ,
где φ(g) —множество признаков, присущих объекту g, а ψ(m) —множество объектов,
обладающих признаком m.

Отображения φ и ψ обо⋂бщаются на A ⊆ G и B ⊆M следующим образом:

φ(A) = ⋂ φ(g) = {m ∈M : ∀g ∈ A ((g,m) ∈ I)} ,
g∈A

ψ(B) = ψ(m) = {g ∈ G : ∀m ∈ B ((g,m) ∈ I)} .
m∈B

Отсюда φ(A) —множество признаков, общих для всех объектов из A, а ψ(B) —множе-
ство объектов, которые обладают всеми признаками из B. Отображения φ и ψ опре-
делены так, что если A1, A2 ⊆ G и B1, B2 ⊆M , то

φ(A1 ∪ A2) = φ(A1) ∩ φ(A2), ψ(B1 ∪B2) = ψ(B1) ∩ ψ(B2).

Целесообразно положить, что φ(∅) = M и ψ(∅) = G: пустому множеству объектов
присущи все признаки из M и каждый объект рассматриваемого контекста K обла-
дает пустым множеством признаков. Если для отображений φ и ψ применить единое
обозначение (·)′, то формулы для φ(A), ψ(B), φ(A1 ∪ A2) и ψ(B1 ∪ B2) записываются
так: ⋂

A′ = ⋂ g′ = {m ∈M : ∀g ∈ A ((g,m) ∈ I)} ; (1)
g∈A

B′ = m′ = {g ∈ G : ∀m ∈ B ((g,m) ∈ I)} ; (2)
m∈B



116 В. В. Быкова, А. В. Катаева

(A1 ∪ A2)′ = A ′
1 ∩ A ′

2 ; (3)
(B1 ∪B ′

2) = B ′ ′
1 ∩B2 . (4)

Если g ∈ G иm ∈M , то обозначения g′ иm′ традиционно служат сокращённой формой
записи множеств φ(g) = {g}′ и ψ(m) = {m}′ соответственно.

Из определения отображений «′» вытекают свойства, которые формально можно
выразить в виде следующих утверждений.

Утверждение 1. Для всякого контекста K = (G, M, I) и любых B1, B2 ⊆ M
верны следующие свойства:

— антимонотонность: если B1 ⊆ B2, то B ′ ⊆ B ′
2 1 ;

— экстенсивность: B1 ⊆ B ′′
1 , где B ′′ ′

1 = ((B ′
1) ) ⊆M .

Утверждение 2. Для всякого контекста K = (G, M, I) и любых A1, A2 ⊆ G
верны следующие свойства:

— антимонотонность: если A1 ⊆ A2, то A ′
2 ⊆ A ′

1 ;
— экстенсивность: A1 ⊆ A ′′

1 , где A ′′ ′
1 = ((A ′

1) ) ⊆ G.
В силу утверждений 1 и 2, отображения φ и ψ составляют пару соответствий Га-

луа между 2G и 2M — системами всех подмножеств множеств G и M соответственно,
частично упорядоченными по теоретико-множественному включению [4, 5]. Известно,
что для соответствий Галуа φ и ψ справедливы равенства [5]

φ(ψ(φ(A))) = φ(A), ψ(φ(ψ(B))) = ψ(B)

или, то же самое, в единых обозначениях
′

((A′
′ ′

) ) = (A′′) = A′, ((B′
′ ′ ′

) ) = (B′′) = B′. (5)
Двойное применение отображения «′» определяет оператор замыкания на 2M в алгеб-
раическом смысле [4]. Ему свойственны:

— рефлексивность: для любого B ⊆M всегда B ⊆ B′′;
— монотонность: если B1 ⊆ B2 ⊆M , то B ′′ ⊆ B ′′

1 2 ⊆M ;
— идемпотентность: для любого B ⊆M всегда (B′′)′′ = B′′.

Справедливость этих свойств вытекает из утверждений 1 и 2.
Если B = B′′, то множество признаков B ⊆ M называется замкнутым относи-

тельно оператора «′′» в контексте K. Множество B′′ = φ(ψ(B)) можно трактовать как
набор признаков, которые всегда появляются в объектах контекста K вместе с призна-
ками из B, причём это множество является наибольшим по включению в пределах K.
Очевидно, что (∅)′′ = φ(ψ(∅)) = G′, где G′ —множество признаков, свойственных
всем объектам контекста K. Если B′ = ∅, то всегда B′′ = φ(ψ(B)) = φ(∅) = M . Ес-
ли B′ 6= ∅, то, исходя из (1)–(4), замыкание для B ⊆ M можно вычислить за один
просмотр контекста K по формуле ⋂

B′′ = {g′ : B ⊆ g′} . (6)
g∈G

В анализе формальных понятий пара множеств (A,B), A ⊆ G, B ⊆ M , таких, что
A′ = B и B′ = A, называется формальным понятием контекста K = (G,M, I) с объ-
ёмом A и содержанием B [6]. В формальном понятии (A,B) множества A и B всегда
замкнуты относительно «′′» в этом контексте: A = A′′ и B = B′′. С помощью формаль-
ных понятий возможно концептуальное (или понятийное) моделирование различных
предметных областей [3, 6]. Замкнутые множества также нашли широкое применение
в поиске ассоциативных правил [7, 14, 15].



О неизбыточном представлении минимаксного базиса 117

2. Ассоциативные правила и основные меры их значимости
Ассоциативным правилом на множестве признаков контекста K = (G,M, I) назы-

вается упорядоченная пара множеств r = (X, Y ), X, Y ⊆ M . Принято ассоциативное
правило r = (X, Y ) записывать в виде X ⇒ Y , здесь множества X и Y называют
посылкой (или причиной) и заключением (или следствием) соответственно [16]. В ана-
лизе ассоциативных правил часто полагают, что посылка и заключение — непустые
непересекающиеся множества. С формальных позиций эти ограничения несуществен-
ны. Применительно к заданному контексту K всякое ассоциативное правило X ⇒ Y
количественно характеризуется с помощью поддержки δ(X ⇒ Y ) и достоверности
γ(X ⇒ Y ) [17]. Эти числовые функции определяются через понятие поддержки мно-
жества признаков.

Поддержка δ(X) множества признаков X ⊆ M в контексте K = (G,M, I) — от-
ношение числа объектов, которым присущи признаки X, к общему числу объектов,
представленных в этом контексте:

δ(X) = |X ′|/|G|. (7)
Таким образом, δ(X) —частота встречаемости в контексте K объектов, имеющих при-
знаки X. Из формулы (7) следует, что для любого X ⊆ M значение δ(X) неизменно
находится в естественных границах

0 6 δ(X) 6 1. (8)
Чем ближе значение δ(X) к 1, тем большее число объектов рассматриваемого контек-
ста обладает всеми признаками из X. В силу антимонотонности отображения «′» под-
держка множества признаков также удовлетворяет свойству антимонотонности: для
всякого контекста K = (G,M, I) и любых X, Y ⊆M при X ⊆ Y верно неравенство

δ(Y ) 6 δ(X). (9)
Согласно (9), поддержка множества признаков не может превышать поддержки лю-
бого из его подмножеств. Так, для произвольного X ⊆M всегда

0 6 δ(M) 6 δ(X) 6 δ(∅) = 1.

Множество признаков X ⊆ M называется частым в контексте K = (G,M, I), если
его поддержка больше или равна заданному пороговому значению δ0 ∈ [0, 1]. Если
δ(X) > δ0 и X = X ′′, то X называется частым замкнутым множеством признаков
в K. Частые множества и частые замкнутые множества признаков традиционно слу-
жат основой для поиска ассоциативных правил в заданном контексте. Следует отме-
тить, что в худшем случае число частых замкнутых множеств признаков контекста K
совпадает с числом частых множеств признаков и экспоненциально зависит от |M |.
Однако на практике обычно число частых замкнутых множеств значительно меньше
числа частых множеств. Примеры контекстов с полиномиальным относительно |M |
числом частых замкнутых множеств можно найти в [15]. Использование следующе-
го утверждения позволяет при поиске ассоциативных правил вместо частых множеств
признаков применять частые замкнутые множества и тем самым сокращать простран-
ство поиска ассоциативных правил.

Утверждение 3. Для всякого контекста K = (G,M, I) и любого множества
X ⊆M поддержка X ′′ совпадает с поддержкой множества X:

δ(X ′′) = δ(X).



118 В. В. Быкова, А. В. Катаева

Доказательство. Пусть X ⊆ M —произвольное множество признаков контек-
ста K = (G,M, I). Тогда, исходя из (5) и (7), имеем равенство

δ(X ′′
′

) = |(X ′′) |/|G| = |X ′|/|G| = δ(X).

Утверждение доказано.
Таким образом, если δ(X) > δ0, то δ(X ′′) > δ0, т. е. замыкание частого множества

признаков также является частым.
Поддержкой δ(X ⇒ Y ) ассоциативного правила X ⇒ Y относительно контекста

K = (G,M, I) называется величина

δ(X ⇒ Y ) = δ(X ∪ Y ) = |(X ∪ Y )′|/|G|, (10)

указывающая, какая доля объектов этого контекста имеет признаки X ∪Y . Достовер-
ность γ(X ⇒ Y ) ассоциативного правила X ⇒ Y относительно контекста K определя-
ется как отношение числа объектов, обладающих всеми признаками из X ∪Y , к числу
объектов, которым свойственны только признаки X:

γ(X ⇒ Y ) = |(X ∪ Y )′|/|X ′|.

Достоверность ассоциативного правила через функцию поддержки выражается фор-
мулой

γ(X ⇒ Y ) = δ(X ⇒ Y )/δ(X) = δ(X ∪ Y )/δ(X). (11)
Заметим, что достоверность определяется формулой (11) только для тех ассоциатив-
ных правил X ⇒ Y , для которых δ(X) 6= 0. Если δ(X) = 0 (в контексте нет ни одного
объекта, обладающего признаками X), то, согласно (8) и (9), δ(X∪Y ) = 0. В этом осо-
бом случае полагают γ(X ⇒ Y ) = 1. Исходя из (7)–(11), достоверность ассоциативного
правила X ⇒ Y при произвольных X, Y ⊆M всегда находится в границах

0 6 γ(X ⇒ Y ) 6 1.

Чем ближе значение γ(X ⇒ Y ) к 1, тем с большей уверенностью можно сказать, что
признаки Y появляются в объектах рассматриваемого контекста вместе с признака-
ми X.

Ассоциативное правило X ⇒ Y называется минимаксным в контексте K =
= (G,M, I), если для K не существует другого ассоциативного правила X∗ ⇒ Y ∗,
такого, что X∗ ⊆ X и Y ⊆ Y ∗ и

δ(X∗ ⇒ Y ∗) = δ(X ⇒ Y ), γ(X∗ ⇒ Y ∗) = γ(X ⇒ Y ).

Пусть заданы контекст K = (G,M, I) и δ0, γ0 — вещественные числа из [0, 1]. Будем
говорить, что X ⇒ Y является (δ0, γ0)-ассоциативным правилом в K, если выполня-
ются два условия:

δ0 6 δ(X ⇒ Y ) 6 1; (12)
γ0 6 γ(X ⇒ Y ) 6 1. (13)

Величины δ0 и γ0 играют роль пороговых значений для поддержки и достоверности
соответственно. При δ0 = 0 условие (12) отражает естественные границы поддержки.
Данная ситуация свидетельствует о том, что нет ограничений на частоту появления



О неизбыточном представлении минимаксного базиса 119

признаков X ∪ Y в K. При γ0 = 1 условие (13) приводит к равенству γ(X ⇒ Y ) = 1.
В этом случае имеем (δ0, 1)-ассоциативное правило, которое будем называть строгим
ассоциативным правилом. Таким образом, строгое ассоциативное правило — прави-
ло с достоверностью 1 и любой ненулевой поддержкой. Заметим, что ассоциативные
правила с нулевой поддержкой и нулевой достоверностью не имеют практической цен-
ности и поэтому не рассматриваются.

3. Свойства строгих ассоциативных правил
Известен критерий наличия в контексте строгого ассоциативного правила [6]. При-

ведём его с доказательством.
Утверждение 4. Достоверность ассоциативного правила X ⇒ Y относительно

контекста K = (G,M, I) равна 1 тогда и только тогда, когда X ′ ⊆ Y ′ (или Y ⊆ X ′′).
Доказательство. Согласно формуле (11), равенство γ(X ⇒ Y ) = 1 верно тогда

и только тогда, когда δ(X∪Y ) = δ(X), или, то же самое, когда (X ∪ Y )′ = X ′. В силу (4)
имеем (X ∪ Y )′ = X ′∩Y ′. Равенство X ′∩Y ′ = X ′ возможно тогда и только тогда, когда
X ′ ⊆ Y ′.

Предположим, что X ′ ⊆ Y ′. По утверждениям 1 и 2 всегда Y ⊆ Y ′′, а при X ′ ⊆ Y ′

верно включение Y ′′ ⊆ X ′′. Отсюда Y ⊆ X ′′. Тогда в силу антимонотонности отобра-
жения «′» имеем (X ′′)′ ⊆ Y ′. С учётом (5) верно X ′ ⊆ Y ′.

Заметим, что утверждение 4 тривиальным образом выполняется для X ⇒ X ′′ во
всяком контексте K и при любом X ⊆ M . Рассмотрим некоторые частные случаи
утверждения 4, важные с точки зрения устранения избыточности в множестве строгих
ассоциативных правил.

С л у ч а й 1: ассоциативные правила вида X ⇒ Y при любых Y ⊆ X ⊆M .
В силу антимонотонности отображения «′» при Y ⊆ X справедливо включение

X ′ ⊆ Y ′. Условие утверждения 4 выполняется, поэтому γ(X ⇒ Y ) = 1. Таким об-
разом, если в ассоциативном правиле заключение является подмножеством посылки,
то такое правило имеет достоверность 1 в любом контексте K с поддержкой δ(X).
Подобные строгие ассоциативные правила не несут в себе информации о существенных
отношениях между множествами признаков X и Y , кроме естественного отношения
«целое и часть целого», поэтому их следует считать тривиальными и не принимать во
внимание. В частности, ассоциативные правила вида ∅ ⇒ ∅, M ⇒ Y и X ⇒ ∅ при
любых X, Y ⊆M относятся к тривиальным строгим правилам.

С л у ч а й 2: ассоциативные правила вида ∅⇒ Y при ∅ 6= Y ⊆M .
Для всякого контекста K = (G,M, I) и Y ⊆M всегда Y ′ ⊆ G. Кроме того, ψ(∅) =

= ∅′ = G и δ(∅) = 1. Поэтому для правила ∅⇒ Y имеем

γ(∅⇒ Y ) = δ(∅ ∪ Y )/δ(∅) = δ(Y ).

Исходя из утверждения 4, равенство γ(∅⇒ Y ) = 1 имеет место тогда и только тогда,
когда ∅′ ⊆ Y ′. Поскольку ψ(∅) = ∅′ = G, то ∅′ ⊆ Y ′ верно лишь при G = Y ′.
Таким образом, строгое ассоциативное правило ∅ ⇒ Y при Y 6= ∅ имеет поддержку
δ(∅) = 1 и отражает наличие жёсткого ограничения на контекст K: все объекты,
представленные в этом контексте, обязательно обладают множеством признаков Y .

Рассмотрим строгое ассоциативное правило X ⇒ Y . В силу (11) его поддержка
всегда совпадает с поддержкой его посылки: δ(X ⇒ Y ) = δ(X). Если δ(X) > δ0, то
также δ(X ⇒ Y ) > δ0. Если после какого-либо изменения правила X ⇒ Y резуль-
тирующее правило имеет поддержку не менее δ(X), то говорят, что такое изменение



120 В. В. Быкова, А. В. Катаева

сохраняет поддержку исходного правила. Докажем свойства строгих ассоциативных
правил, которые позволяют из одних строгих ассоциативных правил вывести другие
строгие ассоциативные правила (с сохранением или без сохранения поддержки).

Лемма 1. Пусть в контексте K = (G,M, I) множество X ⊆ M имеет поддержку
δ(X) > δ0. Тогда для контекста K при любом Y ⊆ X всегда справедливо строгое
ассоциативное правило X ⇒ Y с поддержкой δ(X ⇒ Y ) > δ0.

Доказательство. При Y ⊆ X в силу антимонотонности отображения «′» всегда
X ′ ⊆ Y ′. Тогда по утверждению 4 ассоциативное правило X ⇒ Y является строгим.
В силу (11) для него δ(X ⇒ Y ) = δ(X) > δ0.

Лемма 2. Если для контекста K = (G,M, I) справедливо строгое ассоциативное
правило X ⇒ Y с поддержкой δ(X), то при любом Z ⊆M для этого контекста также
верно строгое ассоциативное правило X ∪ Z ⇒ Y с поддержкой δ(X ∪ Z) 6 δ(X).

Доказательство. Воспользуемся утверждением 4 и свойством монотонности
оператора замыкания. Так как X ⇒ Y является строгим ассоциативным правилом
в K, то Y ⊆ X ′′ и δ(X ∪ Y ) = δ(X). При X ⊆ X ∪Z верно включение X ′′ ⊆ (X ∪ Z)′′.
Следовательно, Y ⊆ (X ∪ Z)′′. Это означает, что для K справедливо строгое ассоци-
ативное правило X ∪ Z ⇒ Y и для него δ(X ∪ Z ∪ Y ) = δ(X ∪ Z). Отсюда с учётом
антимонотонности поддержки имеем

δ(X ∪ Z) = δ(X ∪ Z ∪ Y ) 6 δ(X ∪ Y ) = δ(X).

Лемма доказана.
Лемма 2 отражает возможность пополнения посылки для строгого ассоциативного

правила, но без гарантии сохранения поддержки. Особо следует отметить случай, ко-
гда расширение посылки строгого ассоциативного правила сохраняет поддержку этого
правила.

Следствие 1. Если для контекста K = (G,M, I) справедливо строгое ассоциа-
тивное правило X ⇒ Y с поддержкой δ(X), то при любом Z ⊆ Y для этого контекста
также справедливо строгое ассоциативное правило X ∪ Z ⇒ Y с поддержкой δ(X).

Доказательство. Если γ(X ⇒ Y ) = 1, то по лемме 2 также γ(X ∪Z ⇒ Y ) = 1.
Значит, верны равенства

δ(X ⇒ Y ) = δ(X ∪ Y ) = δ(X), δ(X ∪ Z ⇒ Y ) = δ(X ∪ Z ∪ Y ) = δ(X ∪ Z).

Отсюда при Z ⊆ Y имеем δ(X ∪ Z ⇒ Y ) = δ(X ∪ Z ∪ Y ) = δ(X ∪ Y ) = δ(X).
Лемма 3. Пусть в контексте K = (G,M, I) множество X ⊆ M имеет поддержку

δ(X) > δ0. Если для K справедливы строгие ассоциативные правила X ⇒ Y и X ⇒ Z,
то для этого контекста также справедливо строгое ассоциативное правило X ⇒ Y ∪Z
с поддержкой δ(X) > δ0.

Доказательство. По утверждению 4, поскольку X ⇒ Y и X ⇒ Z являются
строгими ассоциативными правилами в K, выполняются включения Y ⊆ X ′′ и Z ⊆
⊆ X ′′. Значит, Y ∪Z ⊆ X ′′, что достаточно для выполнимости строгого ассоциативного
правила X ⇒ Y ∪Z в заданном контексте. В данном случае δ(X ⇒ Y ∪Z) = δ(X) > δ0,
т. е. свойство аддитивности сохраняет поддержку исходных правил.

Легко убедиться, что свойства рефлексивности и пополнения невыполнимы для
произвольных (δ0, γ0)-ассоциативных правил. Однако следующее свойство, называемое
проективностью, выполняется для любых (δ0, γ0)-ассоциативных правил.



О неизбыточном представлении минимаксного базиса 121

Лемма 4. Если для K = (G,M, I) справедливо (δ0, γ0)-ассоциативное правило
X ⇒ Y , то при любых Z ⊆ Y и Y 6= ∅ для этого контекста также верно (δ0, γ0)-
ассоциативное правило X ⇒ Z.

Доказательство. Поскольку Z ⊆ Y и Y 6= ∅, то Y можно представить в виде
Y = Z∪(Y \Z). Тогда, согласно условию (12) и антимонотонности функции поддержки,
имеем

δ0 6 δ(X ∪ Y ) = δ(X ∪ (Z ∪ (Y \Z))) = δ((X ∪ Z) ∪ (Y \Z)) 6 δ(X ∪ Z).

Значит, δ(X ⇒ Z) удовлетворяет условию (12). Аналогично, полагая, что δ(X) 6= 0,
получаем

γ0 6 γ(X ⇒ Y ) = δ(X ∪ Y )/δ(X) 6 δ(X ∪ Z)/δ(X) = γ(X ⇒ Z).

Следовательно, γ(X ⇒ Z) удовлетворяет условию (13). При δ(X) = 0 всегда γ(X ⇒
⇒ Y ) = 1 при любом Y , в том числе и Z ⊆ Y .

Применительно к строгим ассоциативным правилам лемма доказывается триви-
альным образом. Если для контекста K справедливо строгое ассоциативное правило
X ⇒ Y , то Y ⊆ X ′′. Значит, при любых Z ⊆ Y и Y 6= ∅ справедливо включение
Z ⊆ X ′′. Следовательно, X ⇒ Z является строгим ассоциативным правилом в K.
Кроме того, δ(X ⇒ Y ) = δ(X), δ(X ⇒ Z) = δ(X). Если δ(X) > δ0, то δ(X ⇒ Z) > δ0.
Лемма доказана.

Лемма 4 отражает тот факт, что правую часть всякого (δ0, γ0)-ассоциативного пра-
вила можно «расщепить» до отдельного признака, сохраняя при этом поддержку и
достоверность в заданных границах. Для строгих ассоциативных правил леммы 3 и 4
констатируют равноценность различных эквивалентных форм записи этих правил.

Следствие 2. Представление строгого ассоциативного правила X ⇒ Y ∪ Z эк-
вивалентно его представлению в виде двух строгих ассоциативных правил X ⇒ Y и
X ⇒ Z, при этом δ(X ⇒ Y ∪ Z) = δ(X ⇒ Y ) = δ(X ⇒ Z) = δ(X).

Лемма 5. Если для контекстаK = (G,M, I) справедливы строгие ассоциативные
правила X ⇒ Y и Y ⇒ W и δ(X) > δ0, то какими бы ни были X, Y,W ⊆M , для этого
контекста также справедливо строгое ассоциативное правило X ⇒ W с поддержкой
δ(X) > δ0.

Доказательство. Воспользуемся утверждением 4. Если для контекста K верны
строгие ассоциативные правила X ⇒ Y и Y ⇒ W , то верны включения X ′ ⊆ Y ′ и
Y ′ ⊆ W ′. Следовательно, X ′ ⊆ W ′. По утверждению 4 это условие является до-
статочным для выполнимости строгого ассоциативного правила X ⇒ W . Для него
δ(X ⇒ W ) = δ(X) > δ0. Таким образом, поддержка результирующего правилаX ⇒ W
совпадает с поддержкой правила X ⇒ Y , играющего роль начала транзитивной це-
почки строгих ассоциативных правил.

Следующая лемма обобщает лемму 5 и определяет свойство, называемое псевдо-
транзитивностью строгих ассоциативных правил.

Лемма 6. Если для контекстаK = (G,M, I) справедливы строгие ассоциативные
правила X ⇒ Y и Y ∪Z ⇒ W , то какими бы ни были X, Y, Z,W ⊆M , для контекста K
также справедливо строгое ассоциативное правило X ∪ Z ⇒ W с поддержкой δ(X ∪
∪ Z) 6 δ(X).



122 В. В. Быкова, А. В. Катаева

Доказательство. Если для контекста K верны строгие ассоциативные правила
X ⇒ Y и Y ∪Z ⇒ W , то X ′ ⊆ Y ′ и (Y ∪ Z)′ ⊆ W ′. Требуется доказать, что (X ∪ Z)′ ⊆
⊆ W ′.

По лемме 2 из строгого ассоциативного правила X ⇒ Y вытекает справедливость
строгого ассоциативного правила (X ∪ Z) ⇒ Y . Тогда (X ∪ Z)′ ⊆ Y ′. В силу ан-
тимонотонности отображения «′» всегда (X ∪ Z)′ ⊆ Z ′. Отсюда если (X ∪ Z)′ ⊆ Y ′

и (X ∪ Z)′ ⊆ Z ′, то верно включение (X ∪ Z)′ ⊆ Y ′ ∩ Z ′. По формуле (4) имеем
(Y ∪ Z)′ = Y ′ ∩ Z ′. Учитывая, что (Y ∪ Z)′ ⊆ W ′, окончательно получаем

(X ∪ Z)′ ⊆ Y ′ ∩ Z ′ = (Y ∪ Z)′ ⊆ W ′.

К сожалению, свойство псевдотранзитивности не гарантирует для результирующего
правила сохранение поддержки. Для него δ(X ∪ Z ⇒ W ) = δ(X ∪ Z), но ввиду анти-
монотонности поддержки δ(X ∪ Z) 6 δ(X).

Леммы 1–6 позволяют сформулировать следующую теорему.
Теорема 1. Для всякого контекста K = (G,M, I) и любых X, Y, Z,W ⊆M спра-

ведливы следующие свойства строгих ассоциативных правил:
D1. Рефлексивность: X ⇒ X.
D2. Пополнение: если X ⇒ Y , то X ∪ Z ⇒ Y .
D3. Аддитивность: если X ⇒ Y и X ⇒ Z, то X ⇒ Y ∪ Z.
D4. Проективность: если X ⇒ Y и Z ⊆ Y , то X ⇒ Z.
D5. Транзитивность: если X ⇒ Y и Y ⇒ W , то X ⇒ W .
D6. Псевдотранзитивность: если X ⇒ Y и Y ∪ Z ⇒ W , то X ∪ Z ⇒ W .
Указанные в теореме 1 свойства (или выводимости) D1–D6 позволяют из некото-

рого множества строгих ассоциативных правил вывести многие другие строгие ассо-
циативные правила без дополнительного сканирования контекста. Выводимости, по-
добные D1–D6, справедливы и для функциональных зависимостей, имеющих место
в теории реляционных баз данных, где их принято называть аксиомами Амстронга.
Из доказанных лемм следует, что выводимости D1, D3, D4, D5 гарантируют сохранение
поддержки: результатом применения их к строгим ассоциативным правилам с под-
держкой не менее чем δ0 всегда являются строгие ассоциативные правила с таким же
порогом поддержки.

4. Алгоритмы Close и MClose
Известно большое число алгоритмов поиска ассоциативных правил. Основопола-

гающими являются алгоритмы Apriori и Close. Алгоритм Apriori основан на свой-
стве антимонотонности функции поддержки. Он извлекает из заданного контекста все
(δ0, γ0)-ассоциативные правила при любых заданных допустимых значениях δ0 и γ0 [11].
Алгоритм Close использует свойства частых замкнутых множеств и извлекает только
строгие ассоциативные правила с заданным порогом поддержки δ0 [7, 15].

Суть классического алгоритма Close заключается в пошаговом извлечении генера-
торов и частых замкнутых множеств признаков [14]. Множество ρ ⊆ M называется
генератором замкнутого множества признаков X ⊆ M , X = X ′′, если ρ′′ = X и не
существует другого множества τ ⊆M , такого, что τ ⊂ ρ и τ ′′ = X. Другими словами,
генератор замкнутого множества признаков X —наименьшее по мощности множество
признаков, имеющее замыкание X. Число признаков, входящих в генератор ρ, назы-
вается мощностью этого генератора. Если |ρ| = k, то ρ является k-генератором.



О неизбыточном представлении минимаксного базиса 123

На вход алгоритма Close подается исходный контекст K = (G,M, I) и пороговое
значение δ0. На выходе алгоритм Close формирует минимаксный базис и записывает
его в множество AR. Изначально AR считается пустым и k = 1. На первом шаге в каче-
стве k-генераторов рассматриваются все одноэлементные подмножества множестваM .
Замыкание ρ ′′k для генератора ρk вычисляется по формуле (6). Поддержка для ρ ′′k на-
ходится по формуле (7). Если δ(ρ ′′k ) > δ0, то по частому замкнутому множеству ρ ′′k
строится минимаксное строгое ассоциативное правило

ρk ⇒ ρ ′′k \ρk (14)

и сохраняется в AR. Согласно (10) и утверждению 3, для него

δ(ρk ⇒ ρ ′′k \ρk) = δ(ρ ′′k ) > δ0, γ(ρk ⇒ ρ ′′k \ρk) = 1.

Тот факт, что ассоциативное правило (14) является минимаксным, следует из опреде-
ления генератора.

После генерации ассоциативного правила по ρ ′′k создаются кандидаты в (k + 1)-
генераторы для следующей итерации. Каждый такой кандидат формируется путём
объединения двух k-генераторов, обладающих одинаковыми первыми k− 1 признака-
ми; предполагается, что все признаки в k-генераторах линейно упорядочены, напри-
мер лексикографически. Далее выполняется проверка, вложен ли найденный канди-
дат в ρ ′′k . Если вложен, то он исключается из рассмотрения. После нахождения всех
(k + 1)-генераторов осуществляется переход к следующей итерации. Алгоритм Close
завершает работу, когда исчерпаны все генераторы.

Множество ассоциативных правил, полученных в результате работы алгоритма
Close, образует минимаксный базис строгих ассоциативных правил контекста K. Кор-
ректность алгоритма Close доказана в [14]. К сожалению, минимаксный базис может
содержать избыточные строгие ассоциативные правила. Алгоритм MClose c помощью
выводимостей D1, D3, D4, D5 расширяет возможности алгоритма Close, он в процессе
построения минимаксного базиса распознаёт избыточные строгие ассоциативные пра-
вила и устраняет их.

Дадим формальное определение избыточного строгого ассоциативного правила.
Пусть AR—множество строгих ассоциативных правил, каждое из которых справед-
ливо для контекста K. Будем говорить, что строгое ассоциативное правило X ⇒ Y
логически следует из множества AR, если оно может быть выведено из AR с помощью
выводимостей D1, D3, D4, D5. Будем обозначать этот факт так: AR |= X ⇒ Y .

Строгое ассоциативное правило X ⇒ Y назовём избыточным в AR, если

AR\ {X ⇒ Y } |= X ⇒ Y. (15)

Множество строгих ассоциативных правил неизбыточное, если оно не содержит
избыточных строгих ассоциативных правил. Обозначим через CSB (Concise Strong
Basis) неизбыточное множество минимаксных строгих ассоциативных правил. Мно-
жество CSB можно построить путём генерации минимаксных строгих ассоциативных
правил (например, с помощью алгоритма Close) и устранения среди них избыточных.

Распознавание избыточного строгого ассоциативного правила в AR основано на
проверке логического следования (15). Алгоритм такой проверки использует понятие
замыкания множества признаков относительно множества AR и является полиноми-
альным относительно |M | и |AR|. Замыканием множества X ⊆ M относительно AR



124 В. В. Быкова, А. В. Катаева

(обозначается X+) называется множество всех признаков m ∈ M , таких, что верно
логическое следование AR |= X ⇒ m. Заметим, что неизменно X+ ⊆ M . Из выводи-
мостей D1, D3, D4 вытекает справедливость следующего критерия: логическое следо-
вание AR |= X ⇒ Y имеет место тогда и только тогда, когда Y ⊆ X+. Отсюда

AR |= X ⇒ X+, AR |= X ⇒ X+\X.

Чтобы убедится в справедливости (15), достаточно вычислить X+ относительно
AR\ {X ⇒ Y } и проверить включение Y ⊆ X+. Если Y ⊆ X+, то строгое ассоциа-
тивное правило X ⇒ Y избыточно в AR, иначе оно не является избыточным.

Алгоритм вычисления X+ целиком базируется на выводимостях D1, D3, D4, D5 и
сводится к выполнению следующих действий. Сначала полагается X+ = X. Далее
осуществляется просмотр правил из AR и пополнение X+ по следующему принципу:
если для правила Y ⇒ Z ∈ AR верно включение Y ⊆ X+, то множество Z добав-
ляется к X+. Этот процесс повторяется до тех пор, пока изменяется X+. Поскольку
множества M и AR конечные, то процесс вычисления X+ конечен.

Заметим, что процесс исключения избыточных строгих ассоциативных правил не
требует доступа к контексту K, и поэтому время его выполнения незначительно по
сравнению со временем получения частых замкнутых множеств признаков. Для того
чтобы исключить добавление заведомо избыточного строгого ассоциативного правила
в AR, необходимо всякий раз после построения ρ ′′k выполнять следующие действия.
Если посылка ρk найденного правила (14) не равна ρ ′′k , то найти замыкание ρ+

k относи-
тельно вычисленного множества AR. Если ρ+

k = ρ ′′k , то это минимаксное ассоциативное
правило является избыточным, иначе оно включается в AR.

После завершения генерации минимаксных строгих ассоциативных правил необхо-
дим дополнительный просмотр результирующего множества AR с целью обнаружения
оставшихся избыточных правил. Такие правила вполне возможны: они неизбыточные
по отношению к ранее выявленным правилам, однако после пополнения AR новыми
правилами могут оказаться избыточными. Таким образом, по построению результиру-
ющее множество AR состоит из минимаксных строгих ассоциативных правил и являет-
ся неизбыточным. Заметим, что оперативное удаление избыточных правил сдерживает
рост мощности AR и снижает время выполнения алгоритма.

Алгоритмы Apriori, Close и MClose сравнивались по числу сгенерированных стро-
гих ассоциативных правил и времени работы. Эксперименты осуществлялись на ком-
пьютере с процессором Intel©R CoreTM i5 CPU & 2.30 ГГц и ОЗУ размером 4 Гбайт.
Эксперименты выполнялись на контекстах, сгенерированных случайным образом.

Результаты экспериментов представлены в таблице. Для всякого анализируемо-
го контекста K = (G,M, I) указаны |G|—число объектов, |M |—число признаков,
σ = n/(|G| · |M |) —плотность контекста, где n задаёт число единичных элементов
матрицы инцидентности I. Контекст из 10000 объектов сформирован многократным
копированием контекста, состоящего из 500 объектов.

Из таблицы видно, что алгоритмы Close и MClose эффективнее алгоритма Apriori
как по числу извлечённых строгих ассоциативных правил, так и по времени работы.
Алгоритм MClose по времени работы сопоставим с алгоритмом Close. Однако алго-
ритм MClose более чем в 2 раза уменьшает мощность минимаксного базиса, форми-
руемого алгоритмом Close. Перспективны исследования, направленные на устранение
избыточности для ассоциативных правил с любыми поддержками и достоверностями.



О неизбыточном представлении минимаксного базиса 125

Результаты экспериментов
Xарактеристика контекста Число извлечённых строгих

K = (G,M, I) ассоциативных правил / время, мс
|G| |M | σ Apriori Close MClose
20 10 0,38 1797 / 17562 45 / 250 22 / 297
30 10 0,39 2029 / 18347 46 / 374 19 / 412
30 10 0,55 15438 / 187202 69 / 390 20 / 484
50 10 0,53 27769 / 375178 46 / 78 13 / 124
500 10 0,53 27769 /376154 42 / 124 13 / 168

10000 10 0,53 27769 / 378400 42 / 671 13 / 872

ЛИТЕРАТУРА
1. Витяев Е. Е., Демин А.В., Пономарев Д.К. Вероятностное обобщение формальных по-

нятий // Программирование. 2012. №5. С. 18–34.
2. Городецкий В.И., Самойлов В.В. Ассоциативный и причинный анализ и ассоциативные

байесовские сети // Тр. СПИИРАН. 2009. Вып. 9. С. 13–65.
3. Кузнецов С.О. Автоматическое обучение на основе анализа формальных понятий //

Автоматика и телемеханика. 2001. №10. С. 3–27.
4. Биркгоф Г., Барти Т. Современная прикладная алгебра. СПб.: Лань, 2005. 400 с.
5. Гуров С.И. Булевы алгебры, упорядоченные множества, решетки: определения, свой-

ства, примеры. М.: Книжный дом «ЛИБРОКОМ», 2013. 352 с.
6. Ganter B. and Wille R. Formal Concept Analyses: Mathematical Foundations. Springer

Science and Business Media, 2012. 314 p.
7. Pasquier N., Bastide Y., Taoui R., and Lakhal L. Generating a condensed representation for

association rules // J. Intelligent Inform. Systems. 2005. V. 24. No. 1. P. 29–60.
8. Майер Д. Теория реляционных баз данных. М.: Мир, 1987. 608 с.
9. Батура Т.В. Модели и методы анализа компьютерных социальных сетей // Программ-

ные продукты и системы. 2013. №3. С. 130–137.
10. Платонов В.В., Семенов П.О. Методы сокращения размерности в системах обнаруже-

ния сетевых атак // Проблемы информационной безопасности. Компьютерные системы.
2012. №3. С. 40–45.

11. Ilayaraja M. and Meyyappan T. Mining medical data to identify frequent diseases using
Apriori algorithm // Pattern Recognition, Informatics and Mobile Engineering (PRIME),
IEEE, 2013. P. 194–199.

12. Duquenne V. and Obiedkov S.A. Attribute-incremental construction of the canonical
implication basis // Ann. Math. Artif. Intelligence. 2007. V. 49. No. 1. P. 77–99.

13. Rudolph S. Some notes on pseudo-closed sets // LNCS. 2007. V. 4390. P. 151–165.
14. Zaki M. J. and Hsiao C.-J. Efficient algorithms for mining closed itemsets and their lattice

structure // IEEE Trans. Knowledge Data Eng. 2005. V. 17. No. 4. P. 462–478.
15. Uno T., Asai T., Uchida Y., and Arimura H. An efficient algorithm for enumerating closed

patterns in transaction databases // LNCS. 2004. V. 3245. P. 16–31.
16. Zhang C. and Zhang S. Association Rules Mining. Springer, 2002. 240 p.
17. Geng L. and Hamilton H. J. Interestingness measures for data mining: a survey // ACM

Computing Surveys. 2006. V. 38. No. 3. Article 9.

REFERENCES
1. Vityaev E. , Demin A.V., and Ponomaryov D.K. Probabilistic generalization of formal

concepts. Programming and Computer Software, 2012, no. 5, pp. 219–230.



126 В. В. Быкова, А. В. Катаева

2. Gorodetskiy V. I., Samoylov V.V. Assotsiativnyy i prichinnyy analiz i assotsiativnye
bayesovskie seti [Association and Casual rule mining using associative Bayesian networks].
Tr. SPIIRAN, 2009, iss. 9, pp. 13–65. (in Russian)

3. Kuznetsov S.O. Machine learning on the basis of formal concept analysis. Automation and
Remote Control, 2001, vol. 6, iss. 10, pp. 1543–1564.

4. Birkhoff G. and Bartee T.C. Modern Applied Algebra. N.Y., McGraw-Hill, 1970. 431 p.
5. Gurov S. I. Bulevy algebry, uporyadochennye mnozhestva, reshetki: opredeleniya, svoystva,

primery [Boolean Algebras, Ordered Sets, Lattices: Definitions, Properties, Examples].
Moscow, LIBROKOM Publ., 2013. 352 p. (in Russian)

6. Ganter B. and Wille R. Formal Concept Analyses: Mathematical Foundations. Springer
Science and Business Media, 2012. 314 p.

7. Pasquier N., Bastide Y., Taoui R., and Lakhal L. Generating a condensed representation for
association rules. J. Intelligent Inform. Systems, 2005, vol. 24, no. 1, pp. 29–60.

8. Maier D. Theory of Relational Databases. Computer Science Pr., 1983. 640 p.
9. Batura T.V. Modeli i metody analiza komp’yuternykh sotsial’nykh setey [Social networks

analysis models and methods]. Programmnye Produkty i Sistemy, 2013, no. 3, pp. 130–137.
(in Russian)

10. Platonov V.V. and Semenov P.O. Metody sokrashcheniya razmernosti v sistemakh
obnaruzheniya setevykh atak [Dimension reduction in network attacks detection systems].
Information Security Problems. Computer Systems, 2012, no. 3, pp. 40–45. (in Russian)

11. Ilayaraja M. and Meyyappan T. Mining medical data to identify frequent diseases using
Apriori algorithm. Pattern Recognition, Informatics and Mobile Engineering (PRIME), IEEE,
2013, pp. 194–199.

12. Duquenne V. and Obiedkov S.A. Attribute-incremental construction of the canonical
implication basis. Ann. Math. Artif. Intelligence, 2007, vol. 49, no. 1, pp. 77–99.

13. Rudolph S. Some notes on pseudo-closed sets. LNCS, 2007, vol. 4390, pp. 151–165.
14. Zaki M. J. and Hsiao C.-J. Efficient algorithms for mining closed itemsets and their lattice

structure. IEEE Trans. Knowledge Data Eng., 2005, vol. 17, no. 4, pp. 462–478.
15. Uno T., Asai T., Uchida Y., and Arimura H. An efficient algorithm for enumerating closed

patterns in transaction databases. LNCS, 2004, vol. 3245, pp. 16–31.
16. Zhang C. and Zhang S. Association Rules Mining. Springer, 2002. 240 p.
17. Geng L. and Hamilton H. J. Interestingness measures for data mining: a survey. ACM

Computing Surveys, 2006, vol. 38, no. 3, article 9.