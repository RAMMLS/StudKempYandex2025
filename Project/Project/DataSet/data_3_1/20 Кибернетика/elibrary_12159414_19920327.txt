ПРИКЛАДНАЯ ДИСКРЕТНАЯ МАТЕМАТИКА

2009 Теоретические основы прикладной дискретной математики №1(3)

УДК 519.816

ЛОГИЧЕСКИЕ МЕТОДЫ ПОСТРОЕНИЯ И АНАЛИЗА
МОДЕЛЕЙ ВЫБОРА1

Л.А. Шоломов
Институт системного анализа РАН, г. Москва

E-mail: sholomov@isa.ru

Логические методы используют представление функций выбора и моделей вы-
бора в виде формул некоторого логического языка и сводят задачи построения
и исследования моделей выбора к формальным преобразованиям и анализу этих
представлений. Они позволяют решать широкий круг конструктивных задач, свя-
занных с построением, анализом, упрощением и оценкой сложности формальных
моделей выбора, дают возможность применить к задачам выбора методологию
Шеннона—Яблонского—Лупанова изучения управляющих систем. В данной ста-
тье систематизируются результаты автора по исследованию моделей выбора ло-
гическими методами, полученные в разное время и опубликованные в разных
изданиях. Приводятся относящиеся к этой области результаты других авторов.

Ключевые слова: функция выбора, модель выбора, анализ, синтез, аппроксима-
ция, оптимизация, оценка сложности, последовательный выбор, параллельный
выбор, оператор группового выбора, декомпозиция, агрегирование, порядковое от-
ношение, порядковая модель.

Введение
В связи с широким применением вычислительной техники в процедурах принятия

и реализации решений повышается роль формальных методов исследования моделей
выбора вариантов. При построении и исследовании моделей выбора возникает ряд
задач конструктивного характера. Основной является задача синтеза — построения
модели из заданного класса, реализующей требуемый выбор. При синтезе существен-
ная роль отводится сложности моделей и обычно решается задача построения моде-
лей малой (лучше минимальной) сложности. Иногда ставят задачу минимизации —
нахождения по заданной модели эквивалентной ей модели наименьшей сложности.
Если выбор не представим моделями рассматриваемого класса, возникает задача его
аппроксимации в этом классе (наилучшей в условленном смысле). Важную роль иг-
рает задача анализа моделей — выяснения, обладает ли модель или реализуемый ей
выбор требуемыми свойствами. Кроме этого рассматриваются задачи агрегирования
нескольких моделей выбора в одну и декомпозиции модели на более простые.

В теории и приложениях имеют дело с двумя основными типами моделей выбора.
В моделях первого типа варианты считаются некоторыми целостными объектами, не
имеющими структурного описания, и предпочтительность одного варианта другому
выявляется на основе их непосредственного сравнения. Выбор в рамках таких моде-
лей будем называть свободным в соответствии с термином «свободный», принятым в
математике и означающим отсутствие дополнительных соотношений. В моделях вто-
рого типа вариантам сопоставляются оценки по заданной совокупности критериев, и

1Работа выполнена при финансовой поддержке ОНИТ РАН по программе «Фундаментальные
основы информационных технологий и систем».



Логические методы построения и анализа моделей выбора 39

варианты сравниваются на основе этих оценок. Выбор такого типа называют много-
критериальным. В качестве моделей многокритериального выбора часто используются
порядковые модели, в которых важны не сами величины оценок по критериям, а их
соотношения (больше, меньше, равно).

Логические методы используют представление функций и моделей выбора в виде
формул некоторого логического языка и сводят задачи, связанные с построением и ана-
лизом моделей, к формальным преобразованиям и исследованию этих представлений.
Вид применяемого логического языка зависит от типа моделей. В задачах свободно-
го выбора с конечным числом вариантов в качестве логического языка используется
язык булевой алгебры. В случае, когда число вариантов потенциально бесконечно,
логические описания требуют привлечения кванторов и применяется некоторый вари-
ант языка первого порядка. В частности, это относится к многокритериальному (в том
числе порядковому) выбору, где множество вариантов (наборов значений критериев),
вообще говоря, бесконечно. Поскольку результат сравнения оценок может иметь три
исхода (больше, меньше, равно), исследование свойств порядковых отношений осно-
вывается на языке (3,2)-значной логики.

Логические методы оказались весьма эффективными в силу ряда причин. Описа-
ние многих моделй выбора использует теоретико-множественные операции над мно-
жествами вариантов, различные логические связки и кванторы. Поскольку имеется
естественное соответствие между теоретико-множественными и логическими опера-
циями, а связки и кванторы присутствуют в логическом языке, такие описания лег-
ко переводятся в формулы языка. Часто более сложные модели выбора строятся из
простых с помощью некоторых операций (агрегирование отношений, параллельное и
последовательное соединение моделей и др.). Этим операциям соответствуют опре-
деленные преобразования логических формул, что дает возможность находить логи-
ческие представления достаточно сложных иерархических моделей выбора. Богатая
система формальных преобразований позволяет переходить от одних записей в ло-
гическом языке к другим, существенно упрощать представления. Имеется возмож-
ность привлечения результатов, методов и технических приемов, развитых в матема-
тической логике и теории моделей. Логические методы позволяют применять к за-
дачам выбора методологию исследования управляющих систем, заложенную в рабо-
тах К.Э. Шеннона и получившую существенное развитие в научной школе С.В. Яб-
лонского и О.Б. Лупанова. Все это делает логические методы удобным и универ-
сальным инструментом для решения широкого круга конструктивных задач в об-
ласти выбора. Впервые логическое описание функций (но не моделей) выбора ис-
пользовалось в [1]. Логические методы исследования моделей выбора ведут нача-
ло от [2]. Различные варианты логических методов для задач выбора применялись
в [3–6].

Важную роль при решении конструктивных задач в области выбора играют слож-
ностные аспекты, и им уделяется значительное внимание в проводимых исследованиях.
Рассматриваются два типа характеристик сложности:

- сложность моделей выбора, измеряемаяемая каким-либо существенным парамет-
ром, связанным с описанием или структурой моделей;

- сложность (трудность) задач, относящихся к построению либо анализу моделей
выбора, характеризуемая размером какого-либо вычислительного ресурса (времени,
памяти), затрачиваемого на их решение.

В области оценок сложности моделей выбора большое внимание уделено асимпто-
тическим результатам. Они дают возможность получить качественное представление



40 Л.А. Шоломов

о поведении сложности, выяснить влияние на нее тех или иных параметров задачи
выбора, зависимость от класса используемых моделей, взаимоотношение различных
характеристик сложности. При исследовании трудности задач основная роль отведе-
на их анализу на полиномиальность, NP-полноту и алгоритмическую неразрешимость.
Согласно существующей точке зрения считается, что задачи с полиномиальной оцен-
кой трудоемкости эффективно решаемы, NP-полные задачи труднорешаемы, алгорит-
мически неразрешимые задачи в принципе не решаемы.

Часть I. МОДЕЛИ СВОБОДНОГО ВЫБОРА
1. Логическое представление свободного выбора

1.1. Ф у н к ц и и в ы б о р а
Пусть задано множество A вариантов (конечное или бесконечное). Подмножества

X ⊆ A называются предъявлениями (более точно — множествами, предъявленными
для выбора). Функция выбора (ФВ) C на множестве вариантов A представляет со-
бой отображение 2A → 2A, сопоставляющее каждому X ⊆ A множество вариантов
C(X) ⊆ X, выбранных в предъявлении X.

Более общим понятием является функция неполного выбора (ФНВ) [2, 7], которая
задается множеством A ⊆ 2A допустимых предъявлений и функциями C1, C0 : A →
2A такими, что C1(X) ⊆ X, C0(X) ⊆ X, C1(X)∩C0(X) = ∅ для любого X ∈ A. Вари-
анты из множества C1(X) называютcя принятыми (в предъявлении X), из множества
C0(X) — отвергнутыми. Такую ФНВ будем обозначать 〈A, C1, C0〉. Поскольку всякую
ФВ C можно рассматривать как ФНВ при A = 2A, C1(X) = C(X) и C0(X) = X\C(X),
все дальнейшие понятия будут формулироваться применительно к ФНВ.

Доопределением ФНВ 〈A, C1, C0〉 будем называть любую ФВ C (всюду определен-
ную), для которой C1(X) ⊆ C(X) ⊆ X \ C0(X), X ∈ A. Всякой модели (механизму,
правилу, процедуре) выбора M соответствует некоторая ФВ CM , которая сопостав-
ляет каждому предъявлению X ⊆ A множество вариантов CM(X), выбранных из X
моделью M . Скажем, что модель M реализует ФНВ 〈A, C1, C0〉, если CM является
доопределением этой функции.

1.2. Л о г и ч е с к о е п р е д с т а в л е н и е ф у н к ц и й в ы б о р а
Пока не оговорено противное, будем рассматривать модели свободного выбора с ко-

нечным множеством вариантов A; пусть его мощность равна n. Не различая варианты
и их номера, будем полагать A = A(n) = {1, . . . , n}. С каждым вариантом i свяжем
булеву переменную xi, и предъявление X будем задавать набором X̃ = (x1, . . . , xn), где
xi = 1 и xi = 0 соответственно при i ∈ X и i ∈/ X. ФНВ 〈A, C1, C0〉 будем описывать n
частичными булевыми функциями C(i)(X̃), 1 6 i 6 n [2, 7], где

1, если X ∈ A ∧ i ∈ C1(X),
C(i)(X̃) = 0, если (X ∈ A ∧ i ∈ C0(X)) ∨ i ∈/ X,

∗ в остальных случаях.

Здесь ∗ обозначает неопределенное значение. Совокупность n функций C(i)(X̃) бу-
дем называть логическим представлением функции неполного выбора. Включение
C1(X) ⊆ X эквивалентно тому, что каждая функция C(i)(X̃) выразима в виде
C(i)(X̃) = xiC

(i)(X̃(i)), где X̃(i) = (x1, . . . , xi−1, xi+1, . . . , xn), C(i)(X̃(i)) — частичная буле-
ва функция, полученная из C(i)(X̃) подстановкой xi = 1. В случае ФВ представляющие
булевы функции всюду определены.



Логические методы построения и анализа моделей выбора 41

Модель выбора M реализует ФНВ 〈A, C1, C0〉 тогда и только тогда, когда при
каждом i булева функция (i)

CM (X̃) доопределяет частичную функцию C(i)(X̃).
1.3. Л о г и ч е с к о е п р е д с т а в л е н и е в ы б о р а п о о т н о ш е н и ю

Обычно модели выбора строятся с использованием бинарных отношений r ⊆ A2 (на
множестве вариантов A), в которых соотношение xry интерпретируется как «вариант x
предпочтительнее y». Для i ∈ A обозначим r(i) = {j | irj}, r−1(i) = {j | jri}. В теории
и приложениях используются различные правила выбора по бинарным отношениям
(см., например, [8, 9]). Приведем три из них:

- выбор максимальных вариантов Cr,1(X) = {x ∈ X | (∀y ∈ X)yr̄x};
- выбор лучших вариантов Cr,2(X) = {x ∈ X | (∀y ∈ X)xry};
- выбор отбраковкой худших вариантов Cr,3(X) = X \ {x ∈ X | (∀y ∈ X)xr̄y ∧

(∃z ∈ X)zrx}.
В первом и третьем правилах отношение предполагается иррефлексивным (xr̄x),

во втором — рефлексивным (xrx). Указанные правила имеют следующие логические
представления [7]:∧ ∧ ( ∨ ∨ )

(i) (i) (i)
Cr,1(X̃)=xi x̄j, Cr,2(X̃)=xi x̄j, Cr,3(X̃)=xi xl ∨ x̄j .

j∈r−1(i) j∈r̄(i) l∈r(i) j∈r−1(i)

Двойственным отношением к r называется отношение r∗ = r̄−1 (операции ¯ и −1

перестановочны и их порядок не существен). Правила выбора максимальных и луч-
ших вариантов сводятся друг к другу путем перехода к двойственному отношению:
Cr,1 = Cr∗,2, Cr,2 = Cr∗,1. Основным правилом выбора по отношению обычно считают
первое, и, если не оговорено противное, будем под выбором по отношению понимать
Cr,1 и использовать для него обозначение Cr. Класс всех моделей выбора по отношению
(использующих первое правило) обозначим через Rl.

1.4. С у п е р п о з и ц и я л о г и ч е с к и х п р е д с т а в л е н и й
Данный раздел написан по материалам [2, 10, 11], систематическое изложение име-

ется в [7].
Введем некоторые операции над функциями и моделями выбора. Операция су-

перпозиции C1 ◦ C2 функций выбора C1 и C2 задается равенством (C1 ◦ C2)(X) =
= C2(C1(X)). Логическое представление суперпозиции выражается через логические
представления исходных ФВ в виде

(n)
(C i) (i) (1)

1 ◦ C2)( (X̃) = C2 (C1 (X̃), . . . , C1 (X̃)).

Эта операция возникает при последовательном соединении моделей выбора M1 и M2,
когда выход модели M1 подается на вход M2. Полученная модель реализует ФВ
CM1M2 = CM1 ◦ CM2 .

Операция суперпозиции ФВ ассоциативна: (C1 ◦ C2) ◦ C3 = C1 ◦ (C2 ◦ C3), поэтому
можно рассматривать многоместную операцию C1 ◦ C2 ◦ · · · ◦ Ck, которая не зависит
от расстановки скобок. Последовательное соединение k моделей выбора по отношению
дает модель последовательного выбора глубины k. Для нее Cr1r2...r = C C · · ·◦C

k r1 ◦ r2 ◦ r ,
k

или в другой записи

Cr1r2...r (X) = Cr (. . . Cr2(C . .).
k k r1(X)) .



42 Л.А. Шоломов

С использованием приведенных выше формул можно найти логическое представление
этой модели. В частности, для моделей∧глубины (2 оно пре∨образу)ется к виду

Cr1r2(X̃) = xi x̄j x̄m ∨ xl .
j∈r−1

1 (i), m∈r−1
2 (i) l∈r−1

1 (m)

Классы моделей последовательного выбора произвольной глубины и глубины k обо-
значим соответственно через Sq и Sqk.

1.5. К о м п о з и ц и я л о г и ч е с к и х п р е д с т а в л е н и й
Операция композиции функций выбора C1, . . . , Ck при способе композиции

F = F (Y1, . . . , Yk) реализует ФВ C(X) = F (C1(X), . . . , Ck(X)). В качестве F обычно
используется монотонная теоретико-множественная операция (операция голосования).
В этом случае логическое представление композиции имеет вид

C(i) (i) (i)
(X̃) = f(C1 (X̃), . . . , Ck (X̃)),

где f = f(y1, . . . , yk) — монотонная булева функция, естественным образом сопо-
ставленная операции F . Операция композиции возникает при параллельном соеди-
нении моделей M1, . . . ,Mk, когда их выходы подаются на вход блока, реализующего
k-местный оператор F . Если в качестве M1, . . . ,Mk использовать модели выбора по
отношениям r1, . . . , rk, получим модель параллельного выбора ширины k. Ей соответ-
ствует логическое описание

(i)
CF,r1,...,r (X̃) = f(C(i)

r (X̃), . . . , C(i)
k 1 r (X̃)).

k

Класс моделей параллельного выбора обозначим через Pr.
С помощью введенных операций над моделями выбора можно определить более

сложные модели — последовательно-параллельного выбора [12], обобщенного матема-
тического программирования [13] и др. — и найти их логическое описание.

Помимо суперпозиции и композиции используются и другие операции над моделя-
ми выбора. В их числе операция ветвления, когда в зависимости от наличия некоторого
свойства применяется та или иная модель выбора, операция ограниченной обратной
связи, при которой выбор производится в несколько туров, каждый из которых зави-
сит от результатов предыдущего тура. Для реализации этих операций используются
более сильные логические средства — логика первого порядка [14] (см. п. 6.2). Весьма
распространенным способом выбора на основе нескольких отношений является выбор
по некоторому отношению, образованному их агрегированием. Исследование этой мо-
дели производится в рамках языка (3,2)-значной логики, развитого для порядковых
отношений (см. п. 8.2).

2. Сложность задач, связанных с анализом и синтезом моделей
2.1. Ф о р м у л и р о в к а з а д а ч

Пусть задан некоторый класс M моделей выбора. Будем говорить, что ФНВ
〈A, C1, C0〉 представима в классе M, если она реализуется некоторой моделью этого
класса. Задача синтеза в классе M состоит в том, чтобы по заданной ФНВ установить,
представима ли она в этом классе, и, если представима, — построить реализующую ее
модель M ∈M.

ФВ C∗ (ФВ C∗) называется мажорантой (минорантой) заданной ФНВ 〈A, C1, C0〉,
если для любого X ∈ A выполнено C1(X) ⊆ C∗(X) (C0(X) ⊆ X \ C∗(X)). ФВ C+



Логические методы построения и анализа моделей выбора 43

(ФВ C−) называется верхней (нижней) аппроксимацией заданной ФНВ 〈A, C1, C0〉 в
классе моделей M, если C+ — мажоранта (C− — миноранта) этой ФНВ, представи-
мая в классе M, и для всякой ее мажоранты C∗ (миноранты C∗), представимой в M,
при всех X выполнено включение C∗(X) ⊇ C+(X) (C∗(X) ⊆ C−(X)). Легко видеть,
что верхняя (нижняя) аппроксимация, если она существует, — единственна. Задача
об аппроксимации (верхней или нижней) в классе M состоит в том, чтобы по ФНВ
узнать, имеет ли она соответствующую аппроксимацию в этом классе, и, если имеет,
— найти ее.

Пусть с моделью M связана некоторая характеристика сложности l(M). Задача
оптимального синтеза в классе моделей M ставится как задача построения по ФНВ
реализующей ее модели M ∈ M с минимальным значением l(M). Модели M1 и M2

будем называть эквивалентными, если CM1 = CM2 . Задача минимизации в классе M
состоит в том, чтобы по модели M ∈ M построить эквивалентную модель M ′ ∈ M,
имеющую наименьшую сложность.

Приведем результаты по исследованию перечисленных задач на NP-трудность и
полиномиальность применительно к классам моделей Rl, Sq и Pr, введенным выше.

2.2. Р е з у л ь т а т ы д л я к л а с с а Rl
Под сложностью l(r) отношения r будем понимать число входящих в него пар.

Пусть задана ФНВ 〈A, C1, C0〉. С каждым⋃i, 1 6 i 6 n, свяжем множество

Σi = X.
X|i∈C1(X)

Если оно пусто, полагаем Σi = {i}. Образуем отношение ř, задав ř−1(i) =
= A \ Σi, 1 6 i 6 n. Кроме того, построим парно-выявленное отношение r̂, где
ir̂j ⇐⇒ {i, j} ∈ A ∧ j ∈ C0({i, j}).

Теорема 1 [7, 10].
1. ФНВ 〈A, C1, C0〉 представима в классе Rl тогда и только тогда, когда

(∀X ∈ A)(X ⊆ Σi ⇒ i ∈/ C0(X)), и при выполнении этого условия в качестве ее
реализации может быть взято отношение ř.

2. Всякая ФНВ имеет в классе Rl верхнюю аппроксимацию, которая реализуется
отношением ř.

3. Нижняя аппроксимация в классе Rl для ФНВ существует тогда и только то-
гда, когда (∀X ∈ A)(Cr̂(X) ∩ C0(X) = ∅), и при выполнении этого условия нижняя
аппроксимация реализуется отношением r̂.

4. Задача оптимального синтеза в классе Rl является NP-трудной.
Для всюду определенных ФВ п. 3 теоремы доказан в [15]. Теорема показывает, что

задачи синтеза и аппроксимации в классе Rl полиномиальны, а оптимального синтеза
— NP-трудна. Задача минимизации в классе Rl не возникает, поскольку разным отно-
шениям соответствуют разные ФВ. Отметим, что если рассматривать выбор лучших
вариантов (правило 2), то все перечисленные задачи (включая задачу оптимального
синтеза) оказываются полиномиальными [7].

2.3. Р е з у л ь т а т ы д л я к л а с с а Sq
Модель M последовательного выбора задается набором отношений (r1, . . . , rk).

С такой моделью M будем связывать две сложностные характеристики: l(M) — сум-
марное число пар в отношениях модели M и k(M) — число отношений в M . Эти
характеристики будем называть соответственно сложностью и глубиной модели. Для



44 Л.А. Шоломов

уменьшения сложности модели можно использовать операцию приведения, при вы-
полнении которой для каждых i, j ∈ A связывающие их пары (i, j) и (j, i) удаляются
из всех отношений, кроме того, где они встретились впервые. Приведенная модель
эквивалентна исходной [10].

При решении конструктивных задач для моделей последовательного выбора воз-
никают трудности принципиального характера, поскольку в большинстве своем эти
задачи оказываются NP-трудными.

Теорема 2 [7, 10, 16].
1. При любом k > 2 задача синтеза моделей в классе Sqk NP-трудна.
2. При любом k > 2 задачи нахождения верхней и нижней аппроксимаций в классе

Sqk NP-трудны.
3. При любом k задача минимизации сложности в классе Sqk полиномиальна: ми-

нимальной по сложности является приведенная модель.
4. При любом k > 3 задача минимизации глубины в классе Sqk NP-трудна. При

k = 2 она полиномиальна.
NP-трудность задач синтеза и аппроксимации в классе Sqk объясняется тем, что

задача о реализуемости ФНВ в этом классе является NP-трудной (данный факт до-
казан в [7] для k = 2, но может быть распространен на произвольные k). В связи с
выявленной трудностью этих задач рассматривались некоторые их ослабленные по-
становки, для которых удалось найти эффективные способы решения. В [7] описан
метод последовательной аппроксимации, который с полиномиальной трудоемкостью
при определенных статистических предположениях относительно множества допусти-
мых предъявлений A строит при каждом k для почти всех (при n → ∞) функций,
представимых в Sqk, модели, одновременно лучшие по сложности и глубине. В [16] изу-
чен некоторый ослабленный вариант задачи минимизации глубины (задача сжатия),
и в случае, когда модель использует лишь ацикличные отношения (определение см. в
п. 4.2), предложен полиномиальный алгоритм ее решения. Отметим, что в приклад-
ных задачах обычно применяются ацикличные отношения, ибо лишь они гарантируют
непустоту выбора.

2.4. Р е з у л ь т а т ы д л я к л а с с а Pr
Пусть модель M параллельного выбора использует отношения r1, . . . , rk и опера-

тор F . С такой моделью M будем связывать две сложностные характеристики: l(M)
— суммарное число пар в отношениях моделиM и k(M) — число отношений вM . Эти
характеристики будем называть соответственно сложностью и шириной модели.

В большинстве своем конструктивные задачи, относящиеся к модели Pr, оказыва-
ются эффективно решаемыми. В определенной степени это объясняется тем, что име-
ется простой алгоритм проверки представимости ФНВ в классе Pr, основанный на
том, что необходимым и достаточным условием представимости в классе Pr является
антимонотонность частичных булевых функций C(i)(X̃(i)), 1 6 i 6 n (антимонотонные
функции — отрицания монотонных) [7, 11].

Теорема 3 [7, 11].
1. Задача синтеза моделей в классе Pr полиномиальна.
2. Верхняя и нижняя аппроксимации в классе Pr существуют для всех ФНВ, и

задача их построения полиномиальна.
3. Задача минимизации сложности в классе Pr полиномиальна.
4. Задача минимального синтеза в классе Pr NP-трудна.



Логические методы построения и анализа моделей выбора 45

Нахождение верхней (нижней) аппроксимации в классе Pr сводится к построе-
нию минимальных (максимальных) всюду определенных антимонотонных функций,
не меньших (не больших) C(i)(X̃(i)). В случае верхней аппроксимации такие функции
имеют вид ∨ ∧

Č(i)(X̃(i)) = x̄j, 1 6 i 6 n.
Z| Z={i}∨Z∈A∧i∈C1(Z) j∈A\Z

Для нижней аппроксимации функции строятся двойственным образом. Если ФНВ
представима в классе Pr (т. е. функции C(i)(X̃(i)) антимонотонны), то в качестве ее
реализации может быть взята модель, реализующая верхнюю аппроксимацию.

Что касается задачи минимизации ширины модели (которая в теореме не упомя-
нута), то скорее всего она NP-трудна, ибо к ней полиномиально сводится задача о
минимальном дизъюнктивном базисе системы множеств, не сравнимых по включению
[7]. Задача о минимальном дизъюнктивном базисе NP-трудна [17] и, по-видимому, то
же справедливо при условии несравнимости множеств системы.

3. Сложность моделей выбора
3.1. Х а р а к т е р и с т и к и с л о ж н о с т и

Пусть M — некоторый класс моделей выбора и (n)
CM — класс ФВ на n-элементном

множестве вариантов A(n), представимых моделями из M. Пусть с каждой моделью
M ∈ M связана некоторая характеристика сложности l(M). Сложностью функции
выбора C ∈ (n)

CM (в классе моделей M) называется величина

lM(C) = min{l(M) |M ∈M, CM = C}.

Сложность класса моделей M характеризуется функцией
(

lM(n) = max{lM(C) | C ∈ n)
CM }.

Возникает задача исследования поведения функции lM(n) и разработки методов син-
теза, гарантирующих оценки, близкие к lM(n). Ставятся и другие задачи оценочного
характера. Одна из них связана с изучением взаимного влияния различных характе-
ристик сложности. Пусть помимо l(M) задана некоторая характеристика сложности
k(M) моделей M ∈M. Введем величину

l∗M(C) = min{l(M) |M ∈M, CM = C, k(M) = kM(C)}.

Сравнение величин l∗M(C) с lM(C) показывает, к какому увеличению сложности l при-
водит минимизация k. Аналогично может быть введена величина k∗M(C) и на ее основе
изучено влияние l на k.

Исследуем поведение сложностных характеристик для классов моделей Sq и Pr.
Как и раньше, для моделей M из этих классов в качестве характеристик сложно-
сти будем рассматривать суммарное число l(M) пар в отношениях модели M и число
отношений k(M). Отметим, что в классе Rl нетривиальной характеристикой явля-
ется лишь lRl(n), ибо kRl(n) = 1. Из достаточно простых соображений следует, что
lRl(n) = n(n− 1).

3.2. С л о ж н о с т ь м о д е л е й к л а с с а Sq
Асимптотически точные значения сложности и глубины моделей класса Sq даются

следующим утверждением.



46 Л.А. Шоломов

Теорема 4 [7, 10].
lSq(n) ∼ n2, kSq(n) ∼ n2/2.

Следует отметить, что обе асимптотики могут быть достигнуты одновременно (в одной
модели).

Для выяснения взаимного влияния параметров реализации в классе Sq рассмотрим
величины l∗Sq(C) и k∗Sq(C). Если обозначить через l∗Sq(n) и k∗Sq(n) их максимумы по
всем C ∈ (n)

CSq , то можно показать, что они совпадают с lSq(n) и kSq(n). Поэтому для
изучения взаимного влияния l(M) и k(M) в классе Sq будем использовать другие
функции. Введем величины

(
λlSq(C) = l∗Sq(C)/lSq(C), λlSq(n) = max{λlSq(C) | C ∈ n)

CSq},
характеризующие увеличение сложности при минимизации глубины. Аналогично вве-
дем характеристики λkSq(C) и λkSq(n) увеличения глубины при минимизации сложно-
сти.

Теорема 5 [7, 10].
λlSq(n) ∼ n, n2/4 . λkSq(n) 6 n2/2.

Доказательство теоремы показывает, что асимптотически максимальное увеличе-
ние сложности может произойти при уменьшении глубины всего на 1, а максимальное
по порядку увеличение глубины — при небольшом уменьшении сложности.

3.3. С л о ж н о с т ь м о д е л е й к л а с с а Pr
Асимптотически точные значения сложности и ширины моделей класса Pr приво-

дятся в следующем утверждении.
Теорема 6 [7, 11].

lPr(n) ∼ n2, kPr(n) ∼ n.

В отличие от класса Sq здесь не удалось совместить обе асимптотики в одной
конструкции. Однако для произвольной функции C из (n)

CPr построена модель M , па-
раметры которой отличаются от lSq(n) и kSq(n) не более чем в 2 раза. Более точно,
l(M) 6 2n(n− 1), k(M) 6 2n+ 1. Кроме того, в случае, когда в модели используются
лишь частичные порядки и сложность отношения измеряется числом дуг в базисном
графе, в [18] предложена конструкция, асимптотически наилучшая одновременно по
сложности и ширине.

Для выяснения взаимного влияния параметров реализации в классе Pr рассмотрим
величины l∗Pr(C) и k∗Pr(C) и обозначим через l∗Pr(n) и k∗Pr(n) их максимумы по всем

(n)
C ∈ CPr . Получены следующие результаты.

Теорема 7 [7, 11].
l∗Pr(n) ∼ n3, 0, 94n3/2 . k∗Pr(n).

Из них вытекает, что минимизация ширины приводит к увеличению максимальной
сложности асимптотически в n раз, а минимизация слож√ности — к увеличению мак-
симальной ширины моделей по порядку не менее чем в n раз (легко доказать, что
это возрастание не может превзойти n). В конструкции из теоремы асимптотически
максимальное увеличение сложности происходит при уменьшении ширины на 1.

Следующая теорема показывает, что для конкретных ФВ минимизация сложности
может сопровождаться экспоненциальным увеличением ширины, и такой рост макси-
мален.



Логические методы построения и анализа моделей выбора 47

Теорема 8 [7]. Для любой функции C ∈ (n)
CPr выполнено log2 k

∗
Pr(C) 6 kPr(C) и

существует последовательность функций (
Cn ∈ n)

CPr такая, что log2 k
∗
Pr(Cn) ∼ kPr(Cn).

3.4. П о л н ы е м о д е л и
Пусть M — некоторая модель выбора. Обозначим через Hn(M) энтропию (двоич-

ный логарифм числа ФВ) класса (n)
CM , а черезHn — энтропию класса всех ФВ на множе-

стве A(n). Справедливы следующие оценки энтропии [7]:Hn = n2n−1,Hn(Rl) =√n(n−1),
Hn(Sqk) ∼ (n2 log2(3k + 1))/2, (n2 log2 n)/4 < Hn(Sq) . n2 log2 n, Hn(Pr) ∼ n/2π2n.
Из них следует, что в рассматривавшихся выше классах моделей реализуема лишь
малая доля ФВ. В связи с этим представляют интерес классы моделей, в которых
представимы произвольные ФВ. Такие классы будем называть полными.

Примером полного класса может служить класс Pr′ моделей параллельного выбора
на основе отбраковки худших вариантов [19]. Они отличаются от рассматривавшихся
ранее моделей параллельного выбора тем, что выбор по отношениям осуществляется
в соответствии с правилом 3 на с. 41. Сложность модели M ∈ Pr′ будем характери-
зовать шириной — числом k(M) используемых в ней отношений. При естественной
интерпретации величина k(M) совпадает с числом участников процедуры выбора.

Теорема 9 [7, 19].
1. Класс моделей Pr′ полон.
2. Справедливы оценки

c1n 6 kPr′(n) 6 c2n,

где c1 и c2 — некоторые положительные константы.
Из доказательства теоремы следует, что класс Pr′ остается полным, если в нем

ограничиться отношениями, в которых варианты делятся на три класса («хорошие»,
«удовлетворительные», «плохие») и выбор по отношению производится удалением из
предъявления группы «плохих» вариантов. Для такого класса остаются справедливы-
ми оценки теоремы.

Изучены и другие модели со свойством полноты (последовательно-параллельный
выбор [7, 12], многошаговые схемы обобщенного математического порграммирования
[7, 20]), получены оценки их сложностных параметров.

4. Агрегирование отношений
4.1. З а д а ч а с и н т е з а а г р е г и р у ю щ и х о п е р а т о р о в

При необходимости выбора по набору отношений (r1, . . . , rn) чаcто использу-
ют модель, в которой некоторым способом строится агрегированное отношение
r = F (r1, . . . , rn) и осуществляется выбор по r. Обычно это бывает в задачах груп-
пового выбора, поэтому отношения r1, . . . , rn называют индивидуальными, а r — груп-
повым.

Систематическое изучение операторов группового выбора F ведет начало от иссле-
дований К. Эрроу [21, 22], который сформулировал ряд аксиоматических требований
к операторам, каждое из которых представляется необходимым, и доказал их несов-
местность (теорема невозможности Эрроу [23]). Данный факт получил в литературе
название «парадокса Эрроу». Критический анализ использованных аксиом привел к
рассмотрению других требований, видоизменивших парадокс, но не устранивших его.
Позднее изучение парадокса Эрроу приняло более конструктивный характер. Появил-
ся ряд исследований, в которых рассматривались совместные наборы условий и был



48 Л.А. Шоломов

найден явный вид удовлетворяющих им операторов. Эта задача получила название
задачи синтеза операторов группового выбора. Остановимся на ней подробнее.

Задача синтеза операторов группового выбора состоит в том, чтобы найти яв-
ный вид операторов F , удовлетворяющих заданным характеристическим условиям
и структурным ограничениям [23]. Характеристические условия представляют собой
аксиоматически заданные требования к операторам, структурные ограничения зада-
ются указанием классов отношений R1 и R2 (обычно R1 ⊆ R2) и требованием, чтобы
при использовании индивидуальных отношений из R1 групповое принадлежало клас-
су R2. Будем говорить, что соответствующий оператор имеет тип Rn

1 → R2.
Будем рассматривать операторы, удовлетворяющие характеристическим услови-

ям бинарности, нейтральности (к вариантам) и ненавязанности [23]. Такие операторы
(и только они) представимы в виде

F (r1, . . . , rn) = Φ(r1, . . . , rn, r
−1
1 , . . . , r−1

n ),

где Φ — нетривиальная (не дающая тождественно пустого или полного множества)
операция. Вместо r−1

i удобно иметь дело с двойственными отношениями r∗i . Заменив
r−1
i на r∗i и модифицировав соответствующим образом оператор Φ, будем рассматри-
вать представления

F (r1, . . . , rn) = Φ(r1, . . . , rn, r
∗
1, . . . , r

∗
n).

Если на оператор F наложено дополнительное условие монотонности [23], то опера-
ция Φ монотонна, т. е. выразима через ∩ и ∪.

Для того чтобы указать структурные ограничения, опишем основные классы от-
ношений, используемых в моделях выбора.

4.2. К л а с с ы о т н о ш е н и й
Отношение r называется (а) рефлексивным, (б) иррефлексивным, (в) асимметрич-

ным, (г) антисимметричным, (д) полным, (е) связным, (ж) транзитивным, (з)
негатранзитивным, (и) ацикличным, если оно удовлетворяет условию (а) xrx, (б)
xr̄x, (в) xry ⇒ yr̄x, (г) x 6= y ∧ xry ⇒ yr̄x, (д) xry ∨ yrx, (е) x 6= y ⇒ xry ∨ yrx,
(ж) xry ∧ yrz ⇒ xrz, (з) xr̄y ∧ yr̄z ⇒ xr̄z, (и) x1rx2 ∧ x2rx3 ∧ . . . ∧ xk−1rxk ⇒ xkr̄x1,
k = 1, 2, . . .

Транзитивное иррефлексивное отношение называется частичным порядком (стро-
гим), связный частичный порядок — линейным порядком, а негатранзитивное ацик-
личное отношение — слабым порядком. Частичный порядок r со свойством xry∧zrv ⇒
xrv ∨ zry называется интервальным порядком, а интервальный порядок со свойством
xry ∧ yrz ⇒ xrv ∨ vrz — полупорядком. Указанные типы порядков наиболее распро-
странены в задачах выбора. Это связано с тем, что линейные порядки представимы
строгим критерием, слабые порядки — нестрогим критерием, интервальные порядки
— критерием с погрешностью, полупорядки — критерием с постоянной погрешностью,
частичные порядки — совокупностью критериев [24].

Обозначим соответственно через P , L, W , I, S, T и A классы отношений частич-
ного, линейного, слабого, интервального порядка, полупорядка, ацикличных и тран-
зитивных отношений. Справедливы строгие включения

L ⊂ W ⊂ S ⊂ I ⊂ P ⊂ (T ,A).

Классы T и A не сравнимы по включению и оба содержат P .



Логические методы построения и анализа моделей выбора 49

В качестве классов R1,R2, задающих структурные ограничения, будем использо-
вать произвольные пары классов из {L,W ,S, I,P , T ,A}, удовлетворяющие включе-
нию R1 ⊆ R2. Всего имеется 27 типов таких операторов Rn

1 → R2.
Логические средства, используемые для исследования операторов, подобны сред-

ствам, применяемым для изучения порядковых отношений, и будут представлены в
п. 8.2.

4.3. Я в н ы й в и д а г р е г и р у ю щ и х о п е р а т о р о в
Чтобы описать явный вид операторов агрегирования, введем некоторые специаль-

ные операторы.
Первый из них хорошо известен. Это оператор лексикографии

⋃k ( j⋂−1 )
Λ(r1, . . . , rn) = r ∗

j ∩ ri , k ∈ {1, . . . , n}.
j=1 i=1

Оператор транзитивной лексикографии является оператором одного из двух ти-
пов [25]. Первый имеет вид

⋃k ( j⋂−1 )
T (r1, . . . , rn) = r∗j ∩ ri , k ∈ {1, . . . , n},

j=1 i=1

второй получается из него заменой члена r1∩ . . .∩rk−1∩r∗k на r1∩ . . .∩rk (такой опера-
тор также будем обозначать T ). Дальше, говоря об операторах Λ и T , будем понимать
операторы указанного вида, в которых вместо r1, . . . , rk могут быть использованы про-
извольные отношения ri1 , . . . , ri набора (r1, . . . , rn).

k

Чтобы описать следующий тип операторов [26], дадим ряд определений. Булева
функция f(x1, . . . , xn) называется пороговой, если существуют такие числа w1, . . . , wn
(веса) и t (порог), что

f(x1, . . . , xn) = 1⇔ w1x1 + . . .+ wn > 1.

Набор (w1, . . . , wn, t) называется реализацией функции f . Обозначим через Th1/2 класс
пороговых функций, дл∨я которых существует реализация с w1 > 0, . . . , wn > 0,
w1 + . . . + wn = 1, t = 1/2. Функции из Th1/2 монотонны. Представим функцию
f ∈ Th1/2 в виде f = {i1,...,is} xi1 . . . xis , где отсутствуют поглощения конъюнкций
(для монотонных функций указанное представление единственно), и сопоставим ей
оператор ⋃ ⋂ ⋂

Θ(r1, . . . , rn) = ri r∗j ,
{i1,...,is} i∈{i1,...,is} j∈/{i1,...,is}

который с учетом его содержательных свойств будем называть оператором взвешен-
ного большинства с правом вето. Операторы T и Θ до работ автора в научной лите-
ратуре не встречались.

Будем говорить, что некоторый оператор однотипен с F (r1, . . . , rn), если он полу-
чается из F заменой каких-либо из отношений ri на r−1

i . При этом в представлении
оператора необходимо заменить отношение ri на r∗i и r∗i — на r̄i. Для оператора, од-
нотипного с F , будем использовать обозначение F̂ . В частности, Λ̂ означает оператор,
однотипный с лексикографией, а r̂i представляет собой отношение ri либо r−1

i .
Двойственным оператору F называется оператор F ∗, получающийся заменой

в представлении F теоретико-множественной операции Φ двойственной операцией



50 Л.А. Шоломов

Φ∗(Y1, . . . , Yn, Z1, . . . , Zn) = Φ̄(Ȳ1, . . . , Ȳn, Z̄1, . . . , Z̄n) и отношений ri двойственными r∗i
(при этом r∗i заменяются на ri). Можно проверить, что двойственный оператор Λ∗

отличается из Λ лишь тем, что вместо члена r∗1 ∩ . . . ∩ r∗k−1 ∩ rk в нем присутствует
r∗1 ∩ . . . ∩ r∗k.

Следующая теорема указывает явный вид всех операторов типа Rn
1 → R2, где

R1,R2 ∈ {L,W ,S, I,P , T ,A}, R1 ⊆ R2.
Теорема 10 [25–28]. Оператор агрегирования имеет тип Rn

1 → R2, R1,R2 ∈
{L,W ,S, I,P , T ,A}, R1 ⊆ R2, тогда и только тогда, когда он может быть представлен
в виде, указанном в табл. 1.

Чтобы получить явный вид монотонных операторов типа Rn
1 → R2, нужно всюду

в табл. 1 заменить r̂i, Λ̂i, T̂i и Θ̂i соответственно на ri, Λi, Ti и Θi, а произвольные
операторы G — монотонными.

Строки и столбцы в таблице отвечают классам R1 и R2 соответственно, а в эле-
ментах для пар (R1,R2), таких, что R1 6⊆ R2, проставлен прочерк. Под G понимается
произвольный оператор (остальные обозначения введены выше). Часть представлен-
ных результатов, относящаяся к операторам Wn → R2, R2 ∈ {W ,P , T ,A}, получена
(другими методами) в [5, 24, 29, 30, 31].

Та б л и ц а 1

L W S I ⋂⋂P ⋂ T ⋂ A R2

L r̂i r̂i r̂i r̂ ∗
i ⋂i r̂i ⋂ i r̂i ∩⋂j r̂j r̂i ∩G

W – Λ̂ Λ̂ Λ̂ ⋂i Λ̂i i Λ̂⋂i ∩ Λ̂∗j j Λ̂ ∩G
S – – r̂i r̂i i r̂i i r̂i Θ̂ ∩G
I – – – r̂i ⋂ ⋂

i r̂i ⋂⋂i r̂i r̂i ∩G
P – – – – i r̂i i r̂i r̂i ∩G
T – – – – – i T̂i –
A – – – – – – r̂i ∩G
R1

4.4. С л о ж н о с т ь р а с п о з н а в а н и я т и п о в о п е р а т о р о в
Теорема описывает способ порождения всех операторов заданного типа, но не дает

способа проверки по произвольному оператору, представим ли он в виде, указанном
в табл. 1. Будем считать, что теоретико-множественная операция Φ, задающая опе-
ратор F , представлена в форме ∪∩ объединения пересечений множеств или их до-
полнений, либо в форме ∩∪ пересечения объединений множеств или их дополнений.
Им соответствуют булевы функции в виде ДНФ либо КНФ. Для монотонной опера-
ции Φ существует единственное представление в виде приведенной ДНФ и КНФ (т. е.
без отрицаний переменных и поглощений). Будем считать, что монотонная операция
типа ∪∩ либо ∩∪ задана приведенной ДНФ либо КНФ, а для представления произ-
вольной операции соответствующего типа может быть взята любая ДНФ или КНФ.
Сформулируем результаты о сложности проверки по оператору F (в форме ∪∩ или
∩∪), осуществляет ли он требуемое отображение Rn

1 → R2. Ответ на этот вопрос нам
не известен лишь для монотонных операторов Sn → A в форме ∩∪.

Теорема 11 [26]. Для пар классов R1,R2 ∈ {L,W ,S, I,P , T ,A}, R1 ⊆ R2, за-
дача выяснения по оператору F , заданному в форме ∪∩ или ∩∪, осуществляет ли он
отображение Rn

1 → R2, является



Логические методы построения и анализа моделей выбора 51

а) полиномиальной во всех случаях, когда оператор F монотонен, исключая, быть
может, указанный выше случай, где ответ неизвестен;

б) NP-трудной во всех случаях, когда F немонотонен, исключая случаи с R2 = A
и F в форме ∪∩, в которых она полиномиальна.

5. Декомпозиция отношений
5.1. О ц е н к и с л о ж н о с т и д е к о м п о з и ц и й

Будем рассматривать операторы над отношениями, имеющие тот же вид, что и в
предыдущем разделе. Задача декомпозиции отношений обратна задаче агрегирования
и состоит в том, чтобы представить заданное отношение r в виде

r = Φ(r1, . . . , rd, r
∗
1, . . . , r

∗
d),

где r1, . . . , rd — отношения некоторого класса R; Φ — теоретико-множественная опера-
ция. Будем предполагать, что класс R обеспечивает возможность декомпозиции про-
извольного отношения r (иррефлексивного). Под сложностью декомпозиции будем
понимать число d используемых в ней отношений. Сложность отношения r (в клас-
се R) будем измерять величиной dR(r), равной минимальной из сложностей его де-
композиций над R (использующих произвольные операции Φ). Максимум значений
dR(r) по всем отношениям r на A(n) обозначим dR(n). Введем аналогичные величины
d+
R(r) и d+

R(n) для случая, когда в декомпозициях применяются лишь монотонные опе-
рации Φ, если класс R допускает возможность такой декомпозиции для произвольных
отношений.

В качестве R будем использовать классы L, W и W(k) отношений линейного по-
рядка, слабого порядка и слабого порядка, имеющих не более k уровней. Напомним
[24], что множество A с заданным на нем слабым порядком w разбивается на группы
(уровни), элементы которых не сравнимы, и уровни могут быть занумерованы так, что
xwy тогда и только тогда, когда y принадлежит уровню с большим номером, чем x.
Указанный выбор классов для декомпозиции связан с тем, что отношения классов L,
W и W(k) представимы строгими, нестрогими и k-значными критериями. Эти клас-
сы обеспечивают возможность декомпозиции произвольных отношений, в том числе и
при использовании лишь монотонных операций Φ [7].

Теорема 12 [7, 32, 33]. Справедливы асимптотические оценки

dL(n) ∼ 2 log2 n,
2 log3 n . dW(n) 6 dW(k)(n) 6 dW(2)(n) . 2 log2(n), 5/3 log2 n . dW(2)(n).

Величины d+
L(n), d+

W(n) и d+
W(k)(n) асимптотически совпадают с dL(n), dW(n) и

dW(k)(n) соответственно.
Ранее в научной литературе исследовалась сложность декомпозиции отношений

при использовании специальных типов операций — пересечения [34–36]и мажоритар-
ной [37]. Изложение соответствующих результатов (с доказательствами) имеется в [7].

5.2. Д е к о м п о з и ц и и п о с л е д о в а т е л ь н о г о т и п а
Этот тип декомпозиций связан с моделью последовательного выбора. Будем гово-

рить, что набор отношений (r1, r2, . . . , rk) образует декомпозицию (последовательного
типа) отношения r, если для всех X ⊆ A выполнено

Cr (. . . Cr2(Cr1(X)) . . .) = Cr(X).
k



52 Л.А. Шоломов

В этом случае r = Λ(r1, r2, . . . , rk) [7, 10], где Λ — оператор лексикографии, в пред-
ставлении которого участвуют все k отношений. Декомпозицию (r1, . . . , rk) назовем
коммутативной, если любая перестановка этого набора также образует декомпози-
цию. При этом исходное отношение представимо в виде r = r1 ∪ . . . ∪ rk [38].

Пусть задан некоторый класс отношений R. Будем рассматривать декомпозиции
(последовательного типа), в которых r1, . . . , rk ∈ R. Сложность декомпозиции будем
характеризовать числом k входящих в нее отношений, а сложность отношения r бу-
дем измерять величиной kR(r) минимальной сложности его декомпозиций в классе R
(если таких декомпозиций нет, kR(r) не определено). С r свяжем еще одну сложност-
ную характеристику k0

R(r), определяемую аналогично при дополнительном условии
коммутативности декомпозиций. Исследуем вопрос, сколь сильно могут различаться
характеристики kR(r) и k0

R(r).
Рассмотрим в качестве R класс D = W(2) (отношения из него называются дихо-

томиями). Следующее утверждение показывает, что переход к коммутативным де-
композициям может привести к экспоненциальному росту сложности декомпозиций в
сравнении с минимально возможной.

Теорема 13 [38]. Если r ∈ W(s), s > 2, то kD(r) = dlog2 se, k0
D(r) = s−1, где dae

означает ближайшее к a целое число, не меньшее a.
Из результатов работы [39] следует, что задача выяснения по произвольному набо-

ру отношений (r1, r2, . . . , rk), образует ли он декомпозицию (последовательного типа)
отношения r = Λ(r1, . . . , rk), является NP-трудной. В связи с этим представляет ин-
терес изучение отношений r, для которых любое представление r = Λ(r1, . . . , rk) дает
декомпозицию (r1, . . . , rk). Такие отношения r будем называть вполне разделимыми.
Будем рассматривать также коммутативно вполне разделимые отношения r, для ко-
торых всякое представление r = r1 ∪ . . . ∪ rk дает коммутативную декомпозицию.

Чтобы описать класс всех вполне разделимых отношений, введем некоторые поня-
тия. Скажем, что отношение r′, заданное на множестве A′, получено из отношения r
на множестве A расщеплением элементов x1, . . . , xs ∈ A, если A′ = A ∪ {x′1, . . . , x′s} и
r′ образовано из r добавлением при i = 1, . . . , s пар (xi, x

′
i), (x′i, xi), а также (y, x′i) и

(x′i, z) для всех таких y и z из A, что yrxi и xirz. Если r — отношение и для элемента
x нет таких y, что xry, то x называется минимальным в r.

Теорема 14 [38].
1. Отношение вполне разделимо тогда и только тогда, когда оно может быть полу-

чено из частичного порядка расщеплением некоторых минимальных элементов.
2. Отношение коммутативно вполне разделимо тогда и только тогда, когда оно

является частичным порядком.
Из теоремы следует, что в случае асимметричных отношений оба типа вполне раз-

делимости определяют один и тот же класс P отношений частичного порядка. Тео-
рема 13 показывает, что использование для отношений этого класса коммутативных
декомпозиций может привести к экспоненциальному росту сложности.

6. Контекстно-независимые модели
6.1. П о н я т и е к о н т е к с т н о - н е з а в и с и м о г о в ы б о р а

Под контекстной независимостью модели выбора понимается отсутствие в описа-
нии модели элементов, зависящих от предъявленного множества вариантов. Класси-
ческие модели выбора, базирующиеся на критериях или отношениях предпочтения,



Логические методы построения и анализа моделей выбора 53

считаются контекстно-независимыми (КН), поскольку на критериальные оценки или
результаты парного сравнения вариантов не влияет состав предъявления. Наличие
зависимости от контекста значительно усложняет исследование моделей выбора [8].
Строгого понятия КН-выбора, пригодного для моделей достаточно общего вида, не
было, и обсуждения, связанные с контекстной зависимостью либо независимостью,
велись на неформальном уровне и касались конкретных моделей. Отсутствие точного
определения не позволяло сделать КН-выбор предметом строгого изучения.

Формальное определение КН-выбора дано в [14]. Из этой работы следует, что класс
моделей, не зависящих от контекста, включает основные модели, используемые в при-
ложениях. КН-модели допускают единообразное формальное описание и единые ме-
тоды исследования. Работа [14] в значительной мере основана на результатах из [40],
где исследовались КН-модели частного вида — порядковые. Данный раздел написан
по материалам [14, 40].

Дальше мы отказываемся от предположения о конечности множества вариантов
A — оно может быть произвольным. Предлагаемый подход использует язык узкого
исчисления предикатов [41]. Формулы этого языка содержат (наряду с предметны-
ми переменными, запятыми и скобками) символы предикатов, логические связки и
кванторы, примененные к предметным переменным. Рассматриваются интерпретации
формул, в которых предметные переменные принимают значения из множества A и
предикаты заданы на всем A. Если F(x, . . . , z) — формула, всеми свободными пере-
менными которой являются x, . . . , z, и если заданы X ⊆ A, x̂, . . . , ẑ ∈ X, то через
F(x̂, . . . , ẑ)|X будем обозначать значение формулы F (истина либо ложь) на множе-
стве X при x = x̂, . . . , z = ẑ (связанные переменные принимают значения из X).
Функция выбора C на множестве A называется контекстно-независимой, если суще-
ствует формула C(x) с одним предметным переменным x такая, что для всех X ⊆ A
и x ∈ X выполнено x ∈ C(X) ⇔ C(x)|X . В этом случае C называется формализацией
функции C. Она обеспечивает единое при всех X описание ФВ C (более подробное
обсуждение в [14]).

В качестве примеров приведем формализации для трех правил выбора по отноше-
нию, введенных в п. 1.3:

Cr,1(x) = (∀y)xr∗y, Cr,2(x) = (∀y)xry, Cr,3(x) = (∃y)xry ∨ (∀z)xr∗z,

где r∗ — двойственное отношение.
6.2. О п е р а ц и и н а д ф о р м а л и з а ц и я м и

Непосредственное построение формализаций для сколь-нибудь сложных моделей
связано со значительными трудностями. Для упрощения этого процесса рассмотрим
некоторые операции над КН-функциями и укажем соответствующие преобразования
формализаций.

Суперпозиция. Определение этой операции дано в п. 1.4. Чтобы описать форма-
лизацию суперпозиции, введем некоторые понятия [42]. Пусть A — формула узкого
исчисления предикатов и P — одноместный предикат. Формула AP , полученная из A
заменой всех подформул ∀yF на ∀y(P (y)→ F) и всех подформул ∃yF на ∃y(P (y)∧F),
называется релятивизацией A относительно P [42]. Если C1(x) и C2(x) — формали-
зации ФВ C1 и C2, то суперпозиция C1 ◦ C2 имеет формализацию [40]

C(x) = C1(x) ∧ C2,C1(x),

где C2,C1 — релятивизация C2(x) относительно C1(x).



54 Л.А. Шоломов

В качестве примера приведем формализацию функции последовательного выбора
Cr1r2 глубины 2, полученную с использованием формализаций для функций Cr выбора

i

по отношениям, ассоциативности операции суперпозиции и некоторых эквивалентных
преобразований:

Cr1r2(x) = ∀y∃z(xr∗1y ∧ (zr1y ∨ xr∗2y)).

Композиция. Определение этой операции дано в п. 1.5. Если ФВ C образована
композицией КН-функций C1, . . . , Ck с помощью теоретико-множественной операции
F , т. е. C(X) = F (C1(X), . . . , Ck(X)), то она является КН-функцией и имеет формали-
зацию

C(x) = f( C1(x), . . . , Ck(x)),

где f — булева функция, соответствующая операции F .
Ветвление. Пусть Q —некоторое свойство выбора. Будем записывать QX(C), если

C(X) удовлетворяет свойству Q. Оператор ветвления ∇Q сопоставляет функциям
выбора C1 и C2 функцию {

C
(C 1(X), если QX(C),

1∇QC2)(X) =
C2(X), если Q̄X(C).

Свойство Q назовем формализуемым, если существует замкнутая формула Q(C) узко-
го исчисления предикатов, содержащая переменный одноместный предикат C, и такая,
что для любой КН-функции C и ее формализации C выполненоQ(C)|X ⇔ QX(C). При-
мером может служить свойство «выбирается не бол∨ее k вариантов». Его формализация
имеет вид ∀x1 . . . ∀xk+1(C(x1) ∧ . . . ∧ C(xk+1)→ xi=xj).

16i<j6k+1

Если C1 и C2 — КН-функции и свойство Q формализуемо, то C = C1∇QC2 также
является КН-функцией, ибо

C(x) = (C1(x) ∧Q(C1)) ∨ (C2(x) ∧ Q̄(C1)).

Ограниченная обратная связь. Нетрудно видеть, что операция ∇Q ассоциатив-
на и потому можно рассматривать многоместную операцию C1∇QC2∇Q . . .∇QCs. При
заданном s введем операцию ограниченной обратной связи

BF(C1, C2, . . . , Cs | Q) = C1∇QC2∇Q . . .∇QCs∇QC
1,

где C1(X) ≡ X. Эта операция описывает s-туровую процедуру выбора с обратной
связью: выбор Ci(X), произведенный на туре i, считается окончательным, если удо-
влетворяет свойству Q, в противном случае переходят к туру i+ 1. Если процедура в
течение s туров не завершится, она прерывается и возвращается в исходное состояние.
Операция BF в применении к КН-функциям и формализуемому свойству дает КН-
функцию, поскольку выражается через ветвление.

Результаты данного пункта могут быть подытожены следующим утверждением.
Теорема 15. Операции суперпозиции, композиции, ветвления и ограниченной

обратной связи, примененные к контекстно-независимым функциям выбора, дают
контекстно-независимые функции.

Отсюда видно, что большинство используемых в приложениях моделей выбора по-
рождает КН-функции. Иногда с помощью этих операций удается доказать, что модель,
исходно построенная как контекстно зависимая, реализует КН-выбор. Примером мо-
жет служить [14] модель выбора «по числу первых мест», когда выбор осуществляется
по некоторой совокупности критериев и выбираются варианты, являющиеся лучшими
в данном предъявлении по наибольшему числу критериев.



Логические методы построения и анализа моделей выбора 55

6.3. У п р о щ е н и е и а н а л и з ф о р м а л и з а ц и й
Будем рассматривать формализации, приведенные к предваренной (пренексной)

форме [42]:
C(x) = Q1y1 . . . QsysF(x, y1, . . . , ys),

где Q1, . . . , Qs ∈ {∀,∃}, F — бескванторная формула. Такое прдставление будем назы-
вать (Q1 . . . Qs)-формулой. Число s кванторов будем называть рангом формулы. Ранг
характеризует размерность модели выбора. В связи с этим возникает задача миними-
зации ранга.

Рассмотрим эту задачу применительно к моделям последовательного выбора Cr1...rk
и параллельного выбора CF,r1...r . Непосредственное построение формализаций метода-

k

ми п. 6.2 с последующим приведением к предваренной форме дают для этих функций
формализации, ранг которых экспоненциально зависит от k. Применение эквивалент-
ных преобразований логики предикатов с использованием ассоциативности операции
суперпозиции позволяет существенно уменьшить эту величину.

Теорема 16 [14, 40]. Для последовательного выбора глубины k и параллельного
выбора ширины k существуют формализации, ранг которых не превосходит k.

Формализации могут быть использованы для исследования свойств КН-функций.
Остановимся на двух свойствах, наиболее часто встречающихся в научной литературе
(см., например, [23]). Говорят, что ФВ C обладает свойством

- наследования, если C(X1 ∪X2) ⊆ C(X1) ∪ C(X2);
- согласия, если C(X1 ∪X2) ⊇ C(X1) ∩ C(X2).
Теорема 17 [40]. Если функция выбора C формализуема посредством (а)

(∀ . . . ∀)-формулы, (б) (∀∃ . . . ∃)-формулы, то она обладает свойством (а) наследова-
ния, (б) согласия.

Рассмотрим примеры применения теоремы. Функция параллельного выбора опи-
сывается (∀ . . . ∀)-формулой, поэтому она удовлетворяет свойству наследования. По-
следовательный выбор глубины 2 имеет (∀∃)-формализацию (см. выше), поэтому для
него справедливо свойство согласия. Выбор по отношению описывается (∀)-формулой
и, следовательно, удовлетворяет обоим свойствам. Выбор по отношению, основанный
на исключении худших вариантов, может быть представлен (∀∃)-формулой и потому
обладает свойством согласия.

Другие применения формализаций для исследования ФВ будут приведены в раз-
деле, относящемся к порядковым моделям выбора.

Часть II. ПОРЯДКОВЫЕ МОДЕЛИ ВЫБОРА
7. Порядковые отношения на Rn

7.1. П о р я д к о в ы е о т н о ш е н и я
Будем рассматривать n-мерное действительное пространство Rn, точки которого

будем обозначать через x = (x1, . . . , xn), y = (y1, . . . , yn) и т. д. Для x,y ∈ Rn положим

∆(x,y) = (sgn (x1 − y1), . . . , sgn (xn − yn)),

где sgn z = −1, 0 и 1 при z < 0, z = 0 и z > 0 соответственно. Отношение ρ на Rn

называется порядковым, если

∆(x,y) = ∆(x′,y′) =⇒ xρy ⇔ x′ρy′.



56 Л.А. Шоломов

Если дополнительно выполнено условие xρy ∧ z > x ⇒ zρy, где z > x ⇔
z1 > x1, . . . , zn > xn, порядковое отношение (ПО) ρ называется правильным.

Порядковые отношения (обычно правильные) часто используются в задачах мно-
гокритериального выбора [3]. Точки пространства Rn интерпретируются как наборы
оценок вариантов по n заданным критериям. Хорошо известными примерами правиль-
ных ПО являются отношение Парето xπy ⇐⇒ x > y ∧ x 6= y и лексикография

xλy ⇐⇒ x1>y1 ∨ (x1 =y1 ∧ x2>y2) ∨ . . . ∨ (x1 =y1 ∧ . . . ∧ xk−1 =yk−1 ∧ xk>yk),

k 6 n. При k = n лексикография называетcя полной.
7.2. Л о г и ч е с к о е о п и с а н и е

Обозначим через P3,2 класс двузначных функций g(u1, . . . , un) = g(ũ) от трех-
значных аргументов, us ∈ {−1, 0,+1}, 1 6 s 6 n, ∀ũ(g(ũ) ∈ {0, 1}). ПО ρ од-
нозначно задается представляющей функцией gρ(ũ), связанной с ρ соотношением
xρy ⇔ gρ(∆(x,y)) = 1. Нетрудно видеть, что отношение ρ правильно тогда и только
тогда, когда функция gρ монотонна, т. е. удовлетворяет условию ũ > ṽ ⇒ gρ(ũ) > gρ(ṽ).

Введем функции p(u), p′(u) ∈ P3,2 от одного аргумента, положив p(u) = 1⇔ u > 0,
p′(u) = 1⇔ u > 0. Всякая функция g ∈ P3,2 представима в виде [26]

g(u1, . . . , un) = ϕ(p(u1), . . . , p(un), p′(u1), . . . , p′(un)),

где ϕ — булева функция. Введя обозначения pi, p′i вместо p(ui), p′(ui) и положив
P = (p1, . . . , pn), P ′ = (p′1, . . . , p

′
n), будем записывать такое представление в виде

g = ϕ(P, P ′). Имея это в виду, иногда будем считать g функцией переменных (P, P ′) и
писать g(P, P ′).

Выделим два специальных представления функций g ∈ P3,2 — ДНФ и КНФ [26].
С учетом эквивалентных соотношений pi ∧ p′i = pi и p̄′i ∧ p̄i = p̄′i любая конъюнкция
K 6≡ 0 от переменных (P, P ′) может быть приведена к виду K = q1q2 . . . qn (знач-
ки ∧ конъюнкции опущены), где qi ∈ {pi, p′i, p̄i, p̄′i, p′ip̄i, 1} (qi = 1 означает отсутствие
соответствующего сомножителя). Такие конъюнкции будем называть элементарны-
ми конъюнкциями, а сомножители qi — элементарными сомножителями. Дизъюнк-
цию элементарных конъюнкций назовем дизъюнктивной нормальной формой (ДНФ).
Всякая функция g 6≡ 0 представима в виде ДНФ, а ДНФ функции g ≡ 0 считаем
равной 0. Любая монотонная функция единственным образом реализуется в виде при-
веденной ДНФ, т. е. ДНФ, не содержащей отрицаний переменных и поглощаемых с
учетом соотношений pi 6 p′i конъюнкций (K1 поглощает K2 , если K1 > K2). Двой-
ственным образом вводится понятие элементарной дизъюнкции D = d1 ∨ . . . ∨ dn,
где di ∈ {pi, p′i, p̄i, p̄′i, pi ∨ p̄′i, 0} называется элементарным слагаемым. Всякая функция
g 6≡ 1 представима конъюнктивной нормальной формой — конъюнкцией элементар-
ных дизъюнкций, а всякая монотонная функция единственным образом представима
приведенной КНФ, т. е. КНФ, не содержащей отрицаний переменных и поглощаемых
дизъюнкций (D1 поглощает D2, если D1 6 D2). Приведенные ДНФ и КНФ функции
g ≡ const считаются совпадающими с этой константой.

Укажем явный вид приведенных ДНФ и КНФ представляющей функции отноше-
ния лексикографии:

gλ = p1 ∨ p′1p2 ∨ p′1p′2p3 ∨ . . . ∨ p′1...p′k−1pk,
gλ = p′1(p1 ∨ p′2)(p1 ∨ p2 ∨ p′3) . . . (p1 ∨ . . . ∨ pk−2 ∨ p′k−1)(p1 ∨ . . . ∨ pk).



Логические методы построения и анализа моделей выбора 57

7.3. О п е р а ц и и н а д о т н о ш е н и я м и и п р е д с т а в л я ю щ и м и
ф у н к ц и я м и

Существенную роль при исследовании свойств ПО играет возможность описания
основных операций над ПО в терминах преобразования представляющих функций
[26, 43].

1◦. Если ρ = F (ρ1, . . . , ρk), где F — теоретико-множественная операция, ρ1, . . . , ρk
— ПО, то

gρ(P, P
′) = ϕF (gρ1(P, P

′), . . . , gρ (P, P ′)),
k

где ϕF — булева функция, соответствующая операции F .
Скажем, что ρ′ получено из ρ инвертированием оси 1, если

(x1, x2, . . . , xn)ρ′(y1, y2, . . . , yn)⇔ (y1, x2, . . . , xn)ρ(x1, y2, . . . , yn).

Аналогично определяется результат инвертирования оси i. Отношение ρ̂, полученное
из ρ инвертированием некоторых осей, называется однотипным с ρ.

2◦. Если ρ′ образовано из ПО ρ инвертированием оси i, то представляющая функция
gρ′ может быть получена из gρ заменой pi и p′i соответственно на p̄′i и p̄i, т. е. при i = 1
имеет вид

gρ′(p1, . . . , pn, p
′
1, . . . , p

′
n) = gρ(p̄

′
1, p2, . . . , pn, p̄1, p

′
2, . . . , p

′
n).

В случае однотипных отношений указанную замену нужно произвести для всех
инвертированных осей.

3◦. Представляющая функция отношения ρ−1, обратного к ПО ρ, может быть за-
писана в виде

gρ−1(P, P ′) = gρ(P̄
′, P̄ ),

где P̄ = (p̄1, . . . , p̄n), P̄ ′ = (p̄′1, . . . , p̄
′
n).

4◦. Представляющая функция отношения ρ∗, двойственного к ρ, имеет вид

gρ∗(P, P
′) = g∗ρ(P

′, P ),

где g∗ρ — булева функция, двойственная к gρ.
Введем операцию композиции g ◦ ĝ функций g(P, P ′) и ĝ(P, P ′), которая позволит

найти представляющую функцию произведения отношений. Операцию ◦ определим
вначале для элементарных сомножителей, затем для элементарных конъюнкций и,
наконец, — для функций, заданных посредством ДНФ.

Композиция qi ◦ q̂i элементарных сомножителей находится согласно табл. 2, содер-
жащей в пересечении строки qi и столбца q̂i значение qi ◦ q̂i. Композицией элемен-
тарных конъюнкций K = q1 . . . qn и K̂ = q̂1 . . . q̂n назовем элементарную конъюнкцию

Та б л и ц а 2

pi p′i p̄i p̄′i p′ip̄i 1
pi pi pi 1 1 pi 1
p′i pi p′i 1 1 p′i 1
p̄i 1 1 p̄i p̄′i p̄i 1
p̄′i 1 1 p̄′i p̄′i p̄′i 1

p′ip̄i pi p′i p̄i p̄′i p′ip̄i 1
1 1 1 1 1 1 1



58 Л.А. Шоломов

K ◦ K̂ = (q1 ◦ q̂1) . . . (qn ◦ q̂n). Композицию функций g, ĝ 6≡ 0, заданных посредством
ДНФ g = K1 ∨ . . . ∨Ks и ĝ = K̂1 ∨ . . . ∨ K̂∨t, определим равенством

g ◦ ĝ = Ku ◦ K̂v.
16u6s, 16v6t

Теорема 18. Представляющая функция произведения ρ1ρ2 находится как компо-
зиция gρ1 ◦ gρ2 представляющих функций для ρ1 и ρ2.

Если определить степень gk функции g, положив g1 = g, gk = gk−1 ◦ g, k > 2, то
последовательность степеней не убывает, т. е. g 6 g2 6 . . . 6 gk 6 . . ., и ограничена
[26]. Результат ее стабилизации обозначим [g].

Произведение порядковых отношений обладает рядом свойств, не имеющих ме-
ста для произвольных отношений. В их числе коммутативность ρ1ρ2 = ρ2ρ1 (выте-
кающая из коммутативности операции композиции) и свойство неубывания степеней
ρ ⊆ ρ2 ⊆ . . . ⊆ ρk ⊆ . . ., где ρ1 = ρ, ρk = ρk−1ρ, k > 2. Результат стабилизации
этой неубывающей ограниченной последовательности, который обозначим [ρ], явля-
ется транзитивным замыканием отношения ρ. Легко видеть, что оно является поряд-
ковым отношением (а для правильного отношения ρ — правильным) и функция g[ρ]

совпадает с [gρ].
7.4. Р а с п о з н а в а н и е с в о й с т в о т н о ш е н и й

Следующая теорема связывает свойства порядковых отношений, определенные
в п. 4.2, со свойствами представляющих функций. Пусть 0̃ = (0, . . . , 0) и 1̃ = (1, . . . , 1)
— наборы длины n, D0 = p1 ∨ . . . ∨ pn ∨ p̄′1 ∨ . . . ∨ p̄′n.

Теорема 19 [26]. Порядковое отношение ρ (а) рефлексивно, (б) иррефлексивно,
(в) асимметрично, (г) антисимметрично, (д) полно, (е) связно, (ж) транзитивно, (з)
негатранзитивно, (и) ациклично тогда и только тогда, когда

(а) gρ(0̃, 1̃) = 1, (б) gρ(0̃, 1̃) = 0, (в) gρ(P, P
′) 6 g∗ρ(P

′, P ), (г) D0gρ(P, P
′) 6

6 D0g
∗
ρ(P

′, P ), (д) gρ(P, P ′) > g∗ρ(P
′, P ), (е) D0gρ(P, P

′) > D0g
∗
ρ(P

′, P ), (ж) gρ(P, P ′) ◦
gρ(P, P

′) 6 gρ(P, P
′), (з) g∗ρ(P ′, P ) ◦ g∗ρ(P ′, P ) 6 g∗ρ(P

′, P ), (и) [gρ](0̃, 1̃) = 0.
Рассмотрим вопрос о сложности распознавания свойств отношений по их пред-

ставляющим функциям. Будем считать, что представляющие функции заданы посред-
ством ДНФ или КНФ, причем для ПО общего вида эти ДНФ и КНФ произвольны,
для правильных ПО являются приведенными. В [26, 43] проведено исследование на
NP-трудность и полиномиальность задач распознавания свойств отношений, сформу-
лированных в п. 4.2. Получены следующие результаты.

Теорема 20 [43]. Задачи проверки по представляющим функциям порядковых
отношений, заданных в виде ДНФ либо КНФ, обладают ли они свойствами рефлексив-
ности, иррефлексивности, асимметричности, антисимметричности, полноты, связно-
сти, транзитивности, негатранзитивности, ацикличности, являются полиномиальными
либо NP-трудными в соответствии с тем, как указано в табл. 3, где P и NP означают
соответственно полиномиальность и NP -трудность.
7.5. С и н т е з п о р я д к о в ы х о т н о ш е н и й с з а д а н н ы м и с в о й с т в а м и

Выше логические методы применялись для анализа ПО. Использование этих мето-
дов для построения ПО с требуемыми свойствами проиллюстрируем примером отно-
шений с заданным соотношением критериев по важности. Многие алгоритмы постро-
ения многокритериальных моделей существенно используют информацию о важности



Логические методы построения и анализа моделей выбора 59

Та б л и ц а 3

Тип отношений
произвольные правильные

Свойство Вид задания
ДНФ КНФ ДНФ КНФ

Рефлексивность
Иррефлексивность P P P P
Асимметрия
Антисимметрия P NP P NP
Полнота
Связность NP P NP P
Транзитивность
Негатранзитивность NP NP P P
Ацикличность P NP P P

критериев. Формальные понятия, связанные с важностью (силой) критериев введе-
ны в [44, 45] и получили развитие в ряде исследований (см., например, [3]). Дадим
соответствующие определения [46], которые несколько отличаются от используемых
в указанных работах, поскольку ориентированы на ПО и произвольное соотношение
критериев по важности.

Пусть на множестве критериев {1, . . . , n} задано рефлексивное отношение r силы
критериев. Будем считать, что в случаях (а) irj, (б) irj ∧ jr̄i, (в) irj ∧ jri, (г) ir̄j ∧ jr̄i
критерий (а) не слабее j, (б) сильнее j, критерии i и j (в) равноценны, (г) несравнимы.
Обозначим через ũij набор, полученный из ũ ∈ {−1, 0,+1}n перестановкой компонент
ui и uj, 1 6 i, j 6 n. Скажем, что ПО ρ согласовано с отношением силы r, если

(gρ(ũ) = 1 ∧ irj ∧ (ui = −1) ∧ (uj = 1))⇒ gρ(ũij) = 1.

Обозначим через τr наименьшее транзитивное ПО, согласованное с r и включающее
отношение Парето π.

В [46] найден явный вид представляющей функции отношения τr для произвольно-
го отношения r силы критериев. Сложность формулы (число символов переменных),
задающей представляющую функцию, не превосходит n(n+ 1)/2. Укажем ее для слу-
чая, когда r — частичный порядок.

Теорема 21 [46]. Если r — отн∧ош(ение част∨ичного)порядка, то
gτr = p′i ∨ pj .

16i6n j∈r−1(i)\{i}

Рассмотрим важный для приложений частный случй, когда r — слабый порядок.
Пусть множество критериев разбито на группы I1, . . . , Ik и считается, что при s < t
критерии из группы Is сильнее критериев из It (а внутри группы они несравнимы).
Можно показать, что тогда отношение τr приобретает вид τr = π(I1)∪π(I1 ∪ I2)∪ . . .∪
π(I1∪. . .∪Ik), где через π(I) обозначено отношение Парето на множестве критериев I ⊆
{1, . . . , n}. Отсюда в силу теоремы 14 следует, что выбор по отношению τr может быть
заменен последовательным выбором по набору отношений Парето. Для паретовского
выбора могут быть применены известные эффективные процедуры.



60 Л.А. Шоломов

8. Связь порядковых отношений и операторов группового выбора
8.1. Я в н ы й в и д п о р я д к о в ы х о т н о ш е н и й

Теорема 19 позволяет найти явный вид порядковых отношений из классов
L ,W ,S , I ,P , T ,A, определенных в п. 4.2. Отношения, однотипные с лексико-
графиями и полными лексикографиями, т. е. полученные из них инвертированием
некоторых осей, будем называть обобщенными лексикографиями и обобщенными пол-
ными лексикографиями.

Теорема 22 [26, 43]. Порядковое отношение является (а) линейным порядком;
(б) слабым порядком, полупорядком, интервальным порядком; (в) частичным поряд-
ком; (г) транзитивным отношением; (д) ацикличным отношением тогда и только то-
гда, когда оно представляет собой (а) обобщенную полную лексикографию; (б) обоб-
щенную лексикографию; (в)пересечение обобщенных лексикографий; (г) пересечение
обобщенных лексикографий или пересечение отношений, двойственных обобщенным
лексикографиям; (д) может быть дополнено до обобщенной лексикографии.

В случае правильных ПО нужно всюду в формулировке заменить обобщенные и
полные обобщенные лексикографии лексикографиями и полными лексикографиями.

Таким образом, для ПО на Rn классыW , S и I совпадают, в то время как в общем
случае имеют место строгие включения W ⊂ S ⊂ I.

Приведем результаты о сложности проверки по представляющим функциям по-
рядковых отношений (произвольных и правильных) в форме ДНФ и КНФ их принад-
лежности рассматриваемым классам.

Теорема 23 [26, 43]. Задача распознавания по представляющей функции в виде
ДНФ или КНФ принадлежности отношения ρ классу Q ∈ {L,W ,S, I,P , T ,A} реша-
ется полиномиально для правильных ПО, а для ПО общего вида является NP-трудной
во всех случаях, исключая сучай Q = A и gρ в виде ДНФ, в котором задача решается
полиномиально.

8.2. С в е д е н и е з а д а ч и с и н т е з а о п е р а т о р о в г р у п п о в о г о
в ы б о р а к р а с п о з н а в а н и ю с в о й с т в П О

Вернемся к задаче синтеза операторов группового выбора для модели свободного
выбора, сформулированной и рассмотренной в п. 4.1. Ниже будут приведены резуль-
таты, показывающие, что эта задача родственна задаче анализа свойств порядковых
отношений, а в некоторых постановках — эквивалентна ей. Найденное соответствие
между операторами и порядковыми отношениями позволяет унифицировать иссле-
дования в этих областях, ранее проводившиеся параллельно. Оно дает возможность
связать ряд результатов по агрегированию с фактами из классической теории отноше-
ний (леммой Шпильрайна, теоремой Душника–Миллера) и объяснить наблюдаемые
аналогии. Данный подход сводит достаточно сложные объекты (операторы над отно-
шениями) к простым объектам (порядковым отношениям), что облегчает исследование
операторов, позволяет использовать геометрическую интуицию. Он предложен в [26],
расширен в [25, 27], его изложению и обсуждению посвящен обзор [28]. Связь этого
подхода с методом интерпретаций, применяемым в теории моделей, рассмотрен в [47].

Cвойства отношений r и классы отношений обычно задаются системами аксиом,
которые в большинстве случаев имеют вид

∀x1 . . . ∀xsP (x1, . . . , xs),



Логические методы построения и анализа моделей выбора 61

где P — бескванторная формула, содержащая (наряду с предметными переменными
xi и логическими операциями) вхождения двуместного предиката xirxj и предиката
равенства xi = xj. Такие свойства и классы отношений будем называть универсально
аксиоматизируемыми. В частности, универсально аксиоматизируемыми являются все
свойства и классы отношений, введенные в п. 4.2 (кванторы общности там опущены
и аксиомы записаны в форме P (x1, . . . , xs)). Если равенства в аксиомах отсутствуют,
то они являются формулами узкого исчисления предикатов [41], и соответствующие
свойства и классы отношений будем называть узко универсально аксиоматизируемы-
ми. В п. 4.2 такими являются все свойства, исключая антисимметрию и связность,
в определении которых участвуют неравенства (отрицания равенств), и все классы,
исключая L.

Установим соответствие между опраторами группового выбора рассматриваемого
типа F = Φ(r1, . . . , rn, r

∗
1, . . . , r

∗
n) и функциями (3,2)-значной логики, сопоставив опера-

тору F функцию gF = ϕ(p1, . . . , pn, p
′
1, . . . , p

′
n), где ϕ — булева функция, отвечающая

теоретико-множественной операции Φ. Нетрудно видеть, что это соответствие взаимно
однозначно. Обозначим через ρF ПО с представляющей функцией gρ = gF . Следую-F

щая теорема устанавливает связь между операторами F типаWn → R и соответству-
ющими им ПО ρF .

Теорема 24 [26]. Если R — узко универсально аксиоматизируемый класс от-
ношений, то оператор F = Φ(r1, . . . , rn, r

∗
1, . . . , r

∗
n) осуществляет отображение

Wn → R тогда и только тогда, когда соответствующее ему порядковое отношение
ρF принадлежит R.

Отметим, что теорема не переносится на все универсально (не узко) аксиоматизи-
руемые классы (например, на L). Используя указанное в предыдущем пункте явное
описание ПО из основных классов, получаем явный вид операторов типа Wn → R,
указанный в теореме 10.

Явный вид операторов типа Ln → R может быть получен путем следующего све-
дения к теореме 24 [27, 28]. Поскольку для отношения ri ∈ L при x 6= y выполнено
xr̄iy = xr−1y и xriy = xr∗i y, можно путем эквивалентных преобразований привести опе-
ратор F = Φ(r1, . . . , rn, r

∗
1, . . . , r

∗
n) к виду F = Ψ(r1, . . . , rn, r

−1
1 , . . . , r−1

n ), если он порож-
дает иррефлексивные отношения, либо к виду F = Ψ(r∗1, . . . , r

∗
n, r̄1, . . . , r̄n), если он по-

рождает рефлексивные отношения. Здесь Ψ — монотонная теоретико-множественная
операция. Такие операторы будем называть однородными, а преобразование, с помо-
щью которого они получены, — редукцией.

Теорема 25 [27, 28]. Если R — узко универсально аксиоматизируемый класс от-
ношений и множество F операторов решает проблему синтеза для Wn → R, то мно-
жество всех однородных операторов F ′, полученных редукцией операторов F ∈ F ,
решает проблему синтеза для Ln → R.

Отсюда с учетом легко проверяемого факта, что редукция обобщенной лексикогра-
фии дает оператор ri либо r−1

i , получаем явный вид операторов Ln → R, указанный в
теореме 10.

Для других классов отношений R1 не удалось сформулировать общих результатов
о виде операторов Rn

1 → R2, подобных теоремам для W и L. Однако сам подход к
описанию операторов Rn

1 → R2 на основе представляющих функций gρ отношений
ρ ∈ R2 применим (в некотором модифицированном виде) и для других классов отно-
шений [25, 26]. Этим способом был установлен явный вид всех операторов в теореме 10.
Наибольшие трудности вызвали операторы Sn → A и T n → T .



62 Л.А. Шоломов

9. Порядковые отношения в произвольных критериальных пространствах
9.1. К р и т е р и а л ь н ы е п р о с т р а н с т в а о б щ е г о в и д а

Выше рассматривались порядковые отношения на Rn. Но в прикладных задачах
выбора обычно применяются критерии с ограниченным множеством значений — каче-
ственные, балльные, количественные с конечными шкалами. Отношения на Rn обла-
дают рядом полезных свойств, облегчающих их исследование. Так, например, произве-
дение порядковых отношений в пространстве Rn является порядковым, а в простран-
ствах с конечными шкалами нет. Доказательства для пространства Rn используют его
плотность и на общий случай пространств не переносятся, некоторые результаты при-
обретают другой вид. Данный раздел посвящен ПО в произвольных критериальных
пространствах.

Будем рассматривать критериальные пространства X = X1×· · ·×Xn, являющиеся
декартовыми произведениями некоторых подмножеств Xi множества R действитель-
ных чисел. Упорядоченное множество Xi будем называть шкалой критерия i, а его
мощность |Xi|, обозначаемую дальше κi, — значностью критерия i (шкалы i). Кри-
терии могут быть конечнозначными и бесконечнозначными. Минимальную из значно-
стей κi шкал, образующих пространство X, обозначим через κ(X) и назовем индексом
пространства X. Порядковые отношения на X и связанные с ними понятия опреде-
ляются как раньше, если всюду в определениях заменить Rn на X.

Дальше будем считать, что κ(X) > 2. Тогда множество всех ∆(x,y) для x,y ∈ X
совпадает с {−1, 0, 1}n, и отношение однозначно распространяется на любые x,y ∈ Rn.
Отношение на всем Rn, определяемое 3n значениями ∆(x,y), будем называть пополне-
нием исходного отношения. Для пополнения будем использовать обозначение ρ, а для
исходного отношения, которое можно рассматривать как сужение ρ на X, — обозна-
чение ρX. Представляющей функцией отношения ρX будем считать представляющую
функцию gρ его пополнения.

9.2. В л о ж е н и е о т н о ш е н и й в к р и т е р и а л ь н ы е п р о с т р а н с т в а
Рассмотрим задачу вложения отношений, заданных на произвольном конечном

множестве A, в критериальные пространства. Это позволяет заменять модели сво-
бодного выбора моделями многокритериального выбора по порядковым отношениям.
Поскольку трудоемкость многокритериального выбора существенно зависит от числа
критериев, ставится задача вложения в пространства возможно меньшей размерности.
Дадим соответствующие определения.

Пусть r — отношение на конечном множестве A. Будем говорить, что r вложимо
в критериальное пространство X, если можно так приписать вариантам x ∈ A наборы
x ∈ X и назначить такое порядковое отношение ρ на X, что xry ⇔ xρy для любых
x, y ∈ A. В случае правильных порядковых отношений будем говорить о правильном
вложении. Обозначим через XA множество наборов x ∈ X, сопоставленных при вло-
жении вариантам x ∈ A. Отношения r будем предполагать иррефлексивными (для
рефлексивных результаты аналогичны).

Выделим некоторые типы вложений. Критерий i назовем строгим, если для лю-
бых x,y ∈ XA, x 6= y, имеет место xi 6= yi, а в противном случае — нестро-
гим. Если условие строгости выполнено при всех i, будем говорить о вложении в
пространство строгих критериев. В случае, когда все критерии являются нестроги-
ми и принимают не более k значений, будем говорить о вложении в пространство
k-значных критериев. Следующий результат устанавливает связь между вложениями в



Логические методы построения и анализа моделей выбора 63

критериальные пространства и декомпозициями отношений, рассмотренными в п. 5.1.
Под Φ понимается теоретико-множественная операция.

Теорема 26 [7, 32, 33]. Отношение r вложимо в d-мерное пространство с (а) про-
извольными, (б) k-значными, (в) строгими критериями тогда и только тогда, когда
оно представимо в виде

r = Φ(r1, . . . , rd, r
∗
1, . . . , r

∗
d),

где отношения r1, . . . , rd принадлежат (а) классу W , (б) классу W(k), (в) классу L.
Эти результаты переносятся на правильные вложения, если в качестве операции Φ

взять монотонную.
Замечание. Поскольку для линейных порядков ri при x 6= y выполнено

xr∗i y = xriy, то в случае строгих критериев представление, указанное в теореме, сво-
дится к более простому r = Φ(r1, . . . , rd).

Всякое отношение r вложимо и правильно вложимо при всех рассматриваемых
типах вложения в критериальные пространства подходящей размерности [7]. Обозна-
чим через d(r), d̂(r) и dk(r) минимальные размерности пространств с соответственно
произвольными, строгими и k-значными критериями, в которые вложимо r, а через
d(n), d̂(n) и dk(n) — их максимальные значения по всем отношениям (иррефлексивным)
на множестве A мощности n. Аналогичные величины d+(n), d̂+(n) и d+

k (n) введем
для правильных вложений. Из теоремы 12 в силу предшествующей теоремы получаем
следующие результаты.

Теорема 27 [7, 32, 33]. Справедливы асимптотические оценки

d̂(n) ∼ 2 log2 n,
2 log3 n . d(n) 6 dk(n) 6 d2(n) . 2 log2(n), 5/3 log2 n . d2(n).

Величины d̂+(n), d+(n) и d+
k (n) асимптотически совпадают с d̂(n), d(n) и dk(n)

соответственно.
9.3. С в е д е н и е к о т н о ш е н и я м н а Rn

В данном пункте описан подход, развитый в [48, 49], который сводит исследование
свойств порядковых отношений в пространствах с конечными шкалами к аналогичным
задачам для Rn и позволяет воспользоваться многими результатами, полученными
для Rn. Он родствен некоторым подходам, применяемым в математической логике
и теории моделей. Формулировка этого подхода в терминах теории моделей имеется
в [50].

Будем рассматривать универсально аксиоматизируемые свойства отношений
(см. п. 8.2). Такие свойства задаются аксиомами, использующими лишь кванторы общ-
ности. Рангом аксиомы называется число s участвующих в ней кванторов. Ранг си-
стемы аксиом считается равным максимальному из рангов входящих в нее аксиом,
если система конечна, и полагается равным ω в случае бесконечной системы. Ран-
гом универсально аксиоматизируемого свойства называется минимальный из рангов
задающих его систем аксиом.

Пусть на множестве пар (x, y) ∈ A2 задано отношение эквивалентности ∼. Экви-
валентность ∼ называется строгой, если из (x, y) ∼ (x′, y′) и x = y следует x′ = y′.
Дальше будем рассматривать только строгие эквивалентности. Множество X, X ⊆ A,
называется s-представительным (для A относительно эквивалентности ∼), если для
любых x1, . . . , xs ∈ A найдутся x′1, . . . , x′s ∈ X такие, что (x′i, x

′
j) ∼ (xi, xj), 1 6 i, j 6 s.

МножествоX, s-представительное при любом s > 1, называется ω-представительным.



64 Л.А. Шоломов

Эквивалентность ∼ задает класс K∼ отношений r на A, удовлетворяющих усло-
вию (x, y) ∼ (x′, y′) =⇒ xry ⇔ x′ry′. Предлагаемый подход основан на следующем
утверждении, в котором для X ⊆ A через rX обозначено отношение r ∩X2.

Теорема 28 [49]. Если Φ — универсально аксиоматизируемое свойство ранга не
выше s, s ∈ N∪{ω}, множествоX является s-представительным для A и r — отношение
класса K∼, то отношение rX обладает свойством Φ тогда и только тогда, когда им
обладает r.

Класс порядковых отношений может рассматриваться как K∼, если положить
A = Rn и в качестве отношения эквивалентности взять

(x,y) ∼ (x′,y′)⇔ ∆(x,y) = ∆(x′,y′).

Обозначим через En
k декартову степень множества Ek = {0, 1, . . . , k − 1}. Допускается

k = ω, где Eω = {0, 1, 2, . . .} = N . Нетрудно доказать, что при любом s ∈ N ∪ {ω}
множество En

s является s-представительным для Rn по введенному выше отношению
эквивалентности. Если κ(X) = s, то можно считать, что X ⊇ En

s . Это позволяет пере-
формулировать теорему 28 для порядковых отношений на X.

Теорема 29. Если ранг универсально аксиоматизируемого свойства Φ не превы-
шает s, s ∈ N∪{ω}, а индекс κ(X) пространства X не ниже s, то порядковое отношение
ρ на X обладает свойством Φ тогда и только тогда, когда им обладает его пополнение.

Подсчитав ранги введенных в п. 8.2 свойств отношений, получаем следующее утвер-
ждение.

Следствие 1. Порядковое отношение ρ на X обладает одним из свойств рефлек-
сивности, иррефлексивности, асимметрии, антисимметрии, полноты, связности тогда
и только тогда, когда соответствующим свойством обладает его пополнение. В слу-
чае κ(X) > 3 аналогичное утверждение имеет место и для свойств транзитивности и
негатранзитивности.

9.4. С р а в н е н и е с в о й с т в п о р я д к о в ы х о т н о ш е н и й н а Rn

и в д и с к р е т н ы х п р о с т р а н с т в а х
Описанный подход позволяет перенести большинство результатов, методов и алго-

ритмов, развитых для Rn, на произвольные пространства X с κ(X) > 3. Остановимся в
большей мере на возникающих здесь отличиях. Данный пункт написан по материалам
[48, 49].

Будем рассматривать те же операции над ПО, что и в п. 7.3 — теоретико-
множественные, инвертирование осей, обращение отношений, переход к двойствен-
ным отношениям, произведение отношений. Преобразования представляющих функ-
ций 1◦− 4◦ из п. 7.3, относящиеся к первым четырем операциям, остаются справедли-
выми для ПО на произвольном X.

Если X отлично от Rn, то произведение порядковых отношений не обязательно бу-
дет ПО. Для иллюстрации рассмотрим одномерное ПО > («больше») на N . Его произ-
ведение само на себя не является порядковым, так как (2, 0) ∈ (> · >), а (1, 0) ∈/ (> · >).
В дальнейшем роль произведения [ρ1ρ2] будет играть его порядковое замыкание [ρ1ρ2].
Под порядковым замыканием [ρ] отношения ρ (не обязательно порядкового) на X по-
нимается наименьшее по включению ПО на X, содержащее ρ.

Операция композиции g ◦ ĝ функций g и ĝ, позволяющая найти представляющую
функцию для порядкового замыкания произведения отношений, определяется, как и



Логические методы построения и анализа моделей выбора 65

в п. 7.3, с тем отличием, что при нахождении композиции qi ◦ q̂i элементарных сомно-
жителей учитывается значность κi критериев i. Если κi > 3 (в частности, в случае
бесконечной значности), композиция qi ◦ q̂i находится, как в п. 7.3 (см. табл. 2), если
κi = 2, то в соответствии с табл. 4.

Та б л и ц а 4

pi p′i p̄i p̄′i p′ip̄i 1
pi 0 pi p′i p′ip̄i pi p′i
p′i pi p′i 1 p̄i p′i 1
p̄i p′i 1 p̄i p̄′i p̄i 1
p̄′i p′ip̄i p̄i p̄′i 0 p̄′i p̄i

p′ip̄i pi p′i p̄i p̄′i p′ip̄i 1
1 p′i 1 1 p̄i 1 1

Теорема 18 приобретает для общего случая критериальных пространств следую-
щий вид.

Теорема 30. Для порядковых отношений на произвольном X представляющая
функция порядкового замыкания [ρ1 · ρ2] произведения ПО находится как композиция
gρ1 ◦ gρ2 представляющих функций для ρ1 и ρ2.

Указанные факты позволяют распространить на произвольные критериальные
пространства X установленные в теореме 19 для ПО на Rn соотношения между свой-
ствами ПО и представляющими функциями. Это относится ко всем свойствам, исклю-
чая ацикличность, которая имеет бесконечный ранг и выпадает из общего рассмотре-
ния. Ацикличные ПО на Rn и в дискретных пространствах ведут себя по-разному.

Результаты теоремы 20 о сложности распознавания свойств ПО на Rn, относящиеся
к свойствам рефлексивности, иррефлексивности, асимметрии, антисимметрии, полно-
ты и связности переносятся на пространства X общего вида, а для свойств транзитив-
ности и негатранзитивности — на пространства с κ(X) > 3. Условие κ(X) > 3 связано
с тем, что ранг двух последних свойств равен 3. При κ(X) > 3 на пространства X рас-
пространяются установленные в теореме 22 для пространства Rn результаты о явном
виде ПО из всех основных классов, исключая результаты для класса A ацикличных
отношений. При этом для классов L, W , P и T , задаваемых свойствами ранга 3, до-
статочно применить теорему 29, а классы S и I, в определении которых присутствуют
свойства ранга 4, требуют специального рассмотрения. Из сказанного и теоремы 23
следует, что при κ(X) > 3 сложность проверки по представляющей функции в фор-
ме ДНФ либо КНФ принадлежности ПО на множестве X каждому из введенных в
п. 4.2 классов, исключая A, полиномиальна для правильных ПО и NP-трудна для
произвольных ПО.

Условие κ(X) > 3, при котором установлены приведенные выше результаты о яв-
ном виде отношений, является существенным. В [49] показано, что в случае двузнач-
ных критериев каждый из рассматриваемых классов отношений шире, чем дает опи-
сание. Кроме того, в [49] установлено, что при использовании двузначных критериев
классы W , S и I попарно различны, в то время как в случае κ(X) > 3 в соответствии
с теоремой 23 они совпадают.

Как уже говорилось, свойство ацикличности, имеющее бесконечный ранг, стоит
особняком. Ни при каком конечном s ацикличность ПО в пространстве s-значных



66 Л.А. Шоломов

критериев не гарантирует его ацикличности на Rn. Следующая теорема указывает, в
каких границах описанный подход применим к свойству ацикличности.

Теорема 31. Если X — пространство размерности n и индекса κ(X) = s, то при
n 6 s порядковое отношение на X ациклично тогда и только тогда, когда оно ацик-
лично на Rn. При n > s существуют порядковые отношения, ацикличные на En

s и
имеющие циклы в Rn.

Приведем результат, показывающий, что свойства ацикличных отношений в про-
странствах с конечнозначными критериями существенно отличаются от свойств ацик-
личных отношений на Rn. Согласно теореме 22, всякое ацикличное ПО на Rn может
быть дополнено до линейного (и, следовательно, частичного) порядка.

Теорема 32. При любых s и n, s > 2, n > s в En
s существует ацикличное отно-

шение, не дополнимое до частичного порядка.

10. Порядковые модели
10.1. Ф о р м а л и з а ц и я

Данный раздел написан по материалам [14, 40]. Будем рассматривать ФВ на Rn.
Отображение ψ : Rn → Rn назовем порядковым отображением, если для любых
x,y ∈ Rn имеет место ∆(x,y) = ∆(ψ(x), ψ(y)).Легко видеть, что отбражение Rn → Rn

порядково тогда и только тогда, когда при каждом i, 1 6 i 6 n, производит строго
монотонное преобразование i-й координаты точек из Rn.

В терминах порядковых отображений можно дать другое определение порядко-
вого отношения, эквивалентное введенному ранее. ПО ρ на Rn — это отношение,
которое для любых x,y и порядкового отображения ψ удовлетворяет соотношению
ψ(x)ρψ(y) ⇔ xρy. Этот подход может быть распространен на функции выбора. ФВ
C на Rn называется порядковой функцией [3], если для любых X ⊆ Rn и порядково-
го отображения ψ выполнено C(ψ(X)) = ψ(C(X)), где ψ(Z) — образ множества Z.
Модель выбора M назовем порядковой моделью, если CM — порядковая ФВ.

Будем рассматривать контекстно-независимые порядковые ФВ и для их формали-
зации будем применять способ, описанный в п. 6.1. Уточним этот способ применитель-
но к порядковым ФВ.

Будем рассматривать интерпретации, в которых значениями предметных перемен-
ных являются точки x = (x1, . . . , xn) пространства Rn. Предикат P (x1, . . . ,xk) на Rn

будем называть порядковым предикатом, если для любых x1, . . . ,xk и порядкового
отображения ψ выполнено P (x1, . . . ,xk) ⇔ P (ψ(x1), . . . , ψ(xk)). Формулу (узкого ис-
числения предикатов) назовем порядковой формулой, если в ней используются лишь
порядковые предикаты. Порядковая ФВ C называется формализуемой, если существу-
ет такая порядковая формула C(x) (формализация), что для любых X ⊆ Rn и x ∈ X
выполнено x ∈ C(X)⇔ C(x)|X , где C(x)|X — значение формулы на множестве X (см.
п. 6.1).

Если для обозначения значений формул вместо И («истина») и Л («ложь») ис-
пользовать 1 и 0, то всякий порядковый предикат P может быть представлен в виде
P (x1, . . . ,xk) = g(∆(xi1 ,xj1), . . . ,∆(xir ,xjr)), где g ∈ P3,2 [40, 14]. Записав формулу
C(x) в предваренной форме

C(x) = Q1y1 . . . QsysF(x,y1, . . . ,ys)



Логические методы построения и анализа моделей выбора 67

и использовав указанное выше представление для порядкового предиката, реализуе-
мого бескванторной формулой F , получим

C(x) = Q1y1 . . . Qsysg(∆(zi1 , zj1), . . . ,∆(zir , zjr)),

где g ∈ P3,2, zi1 , zj1 , . . . ,zir , zjr ∈ {x,y1, . . . ,ys}. Это выражение будем называть фор-
мализацией в стандартной форме.

10.2. П о с т р о е н и е ф о р м а л и з а ц и й и д о к а з а т е л ь с т в о
н е ф о р м а л и з у е м о с т и

В порядковых моделях в качестве элементарных актов выбора обычно используется
выбор по порядковому отношению. На этой основе строятся более сложные модели.

В [40] проведено исследование на формализуемость встречающихся в литературе
правил выбора по отношению (порядковому). Для каждого из них построена формали-
зация либо доказана неформализуемость. В абсолютном большинстве своем правила
оказались формализуемыми. В частности, формализуемы правила, введенные в п. 1.3.
Первое из них, например, имеет формализацию Cρ(x) = ∀yg∗ρ(∆(x,y)), где gρ — пред-
ставляющая функция, а ∗ означает двойственность. К неформализуемым относится
турнирное правило Коупленда [8].

Для построения более сложных моделей выбора используются некоторые операции
над моделями. Они могут быть описаны в терминах операций над соответствующи-
ми функциями выбора. Как и в п. 6.2, будем рассматривать операции композиции,
суперпозиции, ветвления и ограниченной обратной связи. На свойство Q, использу-
емое в двух последних операциях, наложим условие, чтобы оно было порядковым,
т. е. представлялось формулой, содержащей лишь порядковые предикаты. Теорема 15
распространяется на порядковые модели: применение указанных операций к форма-
лизуемым порядковым моделям дает формализуемые порядковые модели. Их форма-
лизация строится, как в п. 6.2. Так, например, формализация выбора глубины два по
ПО ρ1 и ρ2 имеет вид

Cρ1ρ2(x) = ∀y∃z(g∗ρ (∆(x,y) ∧ (g
1 ρ1(∆(z,y) ∨ g∗ρ (∆(x,y))).

2

Возможность представления формализаций для порядковых моделей в стандарт-
ной форме облегчает доказательство неформализуемости и, следовательно, — кон-
текстной зависимости порядковых ФВ. Так, в [14] методом из [40] доказана контекст-
ная зависимость выбора для известного правила Борда выбора по сумме рангов [8], а
в [40] — для правила Коупленда и ряда других правил выбора по ПО. Для ФВ общего
вида (не порядковых) нет ограничений на вид формализаций, и доказать контекстную
зависимость для каких-либо ФВ общего вида пока не удалось.

10.3. У п р о щ е н и е ф о р м а л и з а ц и й
На порядковые ФВ переносятся результаты об упрощении формализаций для

контекстно-независимых функций, приведенные в п. 6.3. В частности, модели после-
довательного выбора глубины k и параллельного выбора ширины k по порядковым
отношениям допускают формализацию в стандартной форме, имеющую ранг не вы-
ше k. Но для порядковых моделей удается поставить и решить более широкий круг
задач, чем для КН-моделей общего типа. Одной из них является задача построения
для моделей параллельного выбора формализаций, имеющих наименьший ранг. Изло-
женные ниже результаты взяты из [40].

Формулу вида
C(x) = ∀y1 . . . ∀ysg(∆(x,y1), . . . ,∆(x,ys)), g ∈ P3,2,



68 Л.А. Шоломов

будем называть однородной ∀-формулой, а в случае монотонной функции g — моно-
тонной однородной ∀-формулой. Порядковая ФВ представима моделью параллель-
ного выбора тогда и только тогда, когда она допускает формализацию однородной
∀-формулой с функцией g, удовлетворяющей условию g(0, . . . , 0) = 1. Аналогичный
факт справедлив для моделей параллельного выбора, использующих правильные ПО,
если добавить условие монотонности однородных ∀-формул. Как и раньше, формулу
будем характеризовать ее рангом — числом кванторов. В связи с моделью параллель-
ного выбора возникает задача минимизации однородных и монотонных однородных
∀-формул, состоящая в том, чтобы по однородной (монотонной однородной) ∀-формуле
с g(0, . . . , 0) = 1 построить формулу того же типа, имеющую наименьший ранг. Функ-
ция g предполагается заданной посредством КНФ, а в монотонном случае — посред-
ством приведенной КНФ. Получены следующие результаты.

Теорема 33.
1. Задача минимизации однородных ∀-формул алгоритмически разрешима, но NP-

трудна.
2. Задача минимизации монотонных однородных ∀-формул полиномиальна.

Отметим, что указанный в теореме полиномиальный алгоритм, помимо того, что обес-
печивает формулы с наименьшим числом кванторов, дает представление участвующей
в них функции из P3,2 в виде КНФ наименьшей сложности, т. е. с наименьшим числом
вхождений символов переменных.

11. Синтез и аппроксимация
Данный раздел написан по материалам [40]. Будем рассматривать задачи синтеза

и аппроксимации в классе порядковых отношений. Дальше, говоря о синтезе и ап-
проксимациях, будем иметь в виду этот класс моделей. Задача синтеза состоит в том,
чтобы по формализации C(x) порядковой ФВ C построить реализующее ее ПО либо
установить, что это невозможно. Аналогично ставятся задачи о верхней и нижней ап-
проксимациях в классе ПО. Следующий результат показывает, что при решении этих
задач возникают принципиальные трудности.

Теорема 34. Задачи синтеза и построения верхней и нижней аппроксимаций
в классе порядковых отношений являются алгоритмически неразрешимыми.

Трудности, связанные с неразрешимостью указанных проблем, частично удается
преодолеть с помощью парно-выявленных отношений (это понятие введено в п. 2.2).
Будем рассматривать порядковые ФВ, удовлетворяющие условию C({x}) = {x} (вы-
бор в одноэлементных предъявлениях непуст). Для них парно-выявленное отношение
ρ̂, которое определяется посредством соотношения xρ̂y ⇔ y ∈/ C({x,y}), будет поряд-
ковым. Ясно, что Cρ̂({x,y}) = C({x,y}).

В [40] предложен полиномиальный (относительно размерности n пространства при
фиксированном s) способ построения парно-выявленного отношения ρ̂ по формализа-
ции C(x) ранга s в стандартной форме. Операциям над ФВ, рассмотренным в п. 6.2,
соответствуют определенные преобразования парно-выявленных отношений. Приве-
дем преобразования, соответствующие операциям композиции и суперпозиции (для
других операций см. в [40]). Обозначим через ρ̂, ρ̂1, . . . , ρ̂k парно-выявленные отноше-
ния для функций C,C1, . . . , Ck.

Теорема 35.
1. Если ФВ C образована композицией C = F (C1, . . . , Ck), то ρ̂ = F ∗(ρ̂1, . . . , ρ̂k), где

F ∗ — двойственная к F теоретико-множественная операция.



Логические методы построения и анализа моделей выбора 69

2. Если ФВ C образована суперпозицией C = C1 ◦ C2, то ρ̂ = ρ̂1 ∪ (ρ̂1 ∩ ρ̂2).
Следствие 2.
1. Парно-выявленное отношение функции CF,ρ1,...,ρ параллельного выбора имеет

k

вид ρ̂ = F ∗(ρ̂1, . . . , ρ̂k).
2. Парно-выявленное отношение функции Cρ1,...,ρ последовательного выбора имеет

k

вид ρ̂ = ρ̂1 ∪ (ρ̂1 ∩ ρ̂2) ∪ . . . ∪ (ρ̂1 ∩ . . . ∩ ρ̂k).
Возможность конструктивного нахождения парно-выявленных отношений для

формализуемых ФВ облегчает решение ряда задач, связанных с построением моде-
лей. Приведем некоторые относящиеся сюда утверждения.

1◦. Если ФВ C представима отношением, то этим отношением является парно-
выявленное отношение ρ̂.

2◦. Если для ФВ C выполнено условие C ⊆ Cρ̂ (C ⊇ Cρ̂), то парно-выявленное
отношение ρ̂ реализует верхнюю (нижнюю) аппроксимацию функции C.

3◦. Если ФВ C удовлетворяет свойству наследования (согласия), то парно-
выявленное отношение ρ̂ реализует верхнюю (нижнюю) аппроксимацию функции C.

4◦. Парно-выявленное отношение функции параллельного (последовательного) вы-
бора реализует ее верхнюю (нижнюю) аппроксимацию.

Эти факты позволяют в ряде случаев решить задачи синтеза и аппроксимации,
которые в общем случае нерешаемы (см. теорему 34).

ЛИТЕРАТУРА
1. Murakami Y. Logic and cocial choice. London: Routledge & Kegan Paul Ltd.; New

York: Dover Publication Inc., 1968.
2. Шоломов Л.А. Логические методы в задачах согласованного выбора / Препринт ВНИИ

системных исследований. М., 1978.
3. Березовский Б.А., Барышников Ю.М., Борзенко В.И., Кемпнер Л.М. Многокритери-

альная оптимизация: математические аспекты. М.: Наука, 1989.
4. Макаров И.М., Виноградская Т.М., Рубчинский А.М., Соколов В.Б. Теория выбора и

принятия решений. М.: Наука, 1982.
5. Левченков В.С. Алгебраический подход в теории группового выбора. М.: Наука, 1990.
6. Aleskerov F.T., Vladimirov A.V. Hierarchical voting // Information sciences. 1986. V. 39.

P. 41–86.
7. Шоломов Л.А. Логические методы исследования дискретных моделей выбора. М.: Нау-

ка, 1989.
8. Айзерман М.А., Вольский В.И., Литваков Б.М. Элементы теории выбора. Псевдокри-

терии и псевдокритериальный выбор. М.: Нефтяник, 1994.
9. Вольский В.И., Лезина З.М. Голосование в малых группах: процедуры и методы срав-

нительного анализа. М.: Наука, 1991.
10. Шоломов Л.А. Применение логических методов в задачах последовательного выбора /

Препринт. ВНИИ системных исследований. М., 1980.
11. Шоломов Л.А. Логические методы композиции функций выбора / Препринт ВНИИ

системных исследований. М., 1981.
12. Шоломов Л.А. Оценка сложностных характеристик одного механизма выбора с участи-

ем нескольких лиц // Изв. АН СССР. Техническая кибернетика. 1985. №2. С. 3—13.
13. Шоломов Л.А., Юдин Д.Б. Сложность многошаговых схем обобщенного математичес-

кого программирования // Изв. АН СССР. Техническая кибернетика. 1988. №1. С. 13–22.



70 Л.А. Шоломов

14. Sholomov L. Context-independent choice: description and analysis by means of first-order
logic // Logic, Game theory and Social choice. Proceedings of the Intern. Conference LGS’99.
Tilburg University Press, 1999. P. 549–559.

15. Литваков Б.М. Аппроксимация функций выбора // Автоматика и телемеханика. 1984.
№9. С. 138–146.

16. Шоломов Л.А. О сложности задач минимизации и сжатия моделей последовательного
выбора // Дискретный анализ и исследование операций. Сер. 1. 1999. Т. 6. №3. С. 87–109.

17. Stockmeyer L. J. The set-basis problem is NP-complete // Report N RC-5431. New York:
IBM Research Center, Yorctown Heights, 1975.

18. Шоломов Л.А. О сложности реализации функций выбора системой отношений частич-
ного порядка // Проблемы кибернетики. Вып. 41. М.: Наука, 1984. С. 111–116.

19. Шоломов Л.А. Функциональные возможности и сложность механизмов выбора, осно-
ванных на исключении худших вариантов // Изв. АН СССР. Техническая кибернетика.
1987. №1. С. 10–17.

20. Юдин Д.Б., Шоломов Л.А. Многошаговые схемы обобщенного математического про-
граммирования и функции выбора // Докл. АН СССР. 1985. Т. 282. №5. С. 1066–1069.

21. Arrow K. J. Difficulty in the concept of social welfare //J. Political Economy. 1950. V. 58.
P. 326–346.

22. Arrow K. J. Social Choice and Individual Values, 2nd ed. New Haven—London: Yale University
Press, 1963.

23. Айзерман М.А., Алескеров Ф.Т. Выбор вариантов: основы теории. М.: Наука, 1990.
24. Фишберн П. Теория полезности для принятия решений. М.: Наука, 1978.
25. Шоломов Л.А. Операторы над отношениями, сохраняющие транзитивность // Дискрет-

ная математика. 1998. Т. 10. Вып. 1. С. 28–45.
26. Шоломов Л.А. Исследование отношений в критериальных пространствах и синтез опе-

раторов группового выбора // Математические вопросы кибернетики. Вып. 5. М.: Физ-
матлит, 1995. С. 109–143.

27. Шоломов Л.А. Агрегирование линейных порядков в задачах группового выбора // Ав-
томатика и телемеханика. 1998. №2. С. 113–122.

28. Sholomov Lev A. Explicit form of neutral social decision rules for basic rationality
conditions // Mathematical Social Sciences. 2000. V. 39. No. 1. P. 81–107.

29. Моркялюнас А. Групповой выбор при независимости и слабой симметрии альтернатив //
Математические методы в социальных науках. Вильнюс: Ин-т математики и кибернети-
ки АН ЛитССР, 1985. Вып. 18. С. 57–60.

30. Данилов В.И. Модели группового выбора // Изв. АН СССР. Техническая кибернетика.
1983. №1. С. 143–164.

31. Владимиров А.В. Исследование процедур построения коллективных решений: Автореф.
дис. . . . канд. техн. наук / Ин-т проблем управления. М., 1987.

32. Шоломов Л.А. О сложности реализации бинарных отношений путем теоретико-
множественных операций над отношениями линейного порядка // Проблемы киберне-
тики. Вып. 41. М.: Наука, 1984. С. 101–109.

33. Шоломов Л.А. О представлении бинарного отношения набором критериев // Изв. АН
СССР. Техническая кибернетика. 1984. №1. С. 6–14.

34. Hiraguchi T. On the dimension of partially ordered sets // Sci Rep. Kanazawa University.
1951. V. 1. No. 2. P. 77–94.

35. Оре О. Теория графов. М.: Наука, 1980.



Логические методы построения и анализа моделей выбора 71

36. Trotter W.T. Embedding finite posets in cubes // Discrete Math. 1975. V. 12. No. 2.
P. 165–172.

37. Erdös P., Moser L. On the representation of directed graphs as unions orderings // Magyar
tud. akad. Mat. kutató int. közl. 1964. V. 9. No. 1–2. P. 125–132.

38. Шоломов Л.А. Декомпозиция отношений в задачах выбора: вполне разделимые отноше-
ния и независимость от пути // Автоматика и телемеханика. 2001. №11. С. 154–164.

39. Шоломов Л.А. Анализ рациональности модели последовательного выбора // Автомати-
ка и телемеханика. 2000. №5. С. 124–132.

40. Шоломов Л.А. Представление и исследование порядковых моделей выбора средствами
логики первого порядка // Математические вопросы кибернетики. Вып. 7. М.: Наука,
Физматлит, 1998. С. 169–202.

41. Мальцев А.И. Алгебраические системы. М.: Наука, 1970.
42. Булос Дж., Джеффри Р. Вычислимость и логика. М.: Мир, 1994.
43. Шоломов Л.А. Сложность распознавания свойств порядковых отношений в n-мерных

пространствах // Дискретный анализ и исследование операций. Сер. 1. 2002. Т. 9. №4.
С. 82–105.

44. Подиновский В.В. Многокритериальные задачи с однородными равноценными критери-
ями // Журнал вычислительной математики и математической физики. 1975. Т. 15. №2.
С. 130–141.

45. Подиновский В.В. Многокритериальные задачи с упорядоченными по важности крите-
риями // Автоматика и телемеханика. 1976. №11. С. 118–127.

46. Шоломов Л.А. Синтез транзитивных порядковых отношений, согласованных с инфор-
мацией о силе критериев // Сибирский журнал исследования операций. 1994. Т. 1. №4.
С. 64–92.

47. Шоломов Л.А. Метод интерпретаций в задаче синтеза операторов группового выбора //
Алгебра и теория моделей 6. Новосибирск: НГТУ, 2007. С. 96–110.

48. Шоломов Л.А. Логические методы исследования отношений в критериальных простран-
ствах с порядковыми шкалами произвольного вида // Автоматика и телемеханика. 2004.
№5. С. 120–130.

49. Шоломов Л.А. Распознавание свойств порядковых отношений в дискретных простран-
ствах // Дискретный анализ и исследование операций. Сер. 1. 2004. Т. 11. №3. С. 88–110.

50. Шоломов Л.А. Теоретико-модельный подход к описанию порядковых отношений в ко-
нечнозначных пространствах // Синтаксис и семантика логических систем: Материалы
Российской школы-семинара, посвященной Ю.Е. Шишмареву. Владивосток: Дальнаука,
2008. С. 28–29.