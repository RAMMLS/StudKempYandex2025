РАДИОЛИНИИ И СИСТЕМЫ РАДИОСВЯЗИ 
2021 Техника радиосвязи  Выпуск 2 (49) 
 
 
 
 
УДК 621.396.74 
DOI 10.33286/2075-8693-2021-49-31-41. 
 

 
© Д. П. Седунов, А. С. Жунусова, Ю. О. Зырянова 
Омский научно-исследовательский институт приборостроения, Омск, Российская 
Федерация 

 
РАСЧЕТ ПАРАМЕТРОВ СИСТЕМЫ  

БЕСПРОВОДНОГО СБОРА ДАННЫХ СЕТИ LORAWAN 

Представлена методика расчета параметров системы беспроводного сбора данных 
сети LoRaWAN. Показана применимость данной методики на примере разверты-
вания системы беспроводного сбора данных. 
Ключевые слова: LoRaWAN, пропускная способность, время передачи пакетов, 
дальность связи, LPWAN. 
Для цитирования: Седунов Д. П., Жунусова А. С., Зырянова Ю. О. Расчет 
параметров системы беспроводного сбора данных сети LoRaWAN // Техника 
радиосвязи. 2021. Выпуск 2 (49). С. 31–41. DOI: 10.33286/2075-8693-2021-49-31-41. 
 
 

© D. P. Sedunov, A. S. Zhunusova, Yu. O. Zyryanova 
Omsk Scientific-Research Institute of Instrument Engineering, Omsk, Russian Federation 

 
CALCULATION OF PARAMETERS OF THE LORAWAN WIRELESS  

DATA ACQUISITION SYSTEM 

The article presents a method for calculating the parameters of the LoRaWAN wireless 
data acquisition system. The applicability of this technique is shown by the example of 
deploying a wireless data acquisition system. 
Keywords: LoRaWAN, throughput capacity, packet transmission time, communication 
range, LPWAN. 
For citation: Sedunov D. P., Zhunusova A. S., Zyryanova Yu. O. Calculation of 
parameters of the LoRaWAN wireless data acquisition system // Radio communication 
technology. 2021. Issue 2 (49), pp. 31–41. DOI: 10.33286/2075-8693-2021-49-31-41. 

 
Введение 
В настоящее время широко развиваются беспроводные сети передачи дан-

ных [1]. Наиболее перспективной из них является сеть LoRaWAN, входящая в 
технологию LPWAN. По утверждению разработчиков сети LoRaWAN [2, 3], она 
является однопрыжковой радиолинией с низкой скоростью передачи данных, но 
с большой дальностью связи (до 5 км в плотной городской застройке). 

LoRaWAN (Long Range Wide-Area Networks) – это MAC-протокол (ниж-
ний подуровень канального уровня модели стека сетевых протоколов) для высо-

31 



коемких сетей с большим радиусом действия и низким собственным потребле-
нием мощности [2, 4]. 

При развертывании радиосетей рекомендуется проводить предваритель-
ные расчеты времени передачи информации, пропускной способности и дально-
сти радиосвязи. Однако методики решения данных задач, особенно для сетей, 
строящихся на основе новых стандартов, недостаточно систематизированы в 
существующей литературе. Исходя из этого, цель работы  – системное изло-
жение методики расчета характеристик радиосети LoRaWAN и демонстрация 
результатов работоспособности данной методики на примере создания сети пе-
редачи данных в АО «ОНИИП». 

 

Методики расчета характеристик радиосети 
Проведем расчет времени передачи пакетов и пропускной способности се-

ти связи LoRaWAN [2, 4]. 

Расчет времени передачи одного пакета через радиоинтерфейс LoRaWAN. 
Любой пакет, передаваемый по сети LoRaWAN, включает в себя блок 

данных физического уровня и преамбулу. Поле преамбулы занимает 8 байт и 
состоит из однобайтной последовательности 10101011, которая указывает на 
начало пакета, и семи байтов, в которых чередуется 1 и 0 (каждый байт – после-
довательность вида 101010). Они служат для синхронизации приёмного терми-
нала [5, 6]. Количество символов в преамбуле npreamble является конфигурируе-
мым в диапазоне от 6 до 65535. 

Скорость обмена данными в сети LoRaWAN определяется уровнями мо-
дуляции и коэффициентов SF (Spreading Factors) в комбинации с шириной поло-
сы канала. Указанные параметры влияют на физическую битовую скорость и 
время в эфире. SF – это целое число, которое задается в интервале от 7 до 12 
(может быть равно 6, но только для чипов SX1276/77/78/79 [7], которые не при-
менялись в данной работе). Чем выше задано значение SF, тем выше помехоза-
щищенность линии связи [5, 6]. 

Количество символов в блоке данных физического уровня определяется 
по формуле [8]: 

 8 PL  4 SF  2816 CRC  20 H 
 payloadSymbNb  8 ceil    (CR  4) , (1) 

 4  (SF  2  ADR) 

где PL = 12+FRM – количество байт полезных данных в блоке физического уровня 
(PHPPayload); SF – коэффициент расширения спектра; CRC – проверка избыточно-
сти циклической суммы (CRC = 1, когда передача поля CRC блока полезной нагруз-
ки включена, и CRC =  0 – когда выключена); H – параметр, отражающий наличие 
заголовка в радиопакете (H = 0, когда передача заголовка (PHDE+PHDE_CRC) 
включена, и H = 1 – когда заголовок отсутствует); ADR – оптимизация скорости пе-
редачи данных (ADR = 1, когда оптимизация для низких скоростей передачи вклю-
чена, и ADR = 0 – когда выключена) (для SF = 11 и SF = 12 оптимизация скоростей 
передачи должна быть выключена); CR = 1…4 – скорость кода; ceil – операция 
округления до ближайшего большего целого числа [5, 6]. 

Длительность передачи преамбулы рассчитывается по формуле [9]: 

 𝑇𝑝𝑟𝑒𝑎𝑚𝑏𝑙𝑒 =  (𝑛𝑝𝑟𝑒𝑎𝑚𝑏𝑙𝑒 + 4,25) ∙ 𝑇𝑠𝑦𝑚, (2) 

32 



где Tsym – длительность передачи одного символа, рассчитываемая по формуле [9]: 

2𝑆𝐹
𝑇𝑠𝑦𝑚 = , (3) 

𝑊
где W – полоса одного радиоканала. 

Длительность передачи блока данных физического уровня рассчитывается 
по формуле [8, 9]: 

 𝑇𝑝𝑎𝑦𝑙𝑜𝑎𝑑 = 𝑝𝑎𝑦𝑙𝑜𝑎𝑑𝑆𝑦𝑚𝑏 ∙ 𝑇𝑠𝑦𝑚. (4) 

Длительность передачи всего пакета в сети LoRaWAN рассчитывается по 
формуле [8, 9]: 

 𝑇𝑝𝑎𝑐𝑘𝑒𝑡 = 𝑇𝑝𝑟𝑒𝑎𝑚𝑏𝑙𝑒 + 𝑇𝑝𝑎𝑦𝑙𝑜𝑎𝑑. (5) 

Расчет будем проводить для передачи одного UL-пакета (с полезной 
нагрузкой 10 байт) между оконечным устройством (End Node) и сервером при-
ложений (Application Server) [10, 11]. Исходные значения: 

 полоса радиоканала W = 125 кГц (для SF7 – SF12); 
 количество символов в преамбуле 𝑛𝑝𝑟𝑒𝑎𝑚𝑏𝑙𝑒 = 6 (для SF7 – SF12); 
 полезные данные (FRMPayload) FRM = 10 байт (для SF7 – SF12); 
 физический блок данных (PHYPayload) PL = 22 (для SF7 – SF12); 
 флаг включения заголовка в пакет Н = 0 (для SF7 – SF12); 
 флаг включения СRС в пакет CRC = 1 (для SF7 – SF12); 
 флаг включения оптимизации скоростей ADR = 0 (для SF7 – SF12); 
 скорость кодирования CR = 1 (для SF7 – SF12). 
Результаты расчетов представлены в табл. 1. 
 

Таблица  1 
Коэффициент 
расширения SF 7 8 9 10 11 12 
спектра  
Длительность 
передачи  Tsym 1,03 2,05 4,10 8,20 16,39 32,77 
1-го символа, мс 
Флаг  
включения  

ADR 0 0 0 0 1 1 
оптимизации 
скоростей 
Количество 
символов  payloadSymNb 42 33 33 28 28 26 
в блоке данных  
Длительность 
передачи  Tpreamble 10,50 20,99 41,99 83,97 167,94 335,88 
преамбулы, мс 
Длительность 
передачи блока Tpayload 43,01 67,59 135,17 229,38 458,75 851,97 
данных, мс 
Длительность 
передачи всего Tpacket 53,51 88,58 177,20 313,30 626,69 1186,97 
пакета, мс 

33 



Для всех рассмотренных случаев неизменными были значения парамет-
ров: скорость кодирования CR = 1; флаг включения CRC в пакет CRC = 1; флаг 
включения заголовка в пакет H = 0; физический блок данных (PHYPayload) 
PL = 22 байт; полезные данные (FRMPayload) FRM = 10 байт; количество сим-
волов в преамбуле npreamble = 6; полоса радиоканала W = 125 кГц. 

На практике в основном используется SF = 12, так как он имеет наилуч-
шую помехозащищённость, из табл. 1 видно, что для данного коэффициента 
расширения спектра длительность передачи всего пакета наибольшая и состав-
ляет 1186,97 мс. 

Расчет пропускной способности сети LoRaWAN.  
Все LoRaWAN-устройства, включая оконечные, а также LoRa-шлюз, ис-

пользуют произвольный (несинхронизированный) доступ к общей среде переда-
чи. При этом временные интервалы отправки пакетов планируются оконечными 
устройствами на основе собственных потребностей. Данный механизм доступа 
представляет из себя протокол типа «чистая ALOHA». 

Оценка пропускной способности системы «чистая ALOHA» определяется 
при следующих предположениях:  

 пользовательские данные, предназначенные для передачи, поступают на 
терминалы случайно, образуя пуассоновский поток;  

 отброшенные из-за ошибок передачи пакеты передаются повторно, об-
разуя также пуассоновский поток;  

 все пакеты данных имеют одинаковую длину и передаются одинаковое 
время; 

 в сети находится бесконечное число удалённых терминалов (при этом 
если некий терминал уже передаёт данные, это никак не влияет на вероятность 
передачи данных другими терминалами) [6]. 

В этом случае вероятность того, что за время передачи одного пакета Т 
поступит еще k пакетов от всех терминалов сети, определяется формулой Пуас-
сона [11]: 

𝐺𝑘 ∙ 𝑒−𝐺
𝑃𝑟(𝑘) = , (6) 

𝑘!
где G – среднее число сообщений для передачи, появившееся на всех термина-
лах сети за время T. 

Коллизия не возникает, если на интервале передачи сообщения, а также на 
одном предшествующем интервале не появятся еще пакеты для передачи от 
других оконечных устройств сети (k = 0). Следовательно, вероятность успешной 
передачи составляет [12]: 

 𝑃 = 𝑒−2𝐺 . (7) 

Среднее число успешно переданных за время Т пакетов, т. е. пропускная 
способность сети, составляет [12]: 

 𝑆 = 𝐺 ∙ 𝑃. (8) 

Произведем расчет пропускной способности для проектируемой системы с 
помощью формул (7) и (8) для G = 0…1,5 (с шагом 0,1) и построим график 
(рис. 1).  

34 



 
Рис. 1. График пропускной способности сети LoRaWAN 

Как видно на рис. 1, максимальное значение пропускной способности дости-
гается при интенсивности поступления пакетов (G) равной 0,5 и составляет 0,184. 

Используя формулу (7), рассчитаем вероятность успешной передачи паке-
тов и построим график (рис. 2). 

 
 

 
Рис. 2. График зависимости успешной передачи пакетов данных  

от пропускной способности 
 

Как видно на рис. 2, при наибольшем значении пропускной способности 
сети вероятность успешной передачи пакетов из-за коллизии составит 37,04 %. 

 
Экспериментальная проверка применимости методики 
Для подтверждения результатов расчета при развертывании радиосети 

LoRaWAN на территории предприятия проведен сбор и анализ эксперименталь-
ных данных, отражающих характеристики радиосети. Для построения сети при-
менялись изделия ВЕГА СИ-11, ВЕГА СИ-13. 

Функциональная схема рассматриваемой системы сбора данных приведе-
на на рис. 3. 

 

35 



Датчик 
температуры

ПК   
Сетевой 
сервер

Счетчик Беспроводной
Шлюз LoRa Ethernet

электроэнергии канал LoRa
Сервер 

приложений

Регулятор 
оборотов 

вентиляции
 

Рис. 3. Блок-схема подключения системы 

Как следует из рис. 3, источниками данных в системе были датчик темпе-
ратуры, счетчик электроэнергии, а также регулятор, применяемый в системе 
вентиляции промышленного объекта. Исследуемая сеть передачи данных имеет 
следующие характеристики: количество радиочастотных каналов (Nf) – 8; коэф-
фициент расширения спектра (SF) – SF12; количество символов в преамбуле 
(npreamble) – 6; средний размер полезных данных, передаваемых в поле 
FRMPayload – 10 байт; средняя частота передачи пакетов одним оконечным 
устройством – 1 пакет в час; передача заголовка включена (H = 0), передача CRC 
включена (CRC = 1), оптимизация скоростей выключена (ADR = 0); скорость 
кодирования (CR) – 1; пакеты передаются только от оконечных устройств (без 
подтверждения доставки); допустимая вероятность потери пакетов из-за колли-
зии (PL) – 5 %; совмещение по времени в одном радиоканале двух пакетов от 
различных источников считается коллизией независимо от используемых коэф-
фициентов расширения спектра (SF). 

Трафиковая модель шлюза LoRa эквивалентна 8 одноканальным системам 
массового обслуживания (СМО) с отказами (см. рис. 4). 

 
Рис. 4. Трафиковая модель шлюза LoRa 

36 



Методика проведения измерений.  
Пакет данных формировался в специально развернутом на ПК админи-

стратора СПО «Конфигуратор», в котором фиксировалось время отправки дан-
ных. Отправленные данные приходили на сервер «IoT Vega Server» с фиксацией 
времени приема. В дальнейшем СПО «Конфигуратор» выгружал данные о вре-
мени приема с сервера и рассчитывал длительность передачи пакета данных. 
Результаты эксперимента представлены в табл. 2. 

Таблица 2  

Коэффициент 
расширения  SF 7 8 9 10 11 12 
спектра 

Длительность 
передачи одного TULpacket 59,65 109,06 197,63 354,30 708,61 1253,38 
UL-пакета, мс 

Длительность 
передачи одного TDLpacket 39,17 68,10 136,19 231,42 462,85 925,70 
DL-пакета, мс 

Количество  
пакетов  
на базовую  NLGpackets 179,35 100,07 53,10 30,26 15,13 8,14 
станцию в сутки, 
тыс. шт. 

Количество 
устройств  

NEN 7,47 4,17 2,21 1,26 0,63 0,34 
на базовую  
станцию, тыс. шт. 

 

Для всех рассмотренных случаев неизменными были значения парамет-
ров: скорость кодирования CR = 1; флаг включения CRC в пакет CRC = 1; флаг 
включения заголовка в пакет H = 0; физический блок данных (PHYPayload) 
PL = 22 байт; полезные данные (FRMPayload) FRM = 10 байт; количество сим-
волов в преамбуле npreamble = 6; полоса радиоканала W = 125 кГц; количество ра-
диочастотных каналов Nf = 8; количество пакетов на устройство в сутки 
NENpackets = 24; вероятность коллизии PL = 5 %; интенсивность поступления 
пакетов на 1 канал G = 0,0256. 

Время передачи пакетов по сети LoRa определяется используемым для пе-
редачи коэффициентом расширения спектра.  

Эксперимент показал, что длительность передачи одного up-link-пакета с 
полезной нагрузкой 10 байт при минимальном коэффициенте расширения спек-
тра (SF = 7) составляет 59,65 мс, а при максимальном (SF = 12) – 1 253,38 мс. 

Измерение дальности связи построенной системы. 
При проведении измерений пунктом сбора экспериментальных данных 

была базовая станция (БС) системы. Передатчик, работающий в тестовом режи-
ме (отправка служебных пакетов) перемещался в пределах дальности 5 км, объ-
явленной производителем оборудования как предельная для работы в городских 
условиях. 

37 



В условиях города полезный сигнал превышал уровень радиопомех с за-
пасом, достаточным для работы системы при дальностях радиолинии до 4,4 км. 
Геометрии нескольких экспериментальных радиолиний, на которых проводи-
лись измерения, отражающие условия проведения экспериментов, приведены на 
рис. 5–10. 

 
 

  

Рис. 5. Схема радиолинии дальностью 336 м Рис. 6. Схема радиолинии  
дальностью 1,4 км 

 
 
 

  

Рис. 7. Схема радиолинии  Рис. 8. Схема радиолинии  
дальностью 1,6 км дальностью 2,6 км 

 

38 



  

Рис. 9. Схема радиолинии  Рис. 10. Схема радиолинии  
дальностью 3,3 км дальностью 4,4 км 

 
Результаты измерений дальности, полной мощности принимаемого при-

ёмником сигнала (RSSI) и варианта размещения антенны представлены в табл. 3. 
 

Таблица 3  
Дальность Дальность  

Размещение RSSI 
Время радиолинии, передачи, км 

антенны 
км SF12 SF7 SF12 SF7 

14:25:01 0 0 0 –25 –40 
Внутри  
здания 

14:33:02 0,336  0,330 0,330 –49 –73 

15:06:42 1,4 1,412 1,412 –93 –125 

15:14:23 1,6 1,648 1,648 –104 –131 

На крыше 
15:27:45 2,6 2,603 – –114 – 

здания 

15:49:16 3,3 3,387 – –121 – 

16:01:29 4,4 4,495 – –135 – 

 
Проверка дальности связи показала, что при размещении антенны БС 

внутри здания связь обеспечивается в радиусе 336 м, при размещении антенны 
на крыше здания она увеличивается до заявленных производителем характери-
стик (при использовании SF12).  

Уровень RSSI при SF12 в минимальной точке достиг значения –135 дБм 
при чувствительности устройств –138 дБм. Исходя из этого можно сделать вы-

39 



вод, что имеется запас по уровню чувствительности 3 дБм, работу в плотной го-
родской застройке на расстоянии до 5 км устройство выполняет. 

 
Результаты и их обсуждение 
Результаты расчетов, выполненные по предложенной авторами методике, 

в целом совпадают с результатами проведенных измерений. Таким образом, 
можно сделать вывод о том, что чем выше помехозащищенность при передаче 
данных, тем на большее расстояние можно их передать (см. табл. 3), но потребу-
ется больше времени (см. табл. 1). Следовательно, стоит выбирать коэффициент 
расширения спектра (SF = 7…12). 

Из полученных результатов видно, что высокий SF повышает время нахож-
дения устройства в эфире. При передаче пакета данных объемом 10 байт разрыв 
между минимальным SF = 7 (59,65 мс) и максимальным SF = 12 (1253,38 мс) разли-
чается по времени более чем в 21 раз, следовательно, расходуется заряд батареи. 
В связи с этим необходим компромисс: либо малое потребление и плохая поме-
хозащищенность с небольшим радиусом действия, либо большое потребление и 
высокая помехозащищенность с большим радиусом действия. Также для опти-
мизации расхода заряда батареи рекомендуется использовать параметр оптими-
зации скорости передачи (ADR). 

Как следует из общей теории распространения радиоволн, размещение ан-
тенн радиосистем УКВ-диапазона вне зданий и подъем их над поверхностью Земли 
увеличивает дальность радиосвязи. При размещении антенны в начале эксперимен-
та в здании дальность связи составила 336 м, а при размещении антенны на крыше 
здания (на высоте 7 м) она увеличилась в 13 раз и составила 4,4 км (см. табл. 3). 

Из полученных графиков (см. рис. 1 и 2) видно, что вероятность успешной 
передачи пакетов данных экспоненциально убывает в зависимости от поступле-
ния пакетов. 

 
Заключение 
В ходе выполнения работы был произведен теоретический расчет времени 

передачи одного пакета через радиоинтерфейс LoRa и пропускной способности 
сети LoRaWAN. Из расчета и экспериментально полученных данных можно 
сделать вывод, что величина относительной погрешности при расчете времени 
передачи пакета составила 5,6 %, что показывает высокую точность расчетов по 
предложенной методике. Также была построена действующая сеть LoRaWAN и 
сняты экспериментальные данные с длительностью передачи одного пакета и 
зоной покрытия сети LoRa. 

Экспериментальная проверка дальности связи также показала близкие значе-
ния к заявленным характеристикам сети LoRa от разработчиков, но при условии 
размещения антенны вне помещения с целью уменьшения индустриальных помех. 

 
Л И Т Е Р А Т У Р А  

1. Разгуляев Л. В. Перспективные мобильные адаптивные сети передачи 
информации для СВ США // Зарубежное военное обозрение. 2008. № 1. С. 35–39. 

2. Роенков Д. Н., Яронова Н. В. Основы технологии LORA. Перспективы ее 
применения //Автоматика. Связь. Информатика. 2017. № 4. С. 31–35. 

40 



3. Дорожная карта по направлению развития «сквозной» цифровой технологии 
«Технологии беспроводной связи» на период с 2019 по 2024 год. М. : Национальный 
центр информатизации, 2019. 446 с. 

4. Centenaro M., Vangelista L., Zanella A. and Zorzi M. Long-range communications in 
unlicensed bands: The rising stars in the IoT and smart city scenarios // IEEE Wireless 
Communications. 2015. Vol. 23 (5). P. 60–67.  

5. Руководство разработчика устройств LoRaWAN сети ЛАРТЕХ версия 1.1. 
СПб., 2019. 63 с. 

6. N. Comin (Semtech), M. Luis (Semtech), T. Eirich (IBM), T. Kramp (IBM). 
LoRaWAN Specification V1.0. LoRa Alliance, 2015. URL: https://cdn.compacttool.ru/downloads/ 
lorawan1_0_2-20161012_1398_1.pdf.  

7. Semtech wireless&sensing products : SX1276/77/78/79 datasheet. URL: https://voltiq.ru/ 
datacheets/SX1276-lora-module.pdf. 

8. Грудинская Г. П. Распространение радиоволн : учеб. пособие. М. : Высшая 
школа, 1975. 280 с. 

9. N. Sornin (Semtech), M. Luis (Semtech), T. Eirich (IBM), T. Kramp (IBM), 
O. Hersent (Actility). LoRaWAN™ Specification, V1.0. LoRa Alliance, 2015 January. 

10. Гусев О. Эксперимент по созданию системы мониторинга хозяйственных 
объектов с использованием LoRaWAN // Беспроводные технологии. 2016. № 2. 

11. Abramson N. THE ALOHA SYSTEM: another alternative for computer 
communications // Proceedings of the November 17–19, 1970, fall joint computer conference. 
ACM, 1970. P. 281–285 

12. Mo Y. et al. Optimization of the predefined number of replications in a Ultra Narrow 
Band based IoT network // 2016 Wireless Days (WD). IEEE, 2016. P. 1–6. 

 
 

Сведения об авторах 

Седунов Денис Петрович, сотрудник АО «ОНИИП», e-mail: trs@oniip.ru. 

Жунусова Алия Сегизбаевна, сотрудник АО «ОНИИП», e-mail: trs@oniip.ru. 

Зырянова Юлия Олеговна, сотрудник АО «ОНИИП», e-mail: trs@oniip.ru. 
 
 
 
 

Поступила в редакцию: март 2021 г. 
Рецензирование: апрель – май 2021 г. 
Принята в печать: июнь 2021 г. 

41