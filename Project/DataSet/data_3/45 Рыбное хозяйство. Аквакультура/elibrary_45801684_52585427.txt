ТЕХНИКА ДЛЯ РЫБОХОЗЯЙСТВЕННЫХ ИССЛЕДОВАНИЙ ТРУДЫ	ВНИРО.	 2021	г.	 Том	183

УДК 639.2.081.7:681.883.072 DOI: 10.36038/2307-3497-2021-183-174-190

Программный комплекс для визуализации, многовидовой обработки 
и хранения данных гидроакустических ресурсных съёмок

М. Ю. Кузнецов, Представлено описание программного комплекса для исследования распреде-
ления и оценки водных биоресурсов гидроакустическим эхоинтеграционным ме-

И. А. Убарчук, тодом. Комплекс обеспечивает визуализацию акустических изображений (эхо-

В. И. Поляничко, грамм) с различным масштабированием зондируемого пространства и выделени-
ем областей (слоёв). Использует гидроакустические, биологические, навигацион-

Е. В. Сыроваткин ные и другие данные, находящиеся в интегрированной базе данных, и отобража-
ет их посредством отдельных окон (модулей), являющихся составными частями 
его интерфейса. Комплекс позволяет загрузить и отобразить одновременно не-

Тихоокеанский филиал ФГБНУ «ВНИРО» сколько файлов эхограмм с отметками лага и результатами интегрирования, слои 
(«ТИНРО»), г. Владивосток (в т. ч. слой траления), границы страт, видовой состав объектов в пределах выбран-

ного слоя и страты, гистограммы по силе цели одиночных рассеивателей в вы-
E-mail: mikhail.kuznetsov@tinro- center.ru бранном слое, гистограммы по длине, пересчитанной из силы цели для нескольких 

видов рыб и другие данные. Это даёт возможность сконцентрировать на рабочем 
столе всю информацию, необходимую для качественного анализа и многовидовой 
обработки эхограмм в реальном масштабе времени. Программный комплекс рас-
считывает и сохраняет в табличном виде значения плотности, численности и био-
массы рыб и их распределения с заданным шагом по статистическим квадратам, 
по видам, по размерным рядам, по глубине и т. д. В настоящее время комплекс 
используется в практике эхоинтеграционных тралово- акустических съёмок ТИНРО 
и планируется его дальнейшая модернизация.

Ключевые слова: гидроакустический метод, оценка биоресурсов, научный эхо-
лот, эхограмма, сила цели, программное обеспечение, интерфейс, база данных, 
численность, биомасса.

ВВЕДЕНИЕ цией передачи «сырых» гидроакустических дан-
Гидроакустический эхоинтеграционный метод ных в оцифрованном виде через Ethernet интер-

исследования пространственного распределения фейс и сохранения в файлах формата Simrad 
и запасов гидробионтов широко распространён RAW или HAC на жёсткий диск компьютера 
в настоящее время. Он имеет преимущества по [McQuinn et al., 2005]. Таким образом, поддержи-
сравнению с другими инструментальными мето- вается возможность накопления гидроакустиче-
дами оценки биоресурсов в части скорости и не- ских измерений и их последующей обработки.
прерывности обзора водной среды, а также по- Наличие эффективных систем первичной 
зволяет дистанционно измерять с высоким раз- и тематической обработки данных гидроакусти-
решением вертикальное распределение гидро- ческих измерений с использованием современ-
бионтов. ных компьютерных технологий является важной 

Основой технологии гидроакустической составной частью информационной поддержки 
оценки запасов являются измерение силы об- гидроакустического мониторинга биоресурсов 
ратного поверхностного рассеяния от скопления и среды их обитания. Главное их назначение — 
гидробионтов в пределах выбранного слоя воспроизведение эхограмм и их обработка 
и расчёт их численности по известной отража- с расчётом численности и биомассы рыб мето-
тельной способности (силе цели) рыб, поддер- дом эхоинтегрирования или эхосчётом. Все 
живаемые биологическими измерениями [Куз- остальные загружаемые опции и данные съёмки 
нецов, 2013]. призваны повысить точность, качество и удоб-

Используемые для этих целей регистрирую- ство этого процесса, тем самым уменьшить субъ-
щие устройства должны обладать важной функ- ективную погрешность оператора.

174	 Trudy	VNIRO.	Vol.	183.	P.	174–190	



ПРОгРАММНЫй	кОМПлекС	Для	ВИзУАлИзАцИИ,	МНОгОВИДОВОй	ОбРАбОТкИ	И	хРАНеНИя	ДАННЫх	…

Целью данной работы является развитие про- стралия). Эхосигналы, принятые эхолотом и со-
граммных средств визуализации и постпроцес- хранённые в файлах известного формата, ото-
синговой обработки гидроакустических и сопут- бражаются указанными программными средства-
ствующих измерений, используемых при прове- ми в виде эхограмм и являются предметом мани-
дении биоресурсных исследований ТИНРО. пулирования, пороговой и структурной декомпо-

зиции, удаления шума и проверки наличия оши-
МАТЕРИАЛЫ И МЕТОДЫ бок измерений.

ТИНРО выполняет тралово-а кустические ТИНРО развивает собственное алгоритмиче-
съёмки на значительной акватории северо- ское и программное обеспечение информацион-
западной части Тихого океана, включая Чукот- ной системы накопления и обработки акустиче-
ское, Берингово и Охотское моря и прилегающие ских данных. Разработанный в течение ряда лет 
воды Камчатки и Курильских о-вов. Установлен- программный комплекс обеспечивает выполне-
ный на судах гидроакустический измерительный ние следующих основных функций:
комплекс включает в себя научный эхолот EK60 1) визуализацию акустических измерений 
Simrad с прецизионными характеристиками, ис- с различным масштабированием и выделением 
пользующий метод расщепленного луча для слоёв;
оценки сил целей и эхоинтегратор для оценки 2) вторичную обработку и анализ акустиче-
плотности скоплений (рис. 1). Эхолот содержит ских изображений (эхограмм) с целью получения 
вертикально направленные антенны-в ибраторы абсолютных оценок обилия и пространственного 
с расщеплённым лучом частотой 38 и 120 кГц, распределения гидробионтов;
размещённые под килем судна, и GPT приемопе- 3) ведение интегрированной базы данных 
редатчики, которые генерируют и принимают от- акустических и биологических измерений, задей-
ражённый сигнал от каждого из квадрантов ан- ствованных в расчётах численности и биомассы 
тенны, а также осуществляют оцифровку сигнала. рыб.
Работой GPT управляет процессорный блок В основе его работы лежит эхоинтеграцион-
с размещёнными на нём программами накопле- ный анализ эхограмм [Simmonds, MacLennan, 
ния «сырых» гидроакустических данных и связи 2005]. Общая алгоритмическая схема расчётов, 
с внешними вычислительными устройствами. На- реализуемая комплексом, представлена на 
вигационное сопровождение комплекса осу- рис. 2.
ществляется с использованием системы спутни- Дополнительные опции и усовершенствован-
кового позиционирования GPS. ные модули программного комплекса призваны 

Для просмотра (визуализации) и интерпрета- облегчить работу оператора и повысить точность 
ции акустических данных в мировой практике и оперативность вторичной обработки гидроаку-
съёмок используются различные специализиро- стической информации при проведении съёмки. 
ванные системы постобработки, такие как EP500, Комплекс использует гидроакустические, биоло-
BI500, LSSS, Sonar 4, 5 (Норвегия), EchoView (Ав- гические, навигационные, траловые данные 

съёмки, находящиеся в интегрированной базе 
данных, и отображает их посредством отдельных 
окон (модулей), являющихся составными частями 
его интерфейса. С его помощью можно просма-
тривать хранящиеся на сервере лаборатории 
эхограммы и соответствующую им биологиче-
скую информацию любого из научно- исследо-
вательских и научно- промысловых рейсов ТИН-
РО, в ходе которых выполнялась регистрация 
акустических и биологических данных.

Как правило, оператор интерпретирует аку-
стические и навигационные данные, вводя слои 
и оконтуривая скопления рыб на эхограмме по 
лагу и глубине, удаляя помехи и компенсируя по-
тери эхосигнала, вызванные качкой и акустиче-

Рис. 1. Гидроакустическая измерительная система ской мёртвой зоной эхолота. Дополнительное ис-

Труды	ВНИРО.	Т.	183.	С.	174–190	 175



М.	Ю.	кУзНецОВ,	И.	А.	УбАРчУк,	В.	И.	ПОляНИчкО,	е.	В.	СЫРОВАТкИН

Рис. 2. Алгоритмическая схема расчётов:
i —  индекс длины объекта; j —  индекс вида объекта; sA —  коэффициент обратного поверхностного рассеяния на квадратную 
морскую милю (м2/миля2) [MacLennan et al., 2002]; sv —  объемный коэффициент обратного рассеяния (м-1); z1 и z2 —  верхняя 
и нижняя границы слоя интегрирования; Lij —  зоологическая длина объекта (см); <TSLij> —  среднее значение силы цели 
объекта (дБ); ai, bj —  коэффициенты для расчёта TS(Li); n(Lij) —  количество особей i-й длины, j-го вида в улове (экз.); σLij — 
поперечное сечение обратного рассеяния (м2); <σbsj> —  среднее значение поперечного сечения обратного рассеяния 
единичного объекта (м2); σcatch

j  —  суммарное поперечное сечение обратного рассеяния по улову (м2); σkgj —  среднее 
значение поперечного сечения обратного рассеяния 1 кг рыбы (м2); Ncatch, Wcatch

j j  —  численность и биомасса рыб по улову 
(экз., кг); Dk —  длина интервала интегрирования (миля); Pj —  пропорция по σ в улове; wij — вес рыбы i-й длины, j-го вида (кг); 

N j, W j —  численность и биомасса рыб, пересчитанная на площадь района исследований (экз., кг)
ij ij

пользование данных биологических измерений ляет загрузить и отобразить на экране монитора 
и библиотеки характерных акустических изобра- одновременно несколько файлов эхограмм, вы-
жений рыб позволяет выделить эхограммы, при- делять на эхограмме области (слои) для обработ-
надлежащие различным видам и размерным ки, отображать гистограммы по силе цели для 
группам рассеивателей, и присвоить им соответ- выделенных одиночных целей в выбранном 
ствующие размерно- видовые ключи для расчёта слое, гистограммы по длине, пересчитанной из 
численности и биомассы. силы цели одновременно для нескольких объек-

Материалы, полученные в ходе съёмок в виде тов. Программа рассчитывает и сохраняет в фор-
акустических изображений (RAW-файлов), фай- матах, пригодных для дальнейшей обработки 
лов вторичной обработки, сопутствующих изме- (программами электронных таблиц и др.) значе-
рений и др. сохраняются в соответствующих на- ния коэффициента обратного поверхностного 
званию съёмок архивах, а также в интегрирован- рассеяния sA, численности и биомассы рыб и их 
ной базе данных акустических и биологических распределения с заданным шагом по статистиче-
измерений на сервере лаборатории промысло- ским квадратам, по размерным рядам, по глуби-
вой гидроакустики. не и т. д.

Для более подробного представления о рабо-
РЕЗУЛЬТАТЫ И ИХ ОБСУЖ ДЕНИЕ те и возможностях программы «SALTSE» рассмо-

Программный комплекс ТИНРО состоит из трим её пользовательский интерфейс, состоящий 
двух основных элементов: программы «SALTSE» из собственно эхограммы, основного меню с на-
и интегрированной базы данных в среде Access стройками отображения эхограмм, панели управ-
и нескольких вспомогательных программ: ления («быстрые клавиши») и окон (модулей), 
«Sumfiles», «TxtConvert», «Sounder» и «BIFiles». в которых отображаются информация по объекту 

Программа «SALTSE» [Убарчук, Ермольчев, исследования и другие данные (рис. 3).
2015] —  предназначена для визуализации и мно- Главное окно программы отображает акусти-
говидовой обработки гидроакустических дан- ческое изображение (эхограмму), соответствую-
ных. Программа выполняет интерактивную обра- щую загруженному файлу (рис. 4). В левой части 
ботку накопленных RAW-файлов данных, позво- эхограммы расположена шкала глубин в метрах. 

176	 Trudy	VNIRO.	Vol.	183.	P.	174–190	



ПРОгРАММНЫй	кОМПлекС	Для	ВИзУАлИзАцИИ,	МНОгОВИДОВОй	ОбРАбОТкИ	И	хРАНеНИя	ДАННЫх	…

Рис. 3. Интерфейс программы «SALTSE»

Рис. 4. Окно эхограммы

На правой стороне расположена шкала раскра- обратного объёмного рассеяния sv за интервал 
ски эхограммы. Также на этой шкале в виде чёр- интегрирования.
ных треугольников отображаются пороги инте- В программе реализована возможность за-
грирования. В настройках пороги интегрирова- грузки, отображения и обработки одновременно 
ния могут быть привязаны к порогам шкалы рас- нескольких последовательных файлов эхо-
краски. Эхограмма разделяется вертикальными грамм. Это даёт возможность визуализации ско-
линиями на отрезки заданной длины по лагу. Пе- пления от начала до конца или, например, про-
ред каждой мильной отметкой отображается смотра целого галса или страты в пределах од-
среднее значение коэффициента обратного по- ного окна. Данная функция позволяет оценить 
верхностного рассеяния sA или коэффициента характер распределения рыб и планктона на 

Труды	ВНИРО.	Т.	183.	С.	174–190	 177



М.	Ю.	кУзНецОВ,	И.	А.	УбАРчУк,	В.	И.	ПОляНИчкО,	е.	В.	СЫРОВАТкИН

большом интервале пройденного судном рас- В окне эхограммы имеется всплывающее 
стояния, проследить суточные вертикальные ми- меню, позволяющее создавать границы пелаги-
грации гидробионтов и, на основании этого, ческих и донных слоёв, границы страт, задать 
сделать предварительное оконтуривание ско- название и начало страты по лагу. Редактирова-
плений графическими слоями. Можно посмо- ние выбранного слоя позволяет исключать из 
треть содержимое основных таблиц базы дан- анализа ненужные (неполезные) эхосигналы, 
ных (БД), к которой подключена программа создаваемые приповерхностной аэрацией, ЗРС 
SALTSE (см. ниже). (звукорассеивающий слой), гидрологическим 

Программа автоматически выполняет после- зондом, различные шумы, помехи и др. Страта — 
довательную загрузку эхограмм из текущего ка- участок пути на галсе съёмки, соответствующий 
талога и сохранение результатов, что позволяет характерному акустическому изображению ско-
оперативно производить обработку файлов эхо- пления с определённым видовым и размерно- 
грамм с ранее созданными слоями. Можно вы- возрастн ым составом, подтверждаемым резуль-
брать из списка масштаб представления эхо- татами контрольного траления, в пределах кото-
граммы на экране монитора, наиболее удобный рого выполняется усреднение акустических дан-
для пользователя (Fit to window, All pings, 1, 2, 5, ных. Из обработки исключаются эхограммы, свя-
10, 20 mile/window, 1:1, 2:1, 4:1, или колесом занные с уходом с галса и выполнением кон-
мыши). трольных тралений.

На эхограмме могут отображаться эхосигна- Кроме этого, на эхограмме можно отображать 
лы, полученные на каждой зондирующей по- протраленную область (рис. 6). В БД должны быть 
сылке или соответствующие импульсам лага записаны следующие данные: горизонт хода тра-
(200 импульсов на милю), с ВАРУ 40logR (усиле- ла (глубина верхней подборы), вертикальное 
ние для одиночных целей) и с ВАРУ 20logR и горизонтальное раскрытие трала. Эти параме-
(усиление для косяков), а вместо коэффициента тры фиксируются с помощью тралового зонда 
обратного поверхностного рассеяния (sA) —  зна- FS20/25 или FS70 Simrad. Так же используется 
чения коэффициента обратного объёмного рас- время начала траления, продолжительность, дли-
сеяния (sv). на ваеров. В расчётах учитывается поправка на 

Программа позволяет выбрать цветовой ре- отставание трала от судна на эхограмме —  ква-
жим (палитру) для раскраски эхограммы в зави- дратный корень из разности квадратов длины 
симости от типа используемого эхолота (рис. 5). ваеров и глубины верхней подборы (к длине ва-

Рис. 5. Примеры акустического изображения в разной цветовой палитре в зависимости от модели эхолота: А —  EK-60; 
Б —  Kaijo; В —  BioSonics; Г —  Furuno FQ80

178	 Trudy	VNIRO.	Vol.	183.	P.	174–190	



ПРОгРАММНЫй	кОМПлекС	Для	ВИзУАлИзАцИИ,	МНОгОВИДОВОй	ОбРАбОТкИ	И	хРАНеНИя	ДАННЫх	…

Рис. 6. Эхограмма с загруженным слоем траления по данным с тралового зонда FS20/25

еров добавляется длина кабелей от досок до глубина до дна и до точки, куда указывает курсор 
устья трала). Программно вычисляется значение (в метрах), значение sv в точке эхограммы под 
sA в протраленном слое и полное sA от поверхно- курсором (дБ/м), значение обратного рассеяния 
сти до дна на интервале траления. Данная функ- на одиночных целях (sp ) в точке эхограммы под 
ция используется для расчёта коэффициента курсором (дБ/м), скорость судна в узлах, курс 
уловистости и коэффициента объёмности (при судна в градусах.
траловой съёмке). В программе реализован алгоритм многоча-

В нижней части окна эхограммы отображают- стотного анализа эхограмм и идентификации раз-
ся параметры посылки и отсчёта, на который ука- личных видов гидробионтов по разнице их отра-
зывает курсор в окне эхограммы: дата, время жательной способности на разных частотах 
(GMT), отсчёт лага, координаты (широта/долгота), [Fernandes, Stewart, 2004], а также алгоритм двух-

Рис. 7. Окно «Interpretation»

Труды	ВНИРО.	Т.	183.	С.	174–190	 179



М.	Ю.	кУзНецОВ,	И.	А.	УбАРчУк,	В.	И.	ПОляНИчкО,	е.	В.	СЫРОВАТкИН

частотного метода [Greenlaw, 1979] оценки сред- Info —  открывает окно «DataBase» с информа-
него размера (мм) и плотности (экз./м3) крупно- цией об улове (название вида на латинском языке, 
размерных фракций зоопланктона (с использова- код вида в базе данных, вес, количество особей, 
нием статистики разностного рассеяния). минимальный и максимальный размеры, sA рассчи-

В окне «Interpretation» задаются качествен- танный по улову) в выбранном трале (рис. 8).
ные характеристики выделенного слоя, а также LFK —  номер размерного ключа (пропорции 
параметры, необходимые для расчёта и сохране- длин объектов из таблицы базы данных), по ко-
ния значений sA , sm, численности и биомассы рыб торому будут рассчитываться численность и био-
(рис. 7). масса.

В заголовке окна отображаются тип, порядко- В нижней части окна находится список объек-
вый номер и имя текущего слоя, а также номер тов, в котором каждая строка содержит название 
текущей страты. объекта (выбирается из записей таблицы species 

Fragm —  границы по лагу для текущего фраг- базы данных), код объекта, процент от sA и абсо-
мента эхограммы (части файла эхограммы, огра- лютное значение sA, которое отводится на объект, 
ниченной границами страт). процентное соотношение объекта ко всем объек-

Total Sa —  среднее sA по выделенному слою там в трале по биомассе и численности и плотность 
в границах фрагмента. объекта в слое в тонн/миля2 и в тыс.шт./миля2.

Bubble correction —  задаёт коэффициент кор- Store —  для текущего слоя эхограммы рассчи-
рекции затухания на воздушных пузырьках для тывает sA на сетке интегрирования и вместе 
выделенного слоя (все значения sA умножаются с пропорциями и размерными рядами объектов 
на этот коэффициент). Можно задать параметры по биомассе и численности записывает в файлы. 
расчёта коэффициента пузырьковой коррекции. Вместе с этим также могут быть сохранены, в за-

Region name —  название слоя, которое можно висимости от настроек программы, гистограмма 
выбрать из выпадающего списка слоёв, зареги- и эхотреки, многочастотные данные, расчёты по 
стрированных в базе данных программного ком- возможному вылову, классификации и другие па-
плекса. раметры слоёв.

Load haul —  из базы данных загружаются объ- Окно «Histogram» отображает гистограммы 
екты и рассчитанные пропорции по sA, биомассе по различным параметрам:
и численности для выбранного из списка номера By TS —  гистограмма по значениям компенси-
траления. рованной силы цели (TS) эхотреков, выделенных 

Рис. 8. Окно «DataBase»

180	 Trudy	VNIRO.	Vol.	183.	P.	174–190	



ПРОгРАММНЫй	кОМПлекС	Для	ВИзУАлИзАцИИ,	МНОгОВИДОВОй	ОбРАбОТкИ	И	хРАНеНИя	ДАННЫх	…

Рис. 9. Окно «Histogram»

в текущем слое (рис. 9 А). Контуром показана ги- By Sv —  гистограмма по силе обратного объ-
стограмма эхотреков для центральной части луча ёмного рассеяния sv в текущем слое (рис. 9 В). 
антенны (inner angle в настройках). Area —  площадь эхограммы в текущем слое 

By Length —  реализована возможность зада- в пределах ограничений шкалы гистограммы.
вать и отображать гистограммы по длине, пере- By Sp —  гистограмма по силе обратного рас-
считанной из компенсированной силы цели сеяния на одиночных целях sp (рис. 9Г).
эхотреков (детектированных одиночных целей) Sa accum. —  накопление sA в зависимости от 
сразу нескольких объектов (рис. 9 Б). Для каждо- изменения нижнего порога интегрирования 
го объекта можно задавать название, цвет на ги- (рис. 9 Д). Sа —  суммарное sA в текущем слое 
стограмме, свои коэффициенты зависимости в пределах шкалы гистограммы.
силы цели от длины рыб вида: TS = Alog(L)+B, By Sv dif. —  гистограмма по разнице объём-
ограничения на максимальное отклонение ного рассеяния на заданной паре частот 
эхотреков от акустической оси антенны [Ермоль- (рис. 13 Е). Ограничения и шаг шкалы задаются 
чев, 2005], а также на длину объекта. Здесь же на странице настроек многочастотного анали-
отображаются характеристики распределения. за эхограмм. Sum% —  процентная доля разно-

Труды	ВНИРО.	Т.	183.	С.	174–190	 181



М.	Ю.	кУзНецОВ,	И.	А.	УбАРчУк,	В.	И.	ПОляНИчкО,	е.	В.	СЫРОВАТкИН

стей sv, находящаяся в пределах шкалы гисто- На вкладке Integration (рис. 10 Б) задаются 
граммы. параметры интегрирования: минимальная глуби-

Freq. Resp. —  гистограмма по средней sv на на интегрирования, верхнее и нижнее значение 
всех частотах относительно sv на базовой частоте порога по sv (от -70 до –20 дБ), шаг интегрирова-
(обычно 38 кГц). ния, с которым рассчитанные sA, sm, биомасса 

Show tracks —  если включено, то в режиме ги- и численность сохраняются в файлах (обычно 0,5 
стограммы по TS или по длине, в окне эхограм- или 1 миля) и др.
мы помечается положение эхотреков, по кото- На вкладке Echotrace (рис. 10 В) настраива-
рым строится гистограмма. ются гистограммы по силе цели и длине рыб 

Окно с настройками программы состоит из в окне «Histogram». Здесь можно задавать порог 
восьми вкладок (рис. 10). по отклонению целей от оси антенны (в граду-

На вкладке Echogram (рис. 10 А) задаются па- сах), границы диапазона значений силы целей, 
раметры отображения маркеров и слоёв на эхо- параметры детектирования одиночных целей 
грамме. Программа позволяет настраивать ото- (нижний порог детектирования в дБ, минималь-
бражаемый на эхограмме диапазон глубины, за- ную и максимальную длительность одиночной 
давать шаг разбиения эхограммы по лагу в милях цели относительно длительности импульса эхо-
при отображении на экране (от 0,01 до 1 мили). лота и др.).

Рис. 10. Настройки программы «SALTSE»

182	 Trudy	VNIRO.	Vol.	183.	P.	174–190	



ПРОгРАММНЫй	кОМПлекС	Для	ВИзУАлИзАцИИ,	МНОгОВИДОВОй	ОбРАбОТкИ	И	хРАНеНИя	ДАННЫх	…

На вкладке MultiFrequency (рис. 10 Г) задают- На вкладке Noise (рис. 10 Е) задаются параме-
ся настройки для многочастотного анализа эхо- тры детектирования уровня фонового шума. Ис-
грамм. В левой части находится набор параме- пользуется для устранения шумов на эхограммах.
тров, сохраняемых в текстовые файлы формата На вкладке Common (рис. 10 Ж) осуществляет-
«CSV» для каждой ячейки сетки интегрирования. ся настройка совместной работы программы 
В процессе сохранения данных получаем следу- «SALTSE» и интегрированной БД. Здесь прописы-
ющую информацию: объёмное рассеяние на всех ваются пути доступа к каталогу БД, каталогу для 
частотах и разницей sv для всех пар частот; sv сохранения параметров линий слоёв и сопрово-
с шагом 1 дБ в пределах текущих порогов инте- ждающей информации (файлы с расширением 
грирования; зависимость sA от изменения нижне- Layers), каталогу для сохранения результатов об-
го порога интегрирования с шагом 1 дБ от мини- работки по слоям (файлы с расширением Fam, 
мального порога интегрирования до максималь- Trs), каталогу для сохранения результатов много-
ного; сила цели (TS) по выделенным эхотрекам частотной обработки.
с шагом 1 дБ и пределами, заданными на страни- На восьмой вкладке Advanced (рис. 10 З) рас-
це Echotrace; по разнице sv для всех пар частот, положены дополнительные настройки. Здесь 
рассчитывается и сохраняется с шагом интегри- можно установить следующие параметры: ско-
рования по лагу для всей ширины слоя без раз- рость звука при обработке эхограмм формата 
биения на подслои по глубине. BI500, диапазон глубин дна, в пределах которого 

На вкладке Classification (рис. 10 Д) задаются определённая эхолотом глубина места считается 
настройки для видовой классификации объектов корректной, диапазон глубин для детектирова-
исследования по эхограммам. На данный момент ния дна, настройки компенсации придонной аку-
опция используется в экспериментальном режи- стической зоны тени, настройки для отображения 
ме. слоя траления. Также можно установить макси-

Рис. 11. Структура интегрированной базы данных

Труды	ВНИРО.	Т.	183.	С.	174–190	 183



М.	Ю.	кУзНецОВ,	И.	А.	УбАРчУк,	В.	И.	ПОляНИчкО,	е.	В.	СЫРОВАТкИН

мальное количество одновременно загруженных Информация о составе уловов в тралах (вид, 
файлов эхограмм. число особей, общий вес особей вида, минималь-

Интегрированная база данных —  БД акусти- ная и максимальная длина и вычисленное сум-
ческих, картографических, промысловых и био- марное значение поперечного сечения обратно-
логических измерений и их отношений, необхо- го рассеяния) находится в таблице «Haul Catch» 
димых для обработки эхограмм (около 110 та- (рис. 14). Таблица «Haul Length» содержит раз-
блиц и 250 запросов в среде «Access»). Содержит мерный и половой состав объектов в трале, 
справочные и вспомогательные таблицы, биоло- а также их стадии зрелости (рис. 15).
гические данные (по результатам контрольных Для перевода акустической плотности в по-
тралений), данные сопровождения акустических казатели обилия (численности и биомассы) 
измерений, данные с результатами эхоинтегри- в базе данных используется таблица «Object 
рования, гидрологические и другие данные Param» (рис. 16). В ней заданы формулы и пара-
(рис. 11). метры отражательной способности гидробионтов 

Перед началом каждой съёмки создаётся за- (TS и σbs ) в зависимости от частоты эхолота, вида 
пись в таблице «Surveys» (рис. 12). Таблицы БД и размерной группы объектов.
пополняются данными о параметрах тралений Также для расчётов в базе данных использу-
(таблица Haul и Haul Details), данными о видо- ются таблицы со списком галсов съёмок (таблица 
вом составе уловов (таблица Haul Catch), резуль- Transects), с описанием размерно-ч астотных 
татами промеров и биологического анализа рыб ключей, обработанных слоёв и границ страт (та-
(таблица Haul Length и Haul Specimen). блицы Ac LFK Details, Ac Strata Bounds, Ac LFK 

В таблице «Haul» (рис. 13) находятся навига- Haul, Ac Strata Def ), информация с записями 
ционные данные, параметры траловой системы, маршрута съёмки (галсового листа) и журнала 
акустические параметры (sA в протраленном слое событий (таблицы Track List и Journal), а также 
и во всем слое от поверхности до дна), а также ряд промежуточных и вспомогательных таблиц. 
гидрологические и сопутствующие данные по ка- Созданные запросы позволяют получать инфор-
ждому тралу. мацию отдельно по каждой съёмке, тралу, виду 

Рис. 12. Таблица «Surveys»

Рис. 13. Таблица «Haul»

Рис. 14. Таблица «Haul Catch»

184	 Trudy	VNIRO.	Vol.	183.	P.	174–190	



ПРОгРАММНЫй	кОМПлекС	Для	ВИзУАлИзАцИИ,	МНОгОВИДОВОй	ОбРАбОТкИ	И	хРАНеНИя	ДАННЫх	…

Рис. 15. Таблица «Haul Length»

Рис. 16. Таблица «Object Param»

гидробионтов, размерной группе, глубине трале- файлов объединяются по типу слоя и виду объек-
ния и т. д. та, преобразуются в формат «CSV». В итоге, в за-

Программа Sumfiles —  используется для сум- висимости от настроек, могут быть получены 
мирования файлов с результатами постпроцес- файлы с данными либо по плотности, либо 
сорной обработки эхограмм (файлы с расшире- с оценками численности и биомассы рыб, рас-
нием FAM). Также программа может заносить считанные по размерным группам (рис. 18 А) или 
данные по sA из файлов обработки эхограмм горизонтам глубин (рис. 18 Б).
в базу данных и рассчитывать биомассу и чис- Программа TxtConvert (рис. 19) —  предназна-
ленность объектов, изменяя параметры без по- чена для преобразования и дополнительной об-
вторной обработки эхограмм (рис. 17). Данные из работки файлов распределения численности 

Рис. 17. Окно программы «Sumfiles»

Труды	ВНИРО.	Т.	183.	С.	174–190	 185



М.	Ю.	кУзНецОВ,	И.	А.	УбАРчУк,	В.	И.	ПОляНИчкО,	е.	В.	СЫРОВАТкИН

Рис. 18. Пример итогового файла программы «Sumfiles»: численность (тыс. экз.) по длине объекта (А), по глубине (Б)

Рис. 19. Окно программы «TxtConvert»

и биомассы, получаемых в результате постпро-
цессорной обработки эхограмм в программе 
«SALTSE»  и  суммирования  в  программе 
«Sumfiles». Программа преобразует данные 
в формат, необходимый для построения карт рас-
пределения гидробионтов по глубине, позволяет 
разбросать данные по квадратам координатной 
сетки с заданным шагом, вычислять характери- Рис. 20. Окно программы «Sounder»
стики вертикального распределения объекта.

Sounder —  программа для приёма и обработ- мени, координат, скорости и курса судна, из-
ки телеграмм GPS, тралового зонда, ведения гал- влечёнными из RAW-файлов).
сового листа (таблица с координатами позицио- После пополнения БД и многоступенчатой 
нирования судна, скоростью судна, глубиной до обработки эхограмм и сопутствующих измере-
дна с возможностью дискретизации данных ний в программном комплексе получаем данные 
в 1 с) и журнала событий. В главном окне про- по численности и биомассе исследуемых рыб 
граммы содержится информация о координатах, в зависимости от их вида, размера и глубины 
курсе и скорости судна, приводятся текущие зна- с географической привязкой, информацию о вер-
чения лага и глубины во время съёмки (рис. 20). тикальных суточных миграциях, батиметриче-

BIFiles —  эта вспомогательная программа, ском распределении и другие данные, необходи-
предназначена для манипулирования файлами мые для оценки состояния запасов и масштабов 
эхограмм —  сжатие, преобразование, исправле- миграций гидробионтов. Типовая структура вы-
ние и т. д. , а также создания галсового листа ходных данных представляется результатами об-
(файл формата «CSV» с данными лага, даты, вре- работки фрагментов акустических изображений 

186	 Trudy	VNIRO.	Vol.	183.	P.	174–190	



ПРОгРАММНЫй	кОМПлекС	Для	ВИзУАлИзАцИИ,	МНОгОВИДОВОй	ОбРАбОТкИ	И	хРАНеНИя	ДАННЫх	…

по элементам сетки с задаваемым размером от- стических проб намного выше, чем траловых 
дельного элемента сетки по дистанции (обычно станций, можно изучать тонкую микроструктуру 
0,5 мили в Беринговом море и 1 миля в Охот- зарегистрированных агрегаций и характеристи-
ском море и СЗТО) и 1 м по глубине в пределах ки пространственной дифференциации различ-
выделенных для обработки слоёв. Данные до- ных размерных групп рыб, а также дистанционно 
ступны для последующего использования про- измерять с высоким разрешением не только го-
граммами Excel, Surfer и др. ризонтальное, но и вертикальное распределение 

Программный комплекс используется в прак- гидробионтов.
тике эхоинтеграционных тралово-а кустических 
съёмок ТИНРО и постоянно совершенствуется. ВЫВОДЫ
Методика и результаты его применения при вы- Представлены описание и современные воз-
полнении биоресурсных исследований в дальне- можности специализированного программного 
восточных морях РФ достаточно подробно изло- комплекса, разработанного для исследования 
жены в работе [Кузнецов, 2013]. Рис. 21 и 22 де- и оценки биологических ресурсов Дальневосточ-
монстрируют возможности гидроакустического ных морей гидроакустическим эхоинтеграцион-
метода. В частности, учитывая то, что частота аку- ным методом.

Рис. 21. Пространственное распределение минтая в Охотском море (тыс. экз./миля2) по данным эхоинтеграционных 
измерений (весна 2018 г.)

Рис. 22. Вертикальное распределение плотности скоплений минтая sA (м2/миля2) и температуры вод (°C) вдоль 
разреза по 57° с. ш. (западная Камчатка, апрель 2018 г.)

Труды	ВНИРО.	Т.	183.	С.	174–190	 187



М.	Ю.	кУзНецОВ,	И.	А.	УбАРчУк,	В.	И.	ПОляНИчкО,	е.	В.	СЫРОВАТкИН

Программный комплекс обеспечивает визуа- ЛИТЕРАТУРА
лизацию акустических изображений гидробион- Ермольчев В. А. 2005. Гидроакустический способ опреде-
тов и позволяет сконцентрировать «в одном ме- ления размерного состава рыб в скоплениях в есте-
сте» всю информацию, необходимую для прове- ственной среде обитания. Пат. РФ № 2271552. С. 6. 

Бюл. № 7
дения качественного анализа эхограмм и их об- Кузнецов М. Ю. 2013. Гидроакустические методы и сред-
работки с расчётом численности и биомассы рыб ства оценки запасов рыб и их промысла. Часть 1. Ги-
по видам, размерам и глубине. дроакустические средства и технологии их использо-

С использованием представленных про- вания при проведении биоресурсных исследований 
граммных средств можно воспроизводить эхо- ТИНРО-Центра // Известия ТИНРО. Т. 172. С. 20–51.
грамму и сопутствующую ей биологическую, про- Кузнецов М. Ю., Поляничко В. И., Убарчук И. А., Сыроват-
мысловую, навигационную информацию в любой кин Е. В. 2017. Влияние гидроакустического шума суд-

на на эхоинтеграционные оценки запасов рыб и уло-
точке обследованной акватории в реальном мас- вистость учётного трала (на примере минтая Охотско-
штабе времени. го моря) // Известия ТИНРО. Т. 190. С. 85–100.

Планируется дальнейшая модернизация ком- Кузнецов М. Ю., Убарчук И. А., Поляничко В. И., Шевцов В. И., 
плекса, а именно: Сыроваткин Е. В. 2018. Электронный атлас типовых 

— создание дополнительного программного акустических изображений промысловых видов рыб 
модуля, использующего модель поведения рыб дальневосточных морей России // Известия ТИНРО. 

Т. 193. С. 57–67.
в шумовом поле судна для компенсации потерь Убарчук И. А., Ермольчев В. А. 2015. Программа для ЭВМ 
энергии эхосигнала (sA ) при эхоинтеграционной «SALTSE» (Scattering Area Coefficient, Length and 
оценке запасов [Кузнецов и др., 2017]; Target Strength Estimation): Свидетельство о государ-

— встраивание модуля, рассчитывающего ственной регистрации программы д ля ЭВМ 
для каждой траловой станции сквозной коэффи- № 2015613954. С. 1. Бюл. № 4.
циент уловистости как отношение количества Fernandes P. G., Stewart M. 2004. Determining the quality of 
пойманных рыб в трале к количеству рыб a multifrequency acoustic identification algorithm. ICES 

CM 2004/R. 11. pp.
в протраленном объёме при естественном их Greenlaw C. F. 1979. Acoustical estimation of zooplankton 
распределении [Кузнецов и др., 2017]; populations // Limnol. Oceanogr. V. 24(2). P. 226–242.

— развитие программных средств автомати- MacLennan D.N., Fernandes P. G., Dalen J. 2002. A consistent 
ческой идентификации (распознавания) и клас- approach to definitions and symbols in fisheries 
сификации акустических изображений гидро- acoustics // ICES J. of Marine Science. V. 59. P. 365–369.
бионтов на эхограммах по видам и размерам McQuinn I.H., Reid D., Berger L., Diner N., Heatley D., 
[Кузнецов и др., 2018]; Higginbottom I., Andersen L. N., Langeland O., Lapierre J. P. 

— модернизация программных средств 2005. Description of the ICES HAC Standard Data 
Exchange Format, Version 1.60. ICES Cooperative 

«SALTSE» для совместной работы с ГИС «Карт- Research Report No. 278. 86 pp.
Мастер»; Simmonds E. J., MacLennan D. N. Fisheries acoustics: theory 

— встраивание программного комплекса and practice. 2005. Oxford, UK: Blackwell Science. 
в единую информационную систему сбора, обра- 437 pp.
ботки и хранения данных гидроакустических ре-
сурсных съёмок. Поступила в редакцию 18.03.2019 г.

Принята после рецензии 01.04.2019 г.

188	 Trudy	VNIRO.	Vol.	183.	P.	174–190	



EQUIPMENT FOR FISHERIES RESEARCH TRUDY	VNIRO.	 2021.	 Vol.	183

 DOI: 10.36038/2307-3497-2021-183-174-190

The software complex for visualization, multiple-view processing and 
data storage of hydroacoustic resource surveys

M. Yu. Kuznetsov, The description of the software package created for the study and assessment of 
aquatic biological resources is presented. This software package is provided visual-

I. A. Ubarchuk, ization of acoustic images (echograms) with different scaling of the sensed space 

V. I. Polyanichko, and the selection of areas (layers). The software package are used hydroacoustic, 
biological, navigation and other data that located in the integrated database. These 

E. V. Syrovatkin data are displayed as separate windows (modules) and enter into the composition of 
the program interface. The software package allows you to load and display simul-
taneously several echogram files with lag marks and integration results, layers (in-

Pacific branch of VNIRO  cluding the trawling layer), strata boundaries, species composition within the select-
(«TINRO»), Vladivostok, Russia ed layer and stratum, histograms by single target strength in the selected layer, 

histograms for length, recalculated from the target strength for several species of 
fish and other data. This software package allows you to concentrate on the desktop 
all the information necessary for high-quality analysis and multispecies processing 
of echograms in real time. The software package calculates and stores in a tabular 
form the values of fish density, abundance and biomass and their distribution with 
a given step by statistical squares, by species, size series, by depth, etc. The software 
package is used in the practice of echointegration traw-acoustic surveys of TINRO at 
this time. Upgrade software is planned in the near future.

Keywords: hydroacoustic method, stock assessment, scientific echosounder, 
echogram, target strength, software, interface, data base, abundance.

REFERENCES dal’nevostochnykh morej Rossii [Electronic atlas of 
Ermol ’chev V.A . 2005. Gidroakust icheski j  sposob typical acoustic images of commercial fish species of 

opredeleniya razmernogo sostava ryb v skopleniyakh v the Far Eastern seas of Russia] // Izvestiya TINRO. T. 
estestvennoj srede obitaniya [Hydroacoustic method 193. S. 57–67.
for determining the size composit ion of fish Ubarchuk I. A., Ermol’chev V.A. 2015. Programma dlya EHVM 
aggregation in natural habitat]. Patent RF № 2271552. «SALTSE» (Scattering Area Coefficient, Length and 
S. 6. Byul. № 7 Target Strength Estimation) [Computer program 

Kuznetsov M. Yu. 2013. Gidroakusticheskie metody “SALTSE” (Scattering Area Coefficient, Length and 
i sredstva otsenki zapasov ryb i ikh promysla. CHast’ 1. Target Strength Estimation)] :  Svidetel ’stvo o 
Gidroakusticheskie sredstva i tekhnologii ikh ispol’zo- gosudarstvennoj registratsii programmy dlya EHVM 
vaniya pri provedenii bioresursnykh issledovanij № 2015613954. S. 1. Byul. № 4
TINRO-Tsentra [Hydroacoustic methods and tools for Fernandes P. G., Stewart M. 2004. Determining the quality of 
fish stock assessment and fishery maintenance. Part 1. a multifrequency acoustic identification algorithm. ICES 
Hydroacoustic tools and technologies of their use in CM 2004/R. 11. pp.
bioresource researches of TINRO-Center] // Izvestiya 
TINRO. T. 172. S. 20–51. Greenlaw C. F. 1979. Acoustical estimation of zooplankton 

populations // Limnol. Oceanogr. V. 24(2). P. 226–242.
Kuznetsov M. Yu., Polyanichko V. I., Ubarchuk I. A., Syro-

vatkin E. V. 2017. Vliyanie gidroakusticheskogo shuma MacLennan D.N., Fernandes P. G., Dalen J. 2002. A consistent 
sudna na ehkhointegratsionnye otsenki zapasov ryb approach to definitions and symbols in fisheries 
i ulovistost’ uchetnogo trala (na primere mintaya acoustics // ICES J. of Marine Science. V. 59. P. 365–369.
Okhotskogo morya) [Influence of hydroacoustic noise McQuinn I.H., Reid D., Berger L., Diner N., Heatley D., 
from vessel on echo integration estimations of fish Higginbottom I., Andersen L. N., Langeland O., Lapierre J. P. 
stocks and catchability of accounting trawl (on example 2005. Description of the ICES HAC Standard Data 
of walleye pollock in the Okhotsk Sea)] // Izvestiya Exchange Format, Version 1.60. ICES Cooperative 
TINRO. T. 190. S. 85–100. Research Report No. 278. 86 pp.

Kuznetsov M. Yu., Ubarchuk I. A., Polyanichko V. I., SHevtsov V.I., Simmonds E. J., MacLennan D. N. Fisheries acoustics: theory 
Syrovatkin E. V. 2018. Ehlektronnyj atlas tipovykh and practice. 2005. Oxford, UK: Blackwell Science. 
akusticheskikh izobrazhenij promyslovykh vidov ryb 437 pp.

Труды	ВНИРО.	Т.	183.	С.	174–190	 189



M.	YU.	kUzNeTsOV,	I.	a.	UbaRchUk,	V.	I.	POlYaNIchkO,	e.	V.	sYROVaTkIN

FIGURE CAPTIONS
Fig. 1. Hydroacoustic measuring system

Fig. 2. Algorithmic calculation scheme: i — o bject length index; j —  object species index; sA —  nautical area 
scattering coefficient (NASC) (m2·nmi-2); sv — v olume backscattering coefficient (m-1); z1, z2 —  upper and lower 
boundaries of integration layer; Lij — z oological length of the object (cm); <TSLij> —  average value of target 
strength (dB); ai, bj — c oefficients for calculating TS(Li ); n(Lij) —  the number of specimens of the “i” length, the“j” 
species in the catch (pcs.); σLij — b ackscattering cross- section (m2); <σbs j> —  average value of the backscattering 
cross- section of the single object (m2); σcatch

j  — a ccumulative value of the backscattering cross- section in the 
catch (m2); σkgj —  average value of the backscattering cross- section for 1 kg fish (m2); Ncatch

j , Wcatch
j  —  numbers, 

biomass fish in the catch (pcs., kg); Dk — i ntegration interval length (nmi); Pj —  proportion by σ in catch; wij — 
weight of fish of the “i ” length, the“j ” species (kg); N j, W j —  numbers, biomass of fish, calculated per unit 

ij ij
research area (pcs., kg)
Fig. 3. Interface of the «SALTSE» program
Fig. 4. «Echogram» window
Fig. 5. Examples of the acoustic image in a different color palette, depending on the model of the echosounder: 
А —  EK-60; Б — K aijo; В — B ioSonics; Г — F uruno FQ80
Fig. 6. Echogram with loaded trawling layer according to data from the trawling probe FS20/25
Fig. 7. «Interpretation» window
Fig. 8. «DataBase» window
Fig. 9. «Histogram» window
Fig. 10. Settings of the «SALTSE» program
Fig. 11. Structure of the integrated database
Fig. 12. Table «Surveys»
Fig. 13. Table «Haul»
Fig. 14. Table «Haul Catch»
Fig. 15. Table «Haul Length»
Fig. 16. Table «Object Param»
Fig. 17. Window of the program «Sumfiles»
Fig. 18. Example of the final file of the program «Sumfiles»: the number (ths. pcs.) by the length of the object 
(A), by depth (B)
Fig. 19. Window of the «TxtConvert» program
Fig. 20. Window of the «Sounder» program
Fig. 21. Spatial distribution of walleye pollock in the Okhotsk Sea (ths. pcs./nmi2) according to the data of 
echointegration measurements (spring 2018)

Fig. 22. Vertical distribution of the density of walleye pollock aggregations sA (m2/nmi2) and water temperature 
(°C), along 57° N. lat. (western Kamchatka, April 2018)

190	 Trudy	VNIRO.	Vol.	183.	P.	174–190