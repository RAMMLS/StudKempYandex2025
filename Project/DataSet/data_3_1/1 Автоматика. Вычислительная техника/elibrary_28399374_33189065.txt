Алгоритмы распознавания рукописных символов на основе построения структурных моделей   Хаустов П.А. 

АЛГОРИТМЫ РАСПОЗНАВАНИЯ РУКОПИСНЫХ СИМВОЛОВ 
НА ОСНОВЕ ПОСТРОЕНИЯ СТРУКТУРНЫХ МОДЕЛЕЙ 

П.А. Хаустов 1 
1 Томский политехнический университет 

(национальный исследовательский университет) (ТПУ), Томск, Россия 

Аннотация  

Статья посвящена разработке алгоритмов распознавания рукописных символов на осно-
ве построения структурных моделей, существенным преимуществом которых является воз-
можность работы в условиях малого количества эталонных изображений. В том числе был 
предложен подход к скелетизации бинарного представления изображения символа, осно-
ванный на совместном применении алгоритмов Зонга–Суня и Ву–Цая. Эффективность дан-
ного подхода к утоньшению бинарного представления символа была подтверждена резуль-
татами проведённых экспериментов.  

Работа содержит подробное описание всех стадий алгоритма построения структурных 
моделей и описание подходов к оценке степени их схожести. Приведены результаты апро-
бации предложенных алгоритмов. Выполнено сравнение полученных результатов с резуль-
татами аналогов, способных функционировать в условиях малого количества эталонных 
изображений.  

Ключевые слова: распознавание символов, структурные составляющие, структурные 
модели, компьютерное зрение, скелетизация, бинаризация.  

Цитирование: Хаустов, П.А. Алгоритмы распознавания рукописных символов на основе 
построения структурных моделей / П.А. Хаустов // Компьютерная оптика. – 2017. – Т. 41, 
№ 1. – С. 67-78. – DOI: 10.18287/2412-6179-2017-41-1-67-78. 

Введение волы представляются не в виде вектора некоторых аб-

Теория компьютерного зрения на сегодняшний страктных признаков, а в виде набора определённых 

день является одной из наиболее востребованных об- элементов графического начертания символа, например, 

ластей исследований. Решения задач этой области на- в виде ключевых точек и связывающих их геометриче-

ходят применение во многих сферах человеческой ских примитивов. Полученные представления исполь-

деятельности, включая образование и медицину [1]. зуются для построения структурных моделей, которые, 

Распознавание символов – одна из наиболее важ- в свою очередь, используются непосредственно в алго-

ных задач теории компьютерного зрения. Особенно ритмах сравнения [8]. Структурная модель символа мо-

востребованы решения такой задачи при переводе жет быть получена путём дополнения топологической 

больших архивов из бумажного в электронный вид модели геометрическими характеристиками. 

хранения информации [2]. Задача распознавания руко- Преимуществами таких методов над группой методов 

писных символов является трудно формализуемой, а с использованием признаковых классификаторов являет-

точность существующих методов её решения несколь- ся лучшая наглядность процесса распознавания для поль-

ко ниже, чем точность аналогичных методов, приме- зователя. При разработке таких методов существенно 

няемых для печатных символов [3]. Методы и алго- проще реализовать построение аргументированного от-

ритмы решения задачи распознавания рукописных чёта о каждом из этапов построения структурной модели 

символов используются при автоматической обработке символа и последующего процесса сравнения. 

анкет и проверке тестовых заданий. Даже если для за- В этой связи разработка алгоритмов, основанных на 

полнения документа предоставляется набор образцов построении структурных моделей, является достаточно 

правильного начертания каждого из символов, особен- актуальной, а её решения найдут широкое применение в 

ности почерка и различия в способах начертания раз- медицинских и образовательных учреждениях, где су-

личных людей приведут к тому, что форма графиче- ществует необходимость автоматической и полуавтома-

ского представления одних и тех же символов этими тической обработки большого количества бланков. 

людьми будет существенно различаться. 1. Бинаризация и скелетизация изображения 
Большинство методов, которые применяются для 

Для выполнения распознавания символа необхо-
решения задачи распознавания рукописных символов, 

димо предварительно разделить все пиксели этого 
схожи с методами, которые используются для других 

изображения на пиксели, которые принадлежат гра-
задач классификации изображений [4]. Как правило, 

фическому представлению символа, и оставшиеся 
такие методы предполагают использование искусст-

пиксели. 
венных нейронных сетей [5] или аналогичных призна-

Можно считать, что на изображении в градациях 
ковых классификаторов, которые не позволяют отсле-

серого пиксели, принадлежащие начертанию симво-
дить логику процесса классификации [6, 7]. 

ла, существенно отличаются по среднему уровню яр-
Особый интерес представляет группа методов, осно-

кости от пикселей фона. Для определённости будем 
ванных на извлечении структурных составляющих из 

полагать, что более светлые пиксели принадлежат 
исходных изображений символов. В таких методах сим-

Компьютерная оптика, 2017, том 41, №1 67 



Алгоритмы распознавания рукописных символов на основе построения структурных моделей  Хаустов П.А. 

фону. В таком случае для разделения пикселей на два бражения, направленных на выделение структурных 
описанных класса обычно используется некоторое составляющих. Как показывают результаты исследо-
пороговое значение яркости T. вания, все рассмотренные алгоритмы на определён-

Для определения оптимального порога бинариза- ных изображениях допускают наличие не до конца 
ции T предложено огромное количество различных скелетизированных участков. 
алгоритмов. Как правило, такие методы опираются на Для устранения областей изображения, где скеле-
использование локальной или глобальной гистограм- тизация была выполнена не полностью, предложено 
мы изображения. Одним из наиболее широко исполь- дополнительно использовать алгоритм скелетизации 
зуемых подходов является подход, предложенный Ву–Цая [12]. После применения такого подхода не-
Оцу; преимуществами данного алгоритма являются желательные участки на результирующем изображе-
понятный статистический смысл и низкая вычисли- нии устраняются.  
тельная сложность [9]. Следует отметить, что самостоятельное примене-

Скелетизация бинарного представления символа – ние алгоритма Ву–Цая без предварительной обработ-
процесс, в ходе которого выполняется максимальное ки алгоритмом Зонга–Суня оказывается нецелесооб-
утоньшение всех линий на бинарном изображении разным. Алгоритм Ву–Цая достаточно часто наруша-
данного символа, результатом чего является скелет ет исходную топологию объекта, удаляя небольшие 
его исходного изображения, в котором все линии элементы графического представления символа. 
имеют толщину в один пиксель. Под термином «ске- Можно сделать вывод, что использование лишь одно-
лет бинарного изображения символа» понимается го из двух рассмотренных алгоритмов скелетизации 
подмножество его пикселей, равноудалённых от его приведёт к потере информации о топологии символа 
границ, образующих объект единичной толщины, то- или к неоднозначности при попытке извлечения 
пологически эквивалентный данному символу. структурных составляющих. В свою очередь, исполь-

В задаче распознавания символов очень важно, что- зование сначала алгоритма Зонга–Суня, а затем алго-
бы в процессе скелетизации не происходило потери ин- ритма Ву–Цая приводит к устранению обоих типов 
формации о ключевых элементах графического начер- недостатков. 
тания исходного символа. С другой стороны, для мето- Однако существуют изображения, при обработке 
дов, опирающихся на использование скелетизированно- которых даже при таком подходе удаляются важные 
го изображения, важно, чтобы ни один из пикселов, ко- элементы графического представления символа. 
торый можно перекрасить, не нарушая топологии гра- Пример такого случая изображен на рис. 2. 
фического представления, не был пропущен в ходе ра-
боты алгоритма. Описанные случаи зачастую приводят 
к появлению ошибок в ходе последующей классифика-
ции, особенно при использовании алгоритмов, выде-
ляющих структурные составляющие символов. 

В исследованиях A.R. Widiarti приведён сравни-
тельный анализ алгоритмов построения скелетов би-
наризированных растровых изображений [10]. В при-     

ведённом исследовании отмечается, что алгоритм Рис. 2. Пример некорректной скелетизации 
последовательным применением алгоритмов Зонга–Суня 

Зонга–Суня [11] показал наиболее высокое быстро-
и Ву–Цая  

действие и низкую вероятность удаления важных 
элементов графического начертания в ходе процесса Причиной этого является алгоритм Зонга–Суня, 

скелетизации. Однако на результирующем изображе- который тоже иногда допускает удаление элементов, 

нии достаточно часто остаются пиксели, которые важных с точки зрения топологии символа. Так про-

можно перекрасить без нарушения топологии исход- исходит с приведенным графическим начертанием 

ного графического начертания. На рис. 1 показан символа «Х», которое содержит плоское завершение 

пример такого результата применения алгоритма. нижнего левого элемента, представленное последова-
тельностью горизонтально расположенных пикселей. 
Алгоритмом оно воспринимается как локальное 
утолщение и постепенно удаляется. Одним из спосо-
бов равномерного утолщения бинарного изображения 
является дилатация – одна из операций морфологиче-
ской обработки изображений. Однако применение та-
кой операции может привести к соединению двух 
близко расположенных друг к другу элементов, и тем 
самым нарушить исходную топологию объекта. 

 Была предложена собственная операция, имеющая 
Рис. 1. Пример не до конца скелетизированного участка 

изображения символа сходство с морфологической операцией дилатации. Для 
каждого белого пиксела рассмотрим пиксели, гранича-

Такой подход может оказать существенное влия-
щие с ним по стороне. Если цвета четырёх соседних 

ние на поведение алгоритмов обхода бинарного изо-

68 Компьютерная оптика, 2017, том 41, №1 



Алгоритмы распознавания рукописных символов на основе построения структурных моделей   Хаустов П.А. 

пикселей не образуют одну из четырех комбинаций, ляющих представления символа, а также для описания 
приведённых на рис. 3, то пиксел становится черным. алгоритма их получения. 

Ключевые пиксели – чёрные пиксели скелетизи-
рованного бинарного изображения символа, соответ-
ствующие ключевым точкам или изгибам его струк-
турной модели. 

       Соединяющее ребро – структурная составляющая 
Рис. 3. Комбинации соседних пикселей, не требующие 

представления символа, описывающая последова-
перекраски центрального пиксела в чёрный цвет 

тельность чёрных пикселов на скелетизированном 
Чтобы избежать нарушений исходной топологии бинарном изображении символа, соединяющую два 

представления символа, после применения данной ключевых пикселя. 
операции осуществляется проверка на то, оказались Ключевая точка – структурная составляющая пред-
ли два чёрных пикселя в одной компоненте связно- ставления символа, которая является местом стыка од-
сти, если ранее они принадлежали разным компонен- ного, трёх или более соединяющих ребер. Также ключе-
там. Такая проверка может быть выполнена с помо- вой точкой можно назвать место стыка двух соединяю-
щью одного дополнительного запуска алгоритма об- щих рёбер, направляющие вектора которых при выборе 
хода в ширину, время работы которого линейно зави- в качестве начального положения данной ключевой 
сит от количества пикселей на изображении. Если та- точки расположены под углом менее 120 градусов. 
кие пиксели обнаружены, то результат применения Направляющий вектор некоторого соединяющего 
операции не используется. ребра может быть вычислен с использованием сле-

Предобработка с использованием такой операции по- дующего принципа. Рассмотрим соединяющее ребро 
зволяет избежать плоских окончаний элементов бинар- между двумя ключевыми пикселами как упорядочен-
ных изображений, не требующих удалений. Для ранее ную в порядке удаления от начального положения 
приведённого примера символа применение такой опера- последовательность пикселей. В качестве начального 
ции приводит к существенному улучшению результата. положения следует выбрать один из инцидентных 

ключевых пикселей. Поочерёдно проведём вектора из 
начального ключевого пикселя в каждый из пикселей 
пути. Последовательно просуммируем в порядке уда-
ления от начального ключевого пиксела все вектора с 
угасающими коэффициентами: например, первый – 
с множителем 1; второй – с множителем 0,5; третий – 

    с множителем 0,25 и так далее. 
Рис. 4. Результат выполнения скелетизации  Изгиб (точка изгиба) – структурная составляющая 
после применения предложенной операции 

представления символа, которая не может быть отнесе-
Таким образом, предложенный подход к выполне- на к ключевым точкам, но линия, соединяющая два 

нию скелетизации состоит из трёх последовательных ключевых пиксела и проходящая через этот пиксел, су-
этапов: щественно изменяет направление на участке графиче-
1. Предварительная обработка бинарного изображе- ского представления символа, соответствующем этому 

ния с целью устранения плоских окончаний эле- пикселу. Фактически изгиб является стыком двух со-
ментов графического представления. единяющих ребер, направляющие вектора которых при 

2. Применение алгоритма скелетизации Зонга–Суня. выборе в качестве начального положения данного изги-
3. Применение алгоритма Ву–Цая для устранения ба расположены под углом не менее 120 градусов. 

участков с незаконченной скелетизацией на полу- Композитное ребро – последовательность соеди-
ченном изображении. няющих рёбер, начинающаяся и заканчивающаяся в 

2. Предложенный метод выделения  ключевых точках, которая не содержит ни одной клю-

структурных составляющих чевой точки, кроме начальной и конечной. 

Выполнить выделение структурных составляющих 
на скелетизированном бинарном изображении символа 
существенно проще, чем на произвольном бинарном 
изображении. Для такого рода изображений гораздо 
проще сформулировать алгоритмы, которые позволят 
извлечь такого рода составляющие. 

Выделение таких важных точек даже для скелетизи-
рованных бинарных изображений остаётся нетривиаль-
ной задачей. Еще более нетривиальной задачей является 

 
характеристика соединяющих эти точки элементов. Рис. 5. Основные структурные составляющие: ключевые 

Обозначим термины, которые будут использовать- точки (1), изгибы (2), соединяющие рёбра (3) 
ся для описания извлекаемых структурных состав- и композитные рёбра (4) 

Компьютерная оптика, 2017, том 41, №1 69 



Алгоритмы распознавания рукописных символов на основе построения структурных моделей  Хаустов П.А. 

Выделение структурных составляющих рацио-
нально начать с выделения ключевых пикселей. В 
первую очередь к таким пикселям можно отнести все 
пиксели, количество соседей у которых не равно 
двум – изолированные пиксели, конечные пиксели и     
стыки трёх и более элементов. Рис. 9. γ-группа шаблонов соседних пикселей 

Сложнее анализировать пиксел, который имеет два Как показали эксперименты, достаточно часто воз-
соседа. В таком случае он может являться частью со- никает необходимость в обнаружении случаев, когда 
единяющего ребра или точкой сочленения двух эле- подобные шаблоны соответствуют изгибам и даже клю-
ментов графического начертания. Можно выделить чевым пикселам. Определить такие случаи можно, если 
первую группу шаблонов соседних пикселей, которая рассмотреть сразу два пиксела, соседних с централь-
всегда соответствует ключевому пикселу или изгибу ным. На рис. 10 показаны примеры подобных случаев. 
(рис. 6), назовём эту группу шаблонов α-группа. В таких случаях шаблон соответствует достаточно 

резкой двукратной смене направления соединяющего 
ребра. В таком случае, как правило, возникает необхо-
димость разбиения представления такого ребра в дан-

          ной точке на два геометрических примитива. 
Рис. 6. α-группа шаблонов соседних пикселей 

Для некоторых шаблонов соседних пикселей не-
достаточно информации лишь об их взаимном распо-
ложении. Необходимо также учесть, как расположены 
соседи непосредственных соседей центрального пик-
села. Выделим некоторую группу таких шаблонов со-
седних пикселей, обозначив её как β-группу (рис. 7). 

    
Рис. 10. Примеры случаев, когда шаблон γ-группы 

не является частью соединяющего ребра 

Таким образом, были выделены три группы шаб-
          лонов расположения соседних пикселей: α-группа,  

β-группа и γ-группа. Пиксели, принадлежащие им, мо-
гут соответствовать ключевым пикселам. Стоит отме-
тить высокое быстродействие процедуры сравнения ок-

          рестности пикселя с каждым из шаблонов. При эффек-
Рис. 7. β-группа шаблонов соседних пикселей 

тивной реализации отдельное сравнение может быть 
Как можно заметить, такие участки бинарного выполнено с использованием единственной операции 

изображения могут соответствовать как участку со- побитового «И». Такой подход может быть основан на 
единяющего ребра, так и точке стыка нескольких со- хранении информации о цветах соседних пикселей в 
единительных рёбер. Примеры случаев, когда шаблон битах специально отведённого целочисленного значе-
β-группы соответствует ключевой точке или точке ния. Операция проверки цветов пикселей, граничащих с 
изгиба, показаны на рис. 8. непосредственными соседями, заключается в восьми-

кратном использовании процедуры сравнения окрест-
ности пикселя. Стоит отметить, что общая сложность 
алгоритма обнаружения точек, соответствующих пред-
ставленным шаблонам, составляет O(P), где P – общее 
количество пикселей на изображении. 

    3. Алгоритм разделения ключевых пикселей 
Рис. 8. Примеры случаев, когда шаблон β-группы на ключевые точки и изгибы 

не является частью соединяющего ребра Для решения задачи разделения ключевых точек и 
Один соседний пиксел одного из соседей цен- изгибов недостаточно рассматривать ограниченные 

трального пикселя является ключевым для определе- окрестности соответствующих пикселей. Требуется 
ния типа участка бинарного изображения. Однако анализ всего бинарного изображения. В частности, не-
можно выделить ещё одну группу шаблонов соседних обходимо анализировать маршруты между найденны-
пикселей, которая, как и β-группа, характеризуется ми кандидатами в ключевые пиксели по чёрным пик-
зависимостью не только от непосредственных сосе- селам скелетизированного бинарного изображения. 
дей центрального пиксела. Назовём такую группу Скелетизированное бинарное изображение мож-
шаблонов γ-группой. Формально такая группа состо- но представить в виде графа. Чёрные пиксели этого 
ит лишь из двух шаблонов (рис. 9). изображения в таком представлении являются вер-

шинами графа, а рёбрами они соединены со всеми 

70 Компьютерная оптика, 2017, том 41, №1 



Алгоритмы распознавания рукописных символов на основе построения структурных моделей   Хаустов П.А. 

чёрными пикселями, граничащими с ними по стороне жен. Следовательно, в ходе работы алгоритма будет 
или по углу. выполнено ограниченное количество итераций. 

Запуск обхода такого графа в ширину одновре- Оценить вычислительную сложность такого алго-
менно из всех вершин, соответствующих пикселам α-, ритма можно как O(P·K), где K – количество пиксе-
β- и γ-групп, можно считать частным случаем ис- лей бинарного скелетизированного изображения, со-
пользования алгоритма Ли для бинарного изображе- ответствующих α-, β- и γ-группам, а P – количество 
ния [13]. В ходе работы алгоритма от каждой из на- чёрных пикселей бинарного скелетизированного изо-
чальных вершин будет расходиться так называемая бражения. Для реальных скелетизированных бинар-
волна. Две встречные волны могут встретиться на се- ных изображений величина P намного меньше, чем 
редине соединяющего ребра, в таком случае каждая H·W, где W и H – ширина и высота изображения со-
из волн может нести информацию о вершине, из ко- ответственно. Величина K же для реальных изобра-
торой она начата, а также о количестве пикселов на жений намного меньше P и редко превышает 15. 
пути от этой вершины до места встречи этих волн. 4. Алгоритм выделения композитных ребер 

Можно заранее определить два правила, по кото-
рым однозначно определяются пиксели, являющиеся Ранее были разработаны алгоритмы для выделе-

ключевыми точками, а не изгибами. Вершина соот- ния ключевых точек и изгибов на скелетизированном 

ветствует ключевому пикселу, если: бинарном изображении. Для построения полноцен-
ной структурной модели также необходимо выделить 

• имеет инцидентную ей петлю; 
соединяющие рёбра, после чего объединить их в ком-

• имеет более двух исходящих соединительных 
рёбер. позитные. 

В оставшихся случаях классификация вершин Для того чтобы сформулировать алгоритм выде-

требует более тщательного анализа. К оставшимся ления композитных рёбер на исходном изображении, 

случаям можно отнести лишь вершины, имеющие необходимо предварительно заметить, что никакой 

ровно два исходящих соединительных ребра. Если изгиб не принадлежит более чем одному композит-

угол между двумя направляющими векторами исхо- ному ребру или петле. Это утверждение явно следует 

дящих из некоторой вершины соединительных рёбер из того факта, что на пути между двумя вершинами, 

не менее 120 градусов, то можно считать, что эта соответствующими соседним ключевым пикселям, 

вершина соответствует изгибу. все вершины соответствуют изгибам и могут иметь 

Опираясь на рассмотренные утверждения, можно лишь два инцидентных соединяющих ребра. 

сформулировать алгоритм разделения ключевых то- Так как любой пиксел, соответствующий изгибу, 

чек и изгибов. принадлежит только одному композитному ребру, 

Для поиска множества пикселей, соответствую- посещение в порядке обхода алгоритмом Ли этого 

щих ключевым точкам, и аналогичного множества пикселя не вызывает неоднозначности при выборе 

пикселей, соответствующих изгибам, необходимо дальнейшего направления обхода. Таким образом, 

выполнить следующие шаги: при запуске алгоритма Ли одновременно из всех 

1. Выделим на бинарном скелетизированном изо- ключевых пикселей, пиксели, являющиеся изгибами, 

бражении все пиксели, соответствующие α-, β- и не могут повлиять на детерминированность обхода. В 

γ-группам, обозначим все эти пиксели как соот- таком случае две волны, запущенные из двух ключе-
ветствующие ключевым точкам. вых пикселей, связанных композитным ребром, обя-

2. Запустим алгоритм Ли одновременно из всех зательно встретятся где-то между двумя этими пиксе-
пикселей, соответствующих ключевым точкам. лами. Если использовать ранее рассмотренный спо-

3. Если в результате работы алгоритма Ли обнару- соб определения направляющего вектора волны и 
жено, что некоторые из пикселей, на данный мо- подсчёта количества посещённых этой волной пиксе-
мент считавшихся соответствующими ключевым лей, можно сформулировать алгоритм выделения 
точкам, на самом деле являются местом стыка композитных ребер. 
двух соединяющих рёбер, направляющие вектора Для того чтобы выделить все композитные рёбра 
которых при выборе в качестве начального поло- на скелетизированном бинарном изображении с из-
жения рассматриваемого ключевого пикселя рас- вестным положением ключевых точек и изгибов, не-
положены под углом более 120 градусов, то обо- обходимо выполнить следующие шаги: 
значим их как соответствующие изгибам и вер- 1. Запустим алгоритм Ли одновременно из всех 
нёмся к шагу 2. ключевых пикселей. 

4. Если в результате работы алгоритма Ли не обна- 2. Для каждой комбинации стартовой вершины и 
ружено новых изгибов, алгоритм завершён. начального направления движения заведём стек 
Важно заметить, что для каждого последующего посещённых изгибов и количества шагов на мо-

запуска алгоритма Ли множество ключевых пиксе- мент их посещения. 
лей, из которых будут одновременно запускаться 3. Если на очередной итерации алгоритма волна по-
волны, будет уменьшаться. Это обусловлено тем, что сещает вершину, соответствующую изгибу, по-
по результатам предыдущего запуска алгоритма неко- ложим в стек метку этого изгиба. 
торые ключевые пиксели могут стать соответству- 4. Если на очередной итерации алгоритма встрети-
ющими изгибам, однако обратный процесс невозмо- лись две волны, объединим два стека этих волн, 

Компьютерная оптика, 2017, том 41, №1 71 



Алгоритмы распознавания рукописных символов на основе построения структурных моделей  Хаустов П.А. 

получив итоговую последовательность изгибов в мировать соединяющее ребро некоторым геометри-
порядке их посещения и расстояния между двумя ческим примитивом. 
соседними изгибами. Для такой последователь- В случае, если коэффициент искривления близок к 
ности по начальным позициям волн однозначно единице, соединяющее ребро можно представить па-
восстанавливается информация о том, какие два рой смежных отрезков, направление первого из кото-
ключевых пиксела соединяются через эту после- рых совпадает с направляющим вектором, второй же 
довательность изгибов. отрезок соединяет первый отрезок со вторым концом 

5. По окончании обхода алгоритмом Ли у нас име- соединяющего ребра. Длина первого отрезка подби-
ется множество последовательностей изгибов, 

рается таким образом, чтобы суммарная длина двух 
характеризующих пути между соединёнными на-

отрезков была равна длине соответствующего соеди-
прямую ключевыми пикселами. Рассмотрим 
кратчайшие расстояния du,v между всеми парами няющего ребра структурной модели. 

соседних изгибов в каждой из последовательно- Соединяющие ребра с большей степенью искрив-

стей, а также количество пикселей pu,v, посещён- ления удобно представлять в виде дуги окружности 

ных между этими двумя изгибами. Обозначим за или, при необходимости, дуги эллипса. Такие пред-

коэффициент искривления величину отношения ставления могут быть определены аналитически по 
pu,v к du,v. Эта величина в достаточной степени известным положениям концов дуги и её длине. 
позволяет определить, насколько сильно выгнута 

6. Алгоритмы сравнения структурных моделей 
линия, соединяющая два изгиба. Посчитаем эту 
величину для каждого из отрезков между двумя Тривиальным подходом к решению задачи распо-
соединенными изгибами. знавания символов является поочерёдное сравнение 

6. Преобразуем каждую из найденных последова- тестируемого графического образа с каждым из эта-
тельностей в массив соединяющих рёбер. Каждое лонных образов, классификация которых известна, и 
из таких рёбер будет однозначно задаваться мет- последующий выбор класса наиболее похожего эта-
ками изгибов, которые оно соединяет, направ- лонного образа. В общем случае для оценки степени 
ляющим вектором начала и конца этого ребра, а схожести графических представлений двух символов 
также коэффициентом искривления. Полученный на основе структурных моделей необходимо постро-
массив и является композитным ребром. ить структурную модель для каждого из этих симво-
Вычислительная сложность такого алгоритма со- лов в отдельности, после чего две полученные модели 

ставляет O(P), где P – количество чёрных пикселей на необходимо сравнить для оценки их степени схоже-
скелетизированном бинарном изображении. сти. При таком подходе особенно важен выбор алго-

Композитные рёбра и ключевые точки, которые ритма оценки степени схожести двух структурных 
ими соединяются, являются важными структурными моделей символов. Для того, чтобы оценить, какой 
составляющими. Именно на их основе можно создать подход к использованию построенных структурных 
структурную модель символа, которая в дальнейшем моделей является наиболее успешным, было разрабо-
будет использоваться в алгоритмах распознавания. тано три алгоритма оценки степени схожести двух 

5. Построение структурной модели на основе моделей: 

выделенных структурных составляющих • алгоритм на основе метода пересечений; 
• алгоритм на основе поиска максимального па-

Если считать все ключевые точки и изгибы вер-
росочетания минимального веса; 

шинами некоторого графа G, а выделенные соеди-
няющие рёбра – его рёбрами, то полученный граф G • вероятностный алгоритм. 

Алгоритм на основе метода пересечений опирает-
будет являться планарным графом, задающим топо-

ся на анализ пересечений некоторого набора прямых 
логическую модель символа. Такая модель не содер-

с каждым из сравниваемых символов. Он нашёл ши-
жит информации о геометрических характеристиках 

рокое применение в задачах распознавания символов, 
графического представления. 

однако его применение существенно осложняется 
Если дополнить полученную топологическую мо-

тем, что исходное графическое начертание символа 
дель информацией о том, какая вершина соответству-

задано в растровом представлении. Оценка количест-
ет ключевому пикселю, а какая – изгибу, можно су-

ва пересечений геометрической прямой на плоскости 
щественно увеличить информативность этой модели. 

с растровым изображением затрудняется неоднознач-
Чтобы добавить в модель информацию о геомет-

ностью интерпретации понятия «пересечение прямой 
рических характеристиках графического представле-

и растрового изображения», а также необходимостью 
ния, необходимо добавить положение каждой из 

анализа многократного пересечения привычного гео-
вершин такого графа, а для каждого соединяющего 
ребра – информацию о направляющих векторах с метрического и растрированного отрезков. Однако в 

обеих его сторон и коэффициенте искривления, кото- случае со структурной моделью достаточно выпол-

рый показывает, во сколько раз длина кривой, прове- нить пересечение прямой с её геометрическими при-

дённой между двумя ключевыми пикселами, больше, митивами. 

чем евклидово расстояние между ними. Наиболее простой алгоритм получения вектора 

В совокупности с направляющим вектором этот признаков для оценки степени схожести структурных 

коэффициент можно использовать, чтобы аппрокси- моделей на основе метода пересечений может быть 

72 Компьютерная оптика, 2017, том 41, №1 



Алгоритмы распознавания рукописных символов на основе построения структурных моделей   Хаустов П.А. 

сформулирован в виде следующей последовательно- 2 = 2 + − 2
d (x1 − x2 ) (y1 y2 ) .  (2) 

сти шагов: 
1. Предварительно сгенерируем набор прямых для Первое слагаемое можно преобразовать следую-

оценки количества пересечений с графическими щим образом: 

представлениями символов. Для генерации можно (x − x )2 = ((x 2
1 2 a − xc ) + t(xb + xc − xa − xd )) =

использовать эвристические правила или эволю-  (3) 
2 2 2 2

ционные алгоритмы. = (Ax + Bxt) = Bx t + 2AxBxt + Ax .
2. Будем рассматривать все прямые набора в опреде- Преобразовав схожим с выражением (3) образом и 

лённом порядке. Выберем первую в порядке рас- второе слагаемое формулы (2), можно представить 
смотрения прямую li. квадрат расстояния в виде выражения (4): 

3. Изначально полагаем счётчик количества пресе-
чений для прямой li равным нулю. d 2 = (B 2 2 2

x + By )t + 2(AxBx + Ay By )t +
4. Поочередно выполним пересечение прямой li с 

 (4) 
+ 2 2 2

(Ax + By ) = at + bt + c.
каждым из геометрических примитивов, пред-
ставляющих соединяющие рёбра структурной мо- Следовательно, степень схожести двух композит-
дели. Для каждого геометрического примитива, ных рёбер в интервале времени от t1 до t2 может быть 
для которого существует единственная точка пе- определена с помощью выражения (5): 
ресечения прямой li, необходимо выполнить уве- t2
личение счётчика количества пересечений для = 2

S ∫ at + bt + c dt .  (5) 
этой прямой на единицу. 

t1
5. Выберем следующую в порядке рассмотрения 

прямую li и перейдём к шагу 3. Если все прямые С помощью справочников [14] или математиче-

рассмотрены, то перейдём к шагу 6. ских пакетов значение такого интеграла может быть 

6. Объединим счётчики для всех прямых в вектор, представлено в аналитическом виде, что позволяет 

который по своей сути является вектором призна- избежать необходимости в использовании численных 

ков для дальнейшей классификации структурных методов, которые могут существенно понизить быст-

моделей. Алгоритм закончен. родействие алгоритма. 

Вычислительная сложность метода пересечений Пусть для каждой пары композитных рёбер из 

на основе структурных моделей при таком подходе разных структурных моделей известна их степень 
схожести. Тогда можно построить двудольный граф 

оценивается как O(E·L), где E – количество соеди-
G, в котором вершинами будут являться композитные 

няющих рёбер в структурной модели, а L – количест-
рёбра исходных структурных моделей. К первой доле 

во прямых, используемых для подсчёта количества 
графа G будут относиться вершины, которые соот-

пересечений. 
ветствуют композитным рёбрам из первой структур-

Алгоритм на основе поиска максимального паро-
ной модели, ко второй доле – вершины, соответст-

сочетания минимального веса использует площади 
вующие второй модели. 

фигур, заключённых между всеми возможными па-
Для того, чтобы оценить степень схожести двух 

рами композитных рёбер из разных моделей. Эту 
структурных моделей, необходимо вершинам первой 

площадь с противоположным знаком можно исполь-
доли сопоставить вершины второй доли так, чтобы 

зовать как меру схожести между рёбрами: чем боль-
было образовано наибольшее возможное количество 

ше площадь, тем больше отличаются данные рёбра. 
пар. Из всех таких распределений по парам необхо-

Помимо площади, на оценку степени схожести 
димо выбрать разбиение, при котором сумма степе-

должно влиять расстояние между соответствующими 
ней схожести будет максимальной. Такая задача бу-

точками композитных рёбер – чем дальше находятся 
дет равнозначна задаче поиска максимального паро-

эти точки, тем меньше похожи соответствующие 
сочетания минимального веса в двудольном графе 

композитные рёбра. 
[14] при условии, что ребро такого графа будет иметь 

Для оценки степени схожести двух отрезков ком-
вес, равный площади между соответствующими ком-

позитных рёбер можно воспользоваться следующей 
позитными рёбрами. 

моделью. Пусть первый отрезок задан двумя своими 
Такая задача может быть сведена к задаче поиска 

концами (xa, ya) и (xb, yb), а второй – концами (xc, yc) и 
максимального потока наименьшей стоимости в сети, 

(xd, yd). Представим, что вдоль каждого из отрезков 
полученной из исходного двудольного графа путём 

движется некоторый объект. В некоторый момент 
добавления истока, соединённого со всеми вершина-

времени t объект на первом отрезке будет находиться 
ми первой доли, и стока, соединённого со всеми вер-

в точке (x1, y1), на втором – в точке (x2, y2). Положе- шинами второй доли. Задача поиска такого потока 
ния объектов описываются системами (1): 

может быть решена с использованием алгоритма уве-
x1 = xa + (xb − xa ) ⋅ t , x2 = xc + (xd − xc ) ⋅ t , личивающих путей [15]. 
   (1) 
y1 = ya + (yb − ya ) ⋅ t , y2 = yc + (yd − yc ) ⋅ t . Для нахождения максимального потока наимень-

шей стоимости в сети G` необходимо выполнить сле-
Квадрат расстояния между ними может быть вы-

дующие шаги: 
числен с помощью формулы (2): 

Компьютерная оптика, 2017, том 41, №1 73 



Алгоритмы распознавания рукописных символов на основе построения структурных моделей  Хаустов П.А. 

1. Предварительно подготовим граф G`, добавив для Тем не менее, обнаружение различий структурных 
каждого ребра обратное ребро с нулевой пропуск- моделей существенно зависит от выбора набора ко-
ной способностью и стоимостью, равной стоимо- манд, которые будут выполнены в ходе теста на схо-
сти исходного ребра с противоположным знаком. жесть. Зачастую такой набор формируется случайным 

2. Используя в качестве весов рёбер их стоимости, образом. В таком случае существует вероятность вы-
найдём кратчайший путь от истока к стоку. брать нерепрезентативный набор операций, который 

3. Если не существует ни одного пути от истока к для отдельных пар структурных моделей символов 
стоку, алгоритм завершён, найденный к данной разных классов приведёт к схожей позиции итоговой 
итерации поток является максимальным потоком позиции объекта. Аналогично, неудачно выбранный 
минимальной стоимости. набор операций может для двух моделей символов од-

4. Пустим поток по найденному маршруту. Для это- ного класса привести к удалённым итоговым положе-
го рассмотрим все его рёбра. Определим то, про- ниям объектов. Таким образом, с некоторой вероятно-
пускная способность которого минимальна, обо- стью будет выбран набор операций, который приведёт 
значим её за f. Уменьшим пропускную способ- к неверной классификации структурной модели. 
ность всех рёбер найденного пути на f, одновре- Стоит отметить, что начальная позиция объекта 
менно увеличивая пропускную способность об- (xs, ys) тоже выбирается случайным образом, что уси-
ратных им рёбер на эту же величину. ливает вероятностный характер такого рода теста. 

5. Для обновлённой сети снова выполним шаг 2. Сам алгоритм классификации структурной модели 

Вычислительная сложность такого алгоритма на основе вероятностного теста может быть сформу-
3

O(V ·E), где V – количество вершин в сети, E – коли- лирован в виде следующей последовательности шагов: 
чество рёбер в ней, включая добавленные на первом 1. Случайным образом зададим некоторое начальное 
шаге алгоритма обратные рёбра. Такая оценка возни- положение (xs, ys). 

кает при использовании алгоритма Дейкстры для по- 2. Случайным образом зададим набор команд двух 

иска кратчайшего пути. Быстродействие алгоритма описанных типов. 
можно улучшить, используя для реализации алгорит- 3. Для структурной модели каждого из эталонных 

ма Дейкстры бинарную кучу. изображений выполним шаги с 4-го по 6-й. 

Для описания метода оценки степени схожести 4. Разместим объект в ключевой точке рассматри-

двух структурных моделей на основе вероятностного ваемой модели, которая наиболее близка к задан-

теста представим, что в некоторой точке структурной ному начальному положению (xs, ys). 

модели находится некоторый объект, который спосо- 5. Поочерёдно выполним все команды заданного на-
бен выполнять следующие операции: бора для рассматриваемой структурной модели. 

• 6. Запишем итоговое положение объекта для рас-
переместиться вдоль некоторого композитного 
ребра на расстояние d в направлении единич сматриваемой структурной модели. 

-
ного вектора 7. Рассмотрим одну из ранее не рассмотренных 

 v; 
структурных моделей, соответствующую изобра-

• переместиться к ближайшей ключевой точке. 
жению, которое необходимо классифицировать. 

Первая операция должна выполняться только в 8. Если нерассмотренных структурных моделей не 
том случае, если существует композитное ребро, на- осталось, то алгоритм завершен. 
правление которого отличается от заданного не более 9. Иначе для рассматриваемой модели выполним ша-
чем на определённую величину δ. Если таких рёбер ги с 4-го по 5-й и пометим её как рассмотренную. 
несколько, то выбирается композитное ребро, на- 10. Определим структурную модель, соответствую-
правление которого ближе всего к направлению, за- щую эталонному изображению, такую, что рас-
данному вектором v. Расстояние d, на которое необ- стояние между сохранённым для неё итоговым 
ходимо переместиться объекту, выбирается таким об- положением и итоговым положением для рас-
разом, чтобы оно было меньше самого короткого со- сматриваемой модели минимально. 
единяющего ребра. На практике эта величина состав- 11. Отнесём классифицируемое изображение к клас-
ляет порядка –2

 8×10  при условии, что описывающий су, соответствующему найденному эталонному 
квадрат для этого символа имеет единичную сторону. изображению. 

Один запуск теста заключается в размещении объ- 12. Перейдём к шагу 7. 
екта внутри каждой из структурных моделей в клю-
чевой точке, наиболее близкой к заданному началь- 7. Анализ результатов численных экспериментов 
ному положению (xs, ys), и последующем выполнении по распознаванию рукописных символов 
набора операций двух описанных ранее типов. После Для сравнения разработанных алгоритмов с суще-
того, как выполнение операций заканчивается, рас- ствующими аналогами было реализовано приложе-
стояние между объектами на первой и на второй ние, осуществляющее выделение структурных со-
структурных моделях и является мерой различия: чем ставляющих и последующее построение структурных 
дальше расположены объекты, тем меньше соответ- моделей на их основе. В разработанном приложении 
ствующие структурные модели похожи между собой. были реализованы три предложенных метода сравне-

ния структурных моделей. 

74 Компьютерная оптика, 2017, том 41, №1 



Алгоритмы распознавания рукописных символов на основе построения структурных моделей   Хаустов П.А. 

Исследование качества распознавания алгоритмов тания значительно превосходит по точности распо-
выполнялось на двух наборах данных: наборе симво- знавания рассматриваемые алгоритмы. 
лов из экзаменационных бланков ЕГЭ (13312 симво- Предположение о необходимости в использовании 
лов, 68 классов – латинские и кириллические буквы, а дополнительной операции устранения плоских оконча-
также арабские цифры) и общеизвестном наборе ру- ний было сделано на основе анализа результатов тести-
кописных цифр MNIST (70000 символов, 10 классов – рования предложенного алгоритма. Однако подробный 
арабские цифры). анализ каждой из построенных моделей используемых 

Важным преимуществом алгоритмов на основе наборов данных затруднителен, ведь единственный на-
структурных моделей является возможность качествен- дёжный способ оценки качества построенной структур-
ного распознавания образов при отсутствии большого ной модели – это оценка визуального сходства, которая 
количества эталонных изображений. Поэтому сравнение может быть произведена лишь человеком. Тем не менее, 
алгоритмов с использованием структурных моделей можно использовать оценку точности распознавания в 
(SMI – метод пересечений, SMM – метод нахождения качестве параметра, который косвенно отражает качест-
максимального паросочетания, SMT – вероятностный во построения структурных моделей. Сравнение точно-
тест) производилось с алгоритмом на основе растрового сти распознавания производилось для каждого из трёх 
варианта метода пересечений [16] (IM), а также класси- предложенных алгоритмов для количества эталонных 
фикаторами на основе машины опорных векторов [17] изображений E = 15 на наборе рукописных цифр MNIST 
(SVM) и вероятностной нейронной сети [18] (PNN). В [19] и подготовленном наборе символов из бланков, 
качестве вектора признаков в подходе на основе метода аналогичных бланкам ЕГЭ. 
опорных векторов используются гистограммы ориенти- Табл. 3. Точность распознавания предложенных 
рованных градиентов. В методе на основе вероятност- алгоритмов с использованием операции устранения 
ной нейронной сети в качестве вектора признаков ис- плоских окончаний и без нее на символах набора MNIST 
пользуется само бинарное изображение. Все алгоритмы 

 SMI SMM SMT 
настраивались и обучались с использованием лишь трёх 

  
(E =3), пяти   

 (E = 5) и семи   
 (E =7) эталонных изображе- С устранением 91,4 % 95,3 % 80,3 % 

ний для каждого класса. Результаты сравнения приве- Без устранения 74,3 % 82,6 % 63,9 % 
дены в табл. 1. Для каждого из методов при     

 E =3, E= 5 и 
  Табл. 4. Точность распознавания предложенных 

E = 7 был определён процент правильно классифициро-
алгоритмов с использованием операции устранения плоских 

ванных символов. окончаний и без нее на символах из бланков 
Табл. 1. Результаты сравнения качества распознавания 

 SMI SMM SMT 
на наборе символов из ЕГЭ 

С устранением 99,4 % 99,5 % 95,5 % 
E SMI SMM SMT IM SVM PNN 

Без устранения 82,1 % 86,9 % 74,7 % 
3 98,9 99,2 93,2 95,3 88,7 72,1 

5 99,3 99,4 94,4 96,1 89,2 74,8 Как можно заметить, для каждого из трёх алго-
7 99,3 99,5 95,1 96,2 90,0 75,7 ритмов точность распознавания существенно улуч-

шается вследствие применения операции устранения 
Как можно заметить, предложенные алгоритмы плоских окончаний. 

имеют более высокую точность распознавания, чем Еще одним критерием, по которому можно оце-
общеизвестные методы классификации, рассчитан- нить полезность операции устранения плоских окон-
ные на наличие большего количества эталонных изо- чаний, является соотношение количества пикселей 
бражений. Сравнительно высокий процент верно рас- скелетизированного изображения до и после приме-
познанных графических представлений объясняется нения данной операции. Для удобства восприятия та-
намерением исполнителей начертания соответство- кого рода информации человеком изменение количе-
вать приведённым образцам. ства пикселей следует измерять в процентах. 

Для базы рукописных цифр MNIST общий уро- Было выделено семь наиболее значимых интерва-
вень качества распознавания несколько ниже. лов изменения количества пикселей: 

Табл. 2. Результаты сравнения качества распознавания • два интервала уменьшения количества пиксе-
на наборе символов набора MNIST лей: – (5%; ∞), – (0%; 5%]; 

E SMI SMM SMT IM SVM PNN • один интервал неизменности количества пик-
селей: {0%}; 

3 89,1 93,2 78,1 87,4 83,8 70,9 
• четыре интервала увеличения количества пик-

5 90,8 95,1 79,4 88,7 85,5 73,2 
селей: + (0%; 5%], + (5%; 15%], + (15%; 25%], + (25%; ∞). 

7 91,2 95,1 80,0 88,9 87,0 74,2 
Табл. 5. Изменение количества чёрных пикселей 

Это объясняется большим разнообразием почер- при использовании операции устранения плоских окончаний 

ков и вариаций начертания одних и тех же символов.  -(5; ∞) -(0;5] +{0} +(0; 5] +(5; 15] +(15; 25] +(25; ∞) 

По этой же причине на этом наборе вероятностный MNIST 0,12% 1,94% 60,63% 23,07% 7,60% 5,42% 1,22% 
Бланки 0,27% 2,39% 50,52% 38,12% 4,52% 3,29% 0,89% 

тест оказался недостаточно эффективен, в то время 
как подход с нахождением максимального паросоче-

Компьютерная оптика, 2017, том 41, №1 75 



Алгоритмы распознавания рукописных символов на основе построения структурных моделей  Хаустов П.А. 

Как можно заметить, достаточно редко использо- корректной работы без большого количества эталон-
вание такого рода операции приводит к уменьшению ных изображений для каждого из классов. 
количества пикселей бинарного изображения в ре- Основные результаты исследования, описанного в 
зультате скелетизации. Как правило, если такое статье: 
уменьшение происходит, то оно составляет не более − разработан оригинальный подход к скелетиза-
5 % от исходного количества пикселей. В свою оче- ции бинарного изображения на основе совместного 
редь, увеличение количества пикселей, как правило, использования алгоритмов скелетизации Зонга–Суня 
соответствует устранению эффекта чрезмерной ске- и Ву–Цая, а также операции предварительной обра-
летизации – удаления пикселей, которое приводит к ботки с целью устранения плоских окончаний исход-
нарушению топологии символа. Как видно, примерно ного начертания; 
в одном проценте случаев сохраняется более 25 % − разработан оригинальный подход к извлече-
пикселей. На практике такое существенное увеличе- нию структурных составляющих на скелетизирован-
ние количества пикселей после скелетизации всегда ном бинарном изображении на основе выделения 
соответствует сохранению какого-либо структурного ключевых точек, изгибов, соединяющих и композит-
элемента топологии символа. ных рёбер; 

Результаты проведённых экспериментов позволя- − предложены три метода оценки степени схо-
ют сделать выводы о целесообразности применения жести структурных моделей двух символов: метод на 
операции устранения плоских окончаний элементов основе поиска максимального паросочетания мини-
на бинарном изображении, однако необходимо ис- мальной стоимости, подход на основе метода пересе-
следовать и необходимость в использовании алго- чений и алгоритм вероятностного тестирования на 
ритма скелетизации Ву–Цая для устранения недоске- схожесть. 
летизированных участков результатов работы алго- Было установлено, что в условиях малого количе-
ритма Зонга–Суня. Оценить такую необходимость в ства эталонных изображений разработанные алго-
терминах точных значений существенно проще. Ко- ритмы обеспечивают достаточно высокий процент 
личество пикселей, удалённых в ходе работы алго- верно классифицированных изображений рукопис-
ритма Ву–Цая, соответствует количеству пикселей, ных символов. Наиболее высокое качество классифи-
которые должны быть удалены алгоритмом Зонга– кации достигается при использовании метода на ос-
Суня, но были пропущены. нове поиска максимального паросочетания наимень-
Табл. 6. Распределение изображений используемых наборов шей стоимости. 

по количеству пропущенных пикселей Оценка качества распознавания на наборе руко-

 0 1 2-3 4-7 8-15 16-∞ писных цифр MNIST в среднем ниже, чем оценка тех 
же самых методов на наборе символов из бланков 

MNIST 73,67 % 11,92 % 9,91 % 3,27 % 1,17 % 0,06 % 
ЕГЭ. Это обусловлено большей вариативностью 

Бланки 66,78 % 16,02 % 9,92 % 4,58 % 2,56 % 0,14 % форм начертания в наборе MNIST. 
Как видно из табл. 6, дополнительная обработка Стоит отметить, что предложенный подход на ос-

алгоритмом Ву–Цая необходима примерно четверти нове построения структурных моделей требует вы-
изображений набора MNIST и трети изображений на- полнения сравнений структурной модели классифи-
бора из бланков, аналогичных бланкам ЕГЭ. На гра- цируемого изображения с каждой из структурных 
фическом представлении результатов экспериментов моделей эталонных изображений, что приводит к 
заметно, что для большинства изображений количе- низкой эффективности алгоритма при большом коли-
ство пропущенных пикселей, которые необходимо честве эталонных изображений. Кроме того, большое 
удалить, находится в диапазоне от 0 до 7. Крайне количество эталонных изображений позволяет каче-
редко возникает необходимость в удалении большего ственно обучить признаковые классификаторы, что 
числа пикселей. избавляет от необходимости использовать методы на 

Полученные результаты позволяют сделать вывод основе выделения структурных составляющих. 
о необходимости использования для существенной Была экспериментально подтверждена эффектив-
части изображений обработки алгоритмом Ву–Цая с ность предложенного подхода к скелетизации бинар-
целью устранения пикселей, которые образуют об- ного представления рукописного символа. В ходе ис-

следования было установлено, что примерно в 25 
ласти на бинарном изображении, являющиеся причи- % 
ной неоднозначности при выборе порядка обхода случаев алгоритм Зонга–Суня оставляет не до конца 
изображения алгоритмом Ли. скелетизированные участки изображения, утоньше-

ние которых может быть выполнено с помощью ал-
Заключение горитма Ву–Цая, который, в свою очередь, ни разу в 

Статья посвящена разработке оригинального ал- ходе проведённых экспериментов, не оставил ни од-
горитма построения структурной модели рукописно- ного такого участка. Целесообразность использова-
го символа по его изображению и последующему ис- ния операции удаления плоских окончаний графиче-
пользованию этой модели для решения задачи распо- ского представления символа подтверждается суще-
знавания этого символа. Существенным преимущест- ственным увеличением количества пикселей итогово-
вом такого рода алгоритмов является возможность 

76 Компьютерная оптика, 2017, том 41, №1 



Алгоритмы распознавания рукописных символов на основе построения структурных моделей   Хаустов П.А. 

го скелета (на 5 % или более) в результате её приме- 9. Otsu, N. A Threshold Selection Method From Gray-level Histo-
нения примерно в 15 % рассмотренных случаев. grams. / N. Otsu // IEEE Transactions on Systems, Man, and Cy-

bernetics. – 1979. – Vol. SMC-9(1). – P. 62-66. 
Литература 10. Widiarti, A.R. Comparing Hilditch, Rosenfeld, Zhang-

Suen, and Nagendraprasad-Wang-Gupta Thinning / 
1. Mori, Sh. Historical review of OCR research and devel-

A.R. Widiarti // International Journal of Computer, Electri-
opment / Sh. Mori, Ch.Y. Suen, K. Yamamoto // Proceed-

cal, Automation, Control and Information Engineering – 
ings of the IEEE. – 1992. – Vol. 80, Issue 7. – P. 1029-

2011 – Vol. 5(6). – P. 20-24. 
1058. – DOI: 10.1109/5.156468. 

11. Zhang, T.Y. A Fast Parallel Algorithm for Thinning Digi-
2. Heliński, M. Report on the comparison of Tesseract and AB-

tal Patterns / T.Y. Zhang, C.Y. Suen // Communications of 
BYY FineReader OCR engines. Technical report / M. Heliński, 

the ACM. – 1984. – Vol. 27, Issue 3. – P. 236-239. – DOI: 
M. Kmieciak, T. Parkoła. – Poznañ, Poland: Poznañ Super-

10.1145/357994.358023. 
computing and Networking Center, 2012. – 24 p. 

12. Wu, R.-Y. A new one-pass parallel thinning algorithm for 
3. Спицын, В.Г. Применение вейвлет-преобразования 

binary images / R.-Y. Wu, W.-H. Tsai // Pattern Recogni-
Хаара, метода главных компонент и нейронных сетей 

tion Letters. – 1992. – Vol. 13, Issue 10. – P. 715-723. – 
для оптического распознавания символов на изображе-

DOI: 10.1016/0167-8655(92)90101-5. 
ниях в присутствии импульсного шума / В.Г. Спицын, 

13. Lee, C.Y. An Algorithm for Path Connections and Its Ap-
Ю.А. Болотова, Н.Х. Фан, Т.Т.Ч. Буй // Компьютерная 

plications. / C.Y. Lee // IRE Transactions on Electronic 
оптика. – 2016. – Т. 40, № 2. – C. 249-257. – DOI: 

Computers. – 1961. – Vol. EC-10, Issue 3. – P. 346-365. – 
10.18287/2412-6179-2016-40-2-249-257. 

DOI: 10.1109/TEC.1961.5219222. 
4. Breuel, T.M. High-performance ocr for printed english and 

14. Градштейн, И.С. Таблицы интегралов, сумм, рядов и  
fraktur using LSTM networks / T.M. Breuel, A. UlHasan, 

произведений / И.С. Градштейн, И.М. Рыжик. – 4-е изд. 
M.Al Azawi, F. Shafait // Proceedings of 12th International 

– М.: Наука, 1963 – 1108 с. 
Conference on Document Analysis and Recognition. – 

15. Кристофидес, Н. Теория графов. Алгоритмический подход / 
2013. – P. 683-687. – DOI: 10.1109/ICDAR.2013.140. 

Н. Кристофидес. – Пер. с англ. – М.: Мир, 1978. – 432 с. 
5. Jaderberg, M. Reading text in the wild with convolutional 

16. Хаустов, П.А. Генетический алгоритм поиска множест-
neural networks / M. Jaderberg, K. Simonyan, A. Vedaldi, 

ва кривых для оптического распознавания символов с 
A. Zisserman // International Journal of Computer Vision. – 

использованием метода пересечений / П.А. Хаустов, 
2016. – Vol. 116, Issue 1. – P. 1-20. - DOI: 10.1007/s11263-

В.Г. Спицын, Е.И. Максимова // Современные пробле-
015-0823-z. 

мы науки и образования. – 2014. – № 6. 
6. Wang, T. End-to-end text recognition with convolutional 

17. Vapnik, V.N. Support Vector Networks / V. Vapnik, 
neural networks / T. Wang, D.J. Wu, A. Coates, A.Y. Ng // 

C. Cortes // Machine Learning. – 1995. – № 20(3). – P. 273-
Proceedings of the 21st International Conference on Pattern 

297. - DOI: 10.1023/A:1022627411411. 
Recognition. – 2012. – P. 3304-3308. 

18. Хаустов, П.А. Разработка системы оптического распо-
7. Lotfi, M. Combining wavelet transforms and neural net-

знавания символов на основе совместного применения 
works for image classification / M. Lotfi, A. Solimani, 

вероятностной нейронной сети и вейвлет-
A. Dargazany, H. Afzal, M. Bandarabadi // 41st Southeasten 

преобразования / П.А. Хаустов, Д.С. Григорьев, 
Symposium on System Theory, Tullahoma, TN, USA. – 

В.Г. Спицын // Известия Томского политехнического 
2009. – P. 44-48. – DOI: 10.1109/SSST.2009.4806819. 

университета. - 2013 – Т. 323, № 5. – C. 101-105. 
8. Wang, P.S.P. An improved structural approach for auto-

19. LeCun, Y. Gradient-Based Learning Applied to Document 
mated recognition of handprinted characters / P.S.P. Wang, 

Recognition / Y. LeCun, L. Bottou, Y. Bengio, P. Haffner // 
A. Gupta // International Journal of Pattern Recognition and 

Proceedings of the IEEE. – 1998. – Vol. 86, Issue 11. – 
Artificial Intelligence. – 1991. – Vol. 05, Issue 01n02. – 

P. 2278-2324. – DOI: 10.1109/5.726791. 
P. 97-121. – DOI: 10.1142/S0218001491000089. 

 

 

Сведения об авторе 

Хаустов Павел Александрович, 1990 года рождения, в 2013 году получил степень магистра по направле-
нию «Информатика и вычислительная техника» на кафедре вычислительной техники Национального исследо-
вательского Томского политехнического университета. С 2013 г. по 2016 г. являлся аспирантом этой кафедры. 
Область научных интересов: алгоритмы теории графов, алгоритмы компьютерной геометрии, обработка графи-
ческих изображений, программирование, разработка web-приложений. E-mail: exceibot@tpu.ru .  
 

 

ГРНТИ 28.23.15. 
Поступила в редакцию 3 июня 2016 г. Окончательный вариант – 22 декабря 2016 г. 

 

 

ALGORITHMS FOR HANDWRITTEN CHARACTER RECOGNITION  
BASED ON CONSTRUCTING STRUCTURAL MODELS 

P.A. Khaustov 1 
1 Tomsk Polytechnic University, Tomsk, Russia 

Abstract  

The article is devoted to the development of algorithms for handwritten character recognition based 
on constructing structural models. These algorithms do not require a large number of reference images 

Компьютерная оптика, 2017, том 41, №1 77 



Алгоритмы распознавания рукописных символов на основе построения структурных моделей  Хаустов П.А. 

for the correct functioning. Also, an approach to a thinning of the binary character representation based 
on the joint use of Zhang-Suen and Wu-Tsai algorithms has been proposed. The effectiveness of the 
proposed approach is confirmed by the results of experiments. 

The article includes a detailed description of all steps of the algorithm for constructing struc-
tural models.  Results of the proposed algorithm's verification are provided, as well as their com-
parison with other character recognition algorithms. Algorithms that can operate under a limited 
number of reference images were used for the comparison. 

Keywords: character recognition, structural components, structural models, computer vision, 
skeletonization, binarization. 

Citation: Khaustov PA. Algorithms for handwritten character recognition based on constructing 
structural models. Computer Optics 2017; 41(1): 67-78. DOI: 10.18287/2412-6179-2017-41-1-67-78. 

References [10] Widiarti AR. Comparing Hilditch, Rosenfeld, Zhang-
Suen, and Nagendraprasad-Wang-Gupta Thinning. Inter-

[1] Mori Sh, Suen ChY, Yamamoto K. Historical review of 
OCR research and development. Proc IEEE 1992; 80(7): national Journal of Computer, Electrical, Automation, 

1029-1058. DOI: 10.1109/5.156468 Control and Information Engineering 2011; 5(6): 20-24. 

[2] Heliński M, Kmieciak M, Parkoła T. Report on the com- [11] Zhang TY, Suen CY. A Fast Parallel Algorithm for Thin-
ning Digital Patterns. Communications of the ACM 1984; 

parison of Tesseract and ABBYY FineReader OCR en-
gines. Technical report. Poznañ, Poland: Poznañ Super- 27(3): 236-239. DOI: 10.1145/357994.358023. 

computing and Networking Center; 2012. [12] Wu R-Y, Tsai W-H. A new one-pass parallel thinning algo-
rithm for binary images. Pattern Recognition Letters 1992; 

[3] Spitsyn VG, Bolotova YuA, Phan NH, Bui TTT. Using a 
Haar wavelet transform, principal component analysis and 13(10): 715-723. DOI: 10.1016/0167-8655(92)90101-5. 

neural networks for OCR in the presence of impulse noise. [13] Lee CY. An Algorithm for Path Connections and Its Ap-
plications. IRE Transactions on Electronic Computers 

Computer Optics 2016; 40(2): 249-257. DOI: 
10.18287/2412-6179-2016-40-2-249-257. 1961; EC-10(3): 346-365. DOI: 

[4] Breuel TM, Ul-Hasan A, Azawi MAl, Shafait F. High- 10.1109/TEC.1961.5219222. 

Performance OCR for Printed English and Fraktur using [14] Gradshtein IS, Ryzhik IM. Tables of integrals, series and 
products (Corrected and enlarged edition). London: Aca-

LSTM Networks. Proc 12th International Conference on 
Document Analysis and Recognition 2013: 683-687. DOI: demic Press, Inc.; 1980. ISBN: 978-0-12-294760-5. 

10.1109/ICDAR.2013.140. [15] Christofides N. Graph Theory. An Algorithmic Approach. 
Orlando, FL, USA: Academic Press, Inc.; 1975. ISBN: 

[5] Jaderberg M, Simonyan K, Vedaldi A, Zisserman A. Read-
ing Text in the Wild with Convolutional Neural Networks. 978-0121743505. 

International Journal of Computer Vision 2016; 116(1): 1- [16] Khaustov PA, Spitsyn VG, Maksimova EI. Genetic algo-
rithm of set of lines searching for optical character recogni-

20. DOI: 10.1007/s11263-015-0823-z. 
[6] Wang T, Wu DJ, Coates A, Ng AY. End-to-End Text Rec- tion based on the method of intersections [In Russian]. 

ognition with Convolutional Neural Networks. Proc ICRP Modern problems of science and education 2014; 6. 

21 2012: 3304-3308. [17] Vapnik VN, Cortes C. Support Vector Networks. Machine 
Learning 1995; 20(3): 273-297. DOI: 

[7] Lotfi M, Solimani A, Dargazany A, Afzal H, Bandarabadi 
M. Combining wavelet transforms and neural networks for 10.1023/A:1022627411411. 

image classification. SSST 2009: 44-48. DOI: [18] Khaustov PA, Grigoryev DS, Spitsyn VG. The develop-
ment of optical character recognition approach on the basis 

10.1109/SSST.2009.4806819. 
[8] Wang PSP, Gupta A. An improved structural approach for auto- of joint application of probabilistic neural network and 

mated recognition of handprinted characters. Int J Patt Recog wavelet transform [In Russian]. Bulletin of the Tomsk 
Polytechnic University 2013; 323(5): 101-105. 

Artif Intell 1991; 05(01n02): 97-121. DOI: 
10.1142/S0218001491000089. [19] LeCun Y, Bottou L, Bengio Y, Haffner P. Gradient based 

[9] Otsu NA. Threshold Selection Method From Gray-level learning applied to document recognition. Proceedings of 

Histograms. IEEE Trans Sys, Man, Cybern 1979; SMC- the IEEE 1998; 86(11): 2278-2324. DOI: 
10.1109/5.726791. 

9(1): 62-66. 
 

 

Author’s information  

Pavel Aleksandrovich Khaustov (b. 1990) received a master’s degree in “Computer Science and Technology” at 
Tomsk Polytechnic University in 2013. Studied as a postgraduate student of the Computer Engineering department in 
Tomsk Polytechnic University from 2013 to 2016. Research interests are graph theory algorithms, computer geometry 
algorithms, image processing, programming, web-development. E-mail: exceibot@tpu.ru . 
 

 

Received June 3, 2016. The final version – December 22, 2016.  
 

 

78 Компьютерная оптика, 2017, том 41, №1