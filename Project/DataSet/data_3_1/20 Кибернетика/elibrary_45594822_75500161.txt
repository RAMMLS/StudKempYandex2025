___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________
УДК 004.932 DOI 10.15622/ia.2021.20.2.6

 
М.В. БОБЫРЬ, А.Е. АРХИПОВ, А.С. ЯКУШЕВ 

РАСПОЗНАВАНИЕ ОТТЕНКА ЦВЕТОВОЙ МЕТКИ НА 
ОСНОВЕ НЕЧЁТКОЙ КЛАСТЕРИЗАЦИИ 

Бобырь М.В., Архипов А.Е., Якушев А.С. Распознавание оттенка цветовой метки на ос-
нове нечёткой кластеризации. 

Аннотация. Рассматривается задача определения текущего положения 
пневматических исполнительных механизмов. Решение поставленной задачи достигается 
введением системы технического зрения, позволяющей на основе метода нечеткой 
кластеризации определять в режиме реального времени координаты центра цветовой 
метки, установленной на исполнительных механизмах мехатронного комплекса и 
позицию её смещения. Целью работы является повышение точности распознавания 
цветовой метки для прецизионного позиционирования исполнительных механизмов 
мехатронного комплекса и повышение быстродействия дефаззификатора за счет 
распараллеливания вычислительных процедур в нем. 

Интеллектуализация процесса распознавания цветового оттенка производится на 
основе нечёткой кластеризации. Сначала строится нечеткая модель, позволяющая в 
зависимости от входных параметров интенсивности цвета по каждому из каналов RGB и 
составляющей цветового тона выделять на изображении заданный цвет. Затем 
осуществляется бинаризация цветного изображения и подавление шумов. 

При моделировании нечеткой системы авторами были применены две модели 
дефаззификации: на основе метода центра тяжести и на основе отношения площадей. 
Модель, реализованная на основе метода отношения площадей, позволяет убрать зоны 
нечувствительности, которые присутствуют в модели центра тяжести. Метод на основе 
отношения площадей определяет принадлежность пикселей к заданному цветовому тону, 
и после этого расположение цветовой метки в кадре изображения определяется на основе 
определения центра тяжести распознанных пикселей цветовой метки. В последующем, 
при перемещении исполнительного механизма в продольном направлении, система 
технического зрения определяет расположение цветовой метки в новом кадре. Разность 
положений цветовой метки на исходном и текущем изображениях позволяет определить 
расстояние смещения цветовой метки. 

С целью исследования влияния шума на точность распознавания были использованы 
цифровые фильтры: медианный, Гауссовский, матричный и биноминальный. Анализ 
точности данных фильтров показал, что лучший результат получен при использовании 
Гауссовского фильтра. Оценка производилась на основе показателя сигнал-шум. Реализация 
математической модели распознавания цветовой метки выполнена в среде Matlab/Simulink. 
Экспериментальные исследования работоспособности системы технического зрения с 
предложенной нечёткой моделью кластеризации проводились на пневматическом 
мехатронном комплексе. В ходе экспериментов на корпусе цилиндра закреплялась цветовая 
метка, после чего цилиндр перемещался по направляющим в продольном направлении. В 
процессе перемещения выполнялась видеофиксация и распознавание изображений. Для 
определения точности распознавания цветовой метки рассчитаны коэффициенты PSNR и 
RMSE, которые составили 38,21 и 3,14 соответственно. Точность определения смещения на 
основе разработанной модели распознавания цветовых меток достигла 99,7 %. 
Быстродействие дефаззификатора увеличилось до 590 нс. 

Ключевые слова: нечёткая кластеризация, распознавание цветового оттенка, 
нечёткая логика, RMSE, PSNR, MAPE 

 

1. Введение. В настоящие время в условиях развития вычисли-
тельных устройств и современных средств автоматизации особая роль 

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 407
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________
в гибких автоматизированных производствах (ГАП) уделяется вопро-
сам определения текущего местоположения исполнительных механиз-
мов мехатронных комплексов. Как правило, в современных мехатрон-
ных комплексах для определения их местоположения используются 
герконовые датчики, которые передают показания управляющему кон-
троллеру. Контроллер, обрабатывая полученные данные, фиксирует ме-
стоположения исполнительных механизмов. При таком построении 
ГАП требуется большое количество следящих датчиков, но главным не-
достатком подобных систем управления является то, что они позволяют 
фиксировать местоположение исполнительных механизмов только в 
тех местах, где они установлены, так как данные датчики обладают 
инерционностью. Герконовый датчик представляет собой герконовый 
контакт, который срабатывает от воздействия магнита. Магнит в пнев-
матических системах закрепляется внутри исполнительных механизмов 
(такие как пневматические цилиндры). Герконовые датчики имеют ши-
рокий пространственный диапазон срабатывания, т.е. геркон сработает 
при приближении магнита на определенном расстоянии и будет замкну-
тым продолжительное время при перемещении цилиндра. Как результат 
- цилиндр может проехать нужное нам положение, поэтому точность 
позиционирования за счет герконов не велика. 

Для повышения быстродействия подобных систем в ГАП ис-
пользуются системы технического зрения (СТЗ). Сфера применения 
СТЗ широкая, например, они позволяют распознавать речь человека 
и преобразовывать её в управляющие сигналы [1]. Требования, предъ-
являемые к СТЗ, установленным в робототехнических комплексах, 
детально рассмотрены в работах [2, 3, 4]. В статье [5] предлагается 
метод распознавания фрагментированных изображений листьев, ос-
нованный на сумме признаков и объединении нечетких цветовых и 
краевых текстурных гистограмм. Для распознавания используется 
цветовая и фактурная техника, причем используются все три цвето-
вые характеристики: тон (H – hue), насыщенность (S – saturation) и 
значение (V – value). Задача распознавания и выделения цветовых от-
тенков в СТЗ актуальна и рассмотрена в следующих работах [6, 7, 8].  
Активно ведутся научные исследования, связанные с повышением 
точности распознавания изображений, некоторые алгоритмы рас-
смотрены в работах [9-12]. Их использование оправдано наличием 
шумов в получаемых изображениях [13-15]. 

Одним из возможных решений задачи распознавания цветовых 
меток является использование дескрипторов FAST или FAST-
ER [16, 17]. Указанные методы используют оригинальные меры на 

408 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________
основе определения суммы абсолютных разностей между централь-
ной точкой и точками окружности. Это приводит к тому, что угловые 
точки распознаваемых прямоугольных меток будут неопределенны, 
поэтому их контур будет трудно выделить. Также при реализации де-
скрипторов FAST или FAST-ER в вычислениях используются опера-
ции, связанные с расчетом логарифмов и построением бинарных де-
ревьев. Поэтому скорость вычисления в подобных алгоритмах состав-
ляет не менее нескольких миллисекунд. Для повышения быстродей-
ствия необходимо использовать многопостовую и конвейерную реа-
лизацию вычислений, например, использовать программируемые ло-
гические интегральные схемы (ПЛИС). Следует отметить, что реали-
зация логарифмических операций на ПЛИС затруднительна и будет 
выполняться более чем за несколько сотен тактовых импульсов гене-
ратора. 

При построении нечетких систем особую роль играет выбор 
метода дефаззификации (например, метод центра тяжести; среднего, 
первого или последнего максимумов; центра сумм; высот).  К недо-
статкам данных методов относят: влияние результата дефаззифика-
ции только на нечеткое множество с наибольшей степенью актива-
ции; сужение интервала дефаззификации; нечувствительность метода 
при активации только одной выходной функции принадлежно-
сти [18]. Устранение данных проблем возможно за счет применения 
модели отношения площадей [19, 20]. 

Нами была предпринята попытка использовать для распознава-
ния цветовых меток нечеткую логику, позволяющую исключать в своей 
структуре сложные математические вычисления. С этой целью нами 
был реализован на ПЛИС дефаззификатор, позволяющий реализовать 
нечеткий вывод за 59 тактовых импульсов генератора. В результате 
время его работы составило 590 нс [21].  

При обработке изображений неизбежно возникают шумы, ис-
кажающие обрабатываемое и исходное изображения. Для компенса-
ции шумов используются различные фильтры. В нашей работе мы ис-
следовали четыре цифровых фильтра для фильтрации шумов на ви-
деоизображениях и оценивали их на основе коэффициентов MAPE и 
Accuracy. Также был разработан экспериментальный вычислитель-
ный комплекс, который позволил на основе предложенной модели не-
четкой кластеризации цветов определять реальные координаты ме-
стоположения исполнительных механизмов мехатронного комплекса 
в режиме реального времени. 

2. Постановка задачи. Поставим задачу повышения точности 
исполнительных механизмов мехатронного комплекса на основе 

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 409
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________
оценки показателей MAPE (Mean Absolute Percentage Error – средняя 
абсолютная ошибка в процентах) и Accuracy, рассчитываемых по 
формулам:  

 

1 n Li  Lset
MAPE   i  min,  (1) 

n i1 Li

 
1MAPE 100100%,  (2) 

 
где Li – расстояние смещения цветовой метки, определенное СТЗ; Lseti – 
фактическое расстояние смещение цветовой метки; n – число измерений 
в эксперименте; i – номер измерения (i = 1 … n). 

Также поставим задачу повышения точности распознавания 
цветовой метки на основе оценивания коэффициентов PSNR (Peak 
Signal-To-Noise Ratio – пикового отношения сигнал/шум) и 
RMSE (Root Mean Square Error – корень из среднеквадратичной 
ошибки), вычисляемые по формулам: 

 
MAX

PSNR   
20log RMS  max,  (3) 

 E 
 

1 h w
RMSE   I  I 2

 
hw Fij Fsetij min ,  (4) 

i1 j1

 
где MAX – максимальное значение пикселя из значений RGB (для 8-ми 
битного изображения MAX = 255); w – ширина кадра в пикселях; h – 
высота кадра в пикселях; IFij – значение бинаризированного пикселя по-
сле фильтрации c координатами i, j; IFsetij – эталонное значение бинари-
зированного пикселя c координатами i, j. 

Следует отметить, что с помощью формулы (3) определялось от-
ношение количества точек на эталонном изображении и количество то-
чек, которое определялось с помощью нашего метода. При этом источ-
ником шума является ПЗС (СМОS) матрица видеокамеры. 

При фильтрации изображения использовалась следующая фор-
мула: 

 

410 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________

 3 3 MAX 1
1, если   

  IB m
l p l ,p T

I ,
F  l1 p1 k ,  (5) 


0, иначе

где IF – значение бинаризированного пикселя после фильтрации; IBl,p 
– значение бинаризированного пикселя; l, p – размеры окна фильтра-
ции (3х3); k – коэффициент, позволяющий привести значения к диа-
пазону от 0 до 1; T – пороговое значение; ml,p – матричные коэффи-
циенты фильтров; 256 – коэффициент, использующийся для перевода 
вещественных чисел диапазона от 0 до 1 в целочисленные значения в 
диапазоне от 0 до 256. 

Числовые значения матричных коэффициентов фильтров све-
дены в таблицу 1. 

 
Таблица 1. Значения матричных коэффициентов фильтров ml,p 

Тип 
филь- Логический Линейный 

тра 
Медианный Матричный Гауссовский Биноминальный

k 
1 16 6 2.6

Мат-
рич-
ные 1 1 1 1 2 1  0.5 0.75 0.5  0.2 0.2 0.2

коэф- 
фици- 1 1 1  

2 4 2   
0.75 1 0.75   

0.2 1 0.2  
енты 1 1 1 1 2 1  0.5 0.75 0.5  0.2 0.2 0.2
филь-

тра 
Порог T[2, 8] T[60, 120] T[60, 120] T[110, 170]

 

Следует уточнить, что для логического медианного фильтра умно-
жение на 256 не производится. В остальных трех фильтрах параметр k при-
меняется для нормализации значений, полученных после фильтрации в 
один диапазон. Например, для Гауссовского фильтра k определяется сум-
мой коэффициентов матрицы, например, k=(40.5+40.75+1)=6. 

Также следует уточнить, что мы используем логический медианный 
фильтр, который не соответствует классическому определению, но это дей-
ствительно медианный фильтр, представленный в виде матрицы для уни-
фикации представления фильтра. В классическом медианном фильтре зна-
чения отсчетов внутри окна сортируются в порядке возрастания и в каче-
стве выхода фильтра берется значение, находящееся в середине списка. В 
нашем случае фильтрация применяется к бинарному изображению, где ис-
пользуется два логических значения «0» и «1». Поэтому в логическом ме-
дианном фильтре нет необходимости в сортировке – значение на выходе 

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 411
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________
фильтра зависит только от количества единичных значений в сетке разме-
ром 33. Более того, за счет варьирования порогового значения T суще-
ствует возможность выбирать в качестве значения фильтра не только сред-
ний элемент, но и предыдущий или последующий. 

3. Метод распознавания цветовой метки и вычисления её 
смещения. Рассмотрим математическую нечёткую MISO-модель кла-
стеризации распознавания цветового оттенка. Её входными парамет-
рами являются три основных цвета и значение тона R, G, B, H (красный, 
зеленый, синий, цветовой тон) [18, 19]. Выходная переменная – CS (цве-
товой оттенок до кластеризации, color shade). Для входных переменных 
выбраны функции принадлежности треугольного вида, а для выходной 
– синглотонной формы. Для распознавания цветового оттенка исполь-
зуются две модели: RGB и HSV. Конвертация из RGB выполняется по 
формуле, представленной в работе [19]. 

Обоснование выбора переменной H для нечеткой модели заключа-
ется в следующем. Если рассмотреть палитру цветов (например, с помо-
щью программы Paint), то для одного и того же диапазона величин цвето-
вого оттенка H видно, (например, для розового цвета) что цвет меняет от-
тенок от насыщенного розового до серого.  Также для одного и того же 
диапазона величин H яркость будет меняться в зависимости от освещенно-
сти времени суток (например, утром, днем и вечером уровень освещенно-
сти цветовой метки будет разным), такие же изменения будут происходить 
при наличии различных источников света).  Поэтому при использовании 
только 3-х основных цветов (RGB) экспериментальным путем мы устано-
вили, что возникает шум, который приводит к тому, что точность опреде-
ления цвета не превышает 60%. 

Распознавание цветового оттенка производится за шесть шагов. 
Шаг 1. Формирование функций принадлежности. 
Входная переменная R (0-256) разделена на три нечетких набора: 

[низкая (R1), средняя (R2), высокая (R3)] и R = [R1; R2; R3], выражается в 
векторной форме.  На рисунке 1а представлены функции принадлежно-
сти для переменной R. 

Пример получения функции принадлежности входного пара-
метра R рассчитывается по формуле (6): 

 

412 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________

0, R  0;

 R  0

, 0  R  64;
 R 64 0

1   
128R

, 64  R 128;
128 64

0, 128  R .
0, R  64;

 R  64

, 64  R 128;
 R 128 64

2   (6) 
 196R

, 128  R 196;
196128

0, 196  R .
0, R 128;

 R 128

, 128  R 196;
 R 196 128

3   
 256 R

, 196  R  256;
256 196

0, 256  R .

 
Входная переменная G (0-256) разделена на три нечетких 

набора: [низкая (G1), средняя (G2), высокая (G3)] и G = [G1; G2; G3], 
выражается в векторной форме.  На рисунке 1б представлены функ-
ции принадлежности для переменной G. Входная переменная B (0-
256) разделена на три нечетких набора: [низкая (B1), средняя (B2), вы-
сокая (B3)] и B = [B1; B2; B3], выражается в векторной форме.  На ри-
сунке 1в представлены функции принадлежности для переменной B. 
Входная переменная Н (0-360) разделена на три нечетких 
набора: [низкая (H1), средняя (H2), высокая (H3)] и H = [H1; H2; H3], 
выражается в векторной форме.  На рисунке 1г представлены функ-
ции принадлежности для переменной H. 

 

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 413
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________

а) б)

в) г)

д)
Рис. 1. Графики функций принадлежности для параметров: а) R, б) G, в) B, 

г) H, д) CS  
 
Выходная переменная CS (цветовой оттенок после кластериза-

ции) разделена на 25 нечетких наборов: [красный (CS1), красный (CS2), 
красный(CS3), оранжевый (CS4), оранжевый (CS5), жёлтый (CS6), жёлтый 
(CS7), зелёный (CS8), зелёный (CS9), голубой (CS10), голубой (CS11), синий 
(CS12), синий (CS13), синий (CS14), фиолетовый (CS15), фиолетовый (CS16), 
фиолетовый (CS17), розовый (CS18), розовый (CS19), розовый (CS20), розо-
вый (CS21), розовый (CS22), розовый (CS23), розовый (CS24), розовый 
(CS25)] и CS = [CS1; CS2; CS3; CS4; CS5; CS6; CS7; CS8; CS9; CS10; CS11; CS12; 
CS13; CS14; CS15; CS16; CS17; CS18; CS19; CS20; CS21; CS22; CS23; CS24; CS25], вы-
ражается в векторной форме. 

414 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________
Шаг 2. Синтез нечётких правил. Нечёткие правила зада-

ются в виде: 
 
If R is Ri, G is Gi, B is Bi, H is Hi, Then CS is CSi. 
 
В упрощенном виде правила представляются в форме Ri , Gi, Bi, Hi, 

→ CSi. Учитывая рекомендации [16], число нечетких правил для модели 
составило rk=34=81 (где r – количество функций принадлежности у нечет-
кой переменной, k – количество нечетких переменных). С учетом правила 
нечеткой композиции восемьдесят одно нечеткое правило сворачивается 
на двадцать пять уровней кластеризации (см. формулу 7): 

 
M1= (min (R1, G1, B1, H1)); 
M2= (min (R2, G1, B1, H1)); 
M3=max (min (R3, G1, B1, H1); min (R1, G2, B1, H1));
M4=max (min (R1, G1, B2, H1); min (R2, G2, B1, H1));
M5=max (min (R2, G1, B2, H1); min (R3, G2, B1, H1); min (R1, G3, B1, H1));
M6=max (min (R3, G1, B2, H1); min (R1, G2, B2, H1); min (R2, G3, B1, H1));
M7=max (min (R1, G1, B3, H1); min (R2, G2, B2, H1); min (R3, G3, B1, H1); min (R1, G1, B1, H2));
M8=max (min (R2, G1, B3, H1); min (R3, G2, B2, H1); min (R1, G3, B2, H1); min (R2, G1, B1, H2));
M9=max (min (R3, G1, B3, H1); min (R1, G2, B3, H1); min (R2, G3, B2, H2); 
 min (R3, G1, B1, H2); min (R1, G2, B1, H2)); 
M10=max (min (R2, G2, B3, H1); min (R3, G3, B2, H1); min (R1, G1, B2, H2); min (R2, G2, B1, H2)); 
M11=max (min (R3, G2, B3, H1); min (R1, G3, B3, H1); min (R2, G1, B2, H2); 
 min (R3, G2, B1, H2); min (R1, G3, B1, H2)); 
M12=max (min (R2, G3, B3, H1); min (R3, G1, B2, H2); min (R1, G2, B2, H2); min (R2, G3, B1, H2)); 
M13=max (min (R3, G3, B3, H1); min (R1, G1, B3, H2); min (R2, G2, B2, H2); 
 min (R3, G3, B1, H2); min (R1, G1, B1, H3)); 
M14=max (min (R2, G1, B3, H2); min (R3, G2, B2, H2); min (R1, G3, B2, H2); 
 min (R2, G1, B1, H3)); 
M15=max (min (R3, G1, B3, H2); min (R1, G2, B3, H2); min (R2, G3, B2, H2); 
 min (R3, G1, B1, H3); min (R1, G2, B1, H3)); 
M16=max (min (R2, G2, B3, H2); min (R3, G3, B2, H2); min (R1, G1, B2, H3); min (R2, G2, B1, H3)); 
M17=max (min (R3, G2, B3, H2); min (R1, G3, B3, H2); min (R2, G1, B2, H3); 
 min (R3, G2, B1, H3); min (R1, G3, B1, H3)); 
M18=max (min (R2, G3, B3, H2); min (R3, G1, B3, H3); min (R1, G2, B2, H3); 
 min (R2, G3, B1, H3)); 
M19=max (min (R3, G3, B3, H2); min (R1, G1, B3, H3); min (R2, G2, B2, H3); 
 min (R3, G3, B1, H3)) 
M20=max (min (R2, G1, B3, H3); min (R3, G2, B2, H3); min (R1, G3, B2, H3)); 
M21=max ((R3, G1, B3, H3); min (R1, G2, B3, H3); min (R2, G3, B2, H3)); 
M22=max (min (R2, G2, B3, H3); min (R3, G3, B2, H3)); 
M23=max (min (R3, G2, B3, H3); min (R1, G3, B3, H3)); 
M24= (min (R2, G3, B3, H3));  
M25= (min (R3, G3, B3, H3)). 

 
Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 415

ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________
Шаг 3. Вычисление чёткого значения цветового оттенка CS до 

кластеризации. Для решения этой задачи возможно использовать раз-
личные методы дефаззификации [23, 24, 2,]: 

– дефаззификатор на основе метода центра тяжести: 
 

25

Mi CSi

CS  i1 ;  
25 (7) 
Mi
i1

 
– дефаззификатор на основе метода отношения площадей [18, 19]: 
 

  25  
 M

CS   i      25   CS CS  если R 128
i1 25 1

 
   n  


CS  ,  (8) 

 25  
M i 
   CS CS  CS

i 1 25 1 1 , если R 128
 

   
 n  
 

 
где CSi – границы цветового оттенка до кластеризации согласно цвето-
вому спектру (Таблица 1, столбец «Граница»). 

Поясним вывод формулы (8). 
1. Определение общей площади функций принадлежности вы-

ходной переменной Sобщ. Используя выражение для расчета площади 
треугольника получим: 

h b
S 1

общ  n  ,  
2

 
где n – число термов выходной функции принадлежности (n = 25), h – 
высота функции принадлежности (h = 1); b1 – основание функции при-
надлежности (для треугольной функции принадлежности) или разность 
между границами соседних термов (для синглтонных функций принад-
лежности, см. рис. 1д). 

416 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________
CSi CS

Для нашего примера формула примет вид S  i
общ  n 1 .  

2
Пусть расстояние между границами одинаково, тогда b1  CSi CSi1  

nb
и S i

общ  .  
2

2. Расчет общей площади фигуры выходной переменной после 
усечения термов выходной функции принадлежности, то есть после ре-
ализации формулы (7): 

 
25 25

  M  CS CS  M b
25  M  CS CS    i i i1  i i

S   i i i 1
  

i1  i1
общ _ усеч  .  

i1  2  2 2
 
3. Вычисление отношения общей площади к площади усечен-

ной фигуры: 
 

25

Mi bi 25
i1 M

S  i

D  общ _ усеч  2  i1 .  
S nb
общ i n

2
 

4. Дефаззификация четкого значения по формуле: 
 

CS  D  CS25 CS1  CS1 .  
 
Окончательная формула для дефаззификации имеет вид  (8). 
При вычислении цветового оттенка по формуле (7) проявляются 

зоны нечувствительности нечеткой системы для выходной переменной 
CS, из-за чего выходная переменная не определяется во всем имею-
щемся для нее диапазоне. Данный недостаток отчетливо виден на ри-
сунке 6а. Во временном диапазоне от 20 до 25 график выходной пере-
менной в зоне розового оттенка уплотнен. Второй метод (формула 8.2) 
исправляет данный недостаток, что отчетливо видно на рисунке 6б. 

Шаг 4. Нечёткая кластеризация. Рассчитав на шаге 3 чет-
кое значение CS, получается числовое значение, принадлежащее диа-

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 417
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________
пазону выходной переменной. Для однозначного определения цвето-
вого оттенка (CSci) используется нечёткая кластеризация [18] с помо-
щью формулы (9): 
 

CSci  Если CSi  CSи CS  CSi1  ,то CSci , иначе CSi ,  (9) 
 

где i – текущая граница цветового оттенка, располагающаяся в диапа-
зоне от 1 до n.  

Границы цветовых оттенков после кластеризации представлены 
в таблице 2. 

 
Таблица 2. Границы цветового оттенка после кластеризации для красного, 
оранжевого, желтого, зеленого, голубого, синего, фиолетового, розового 

№ гра- Гра-
Тон Граница Тон № границы 

ницы ница 
красный CSс1 0 синий CSс14 1488 
красный CSс2 16 фиолетовый CSс15 1616 
красный CSс3 80 фиолетовый CSс16 1744 

оранжевый CSс4 208 фиолетовый CSс17 1872 
оранжевый CSс5 336 розовый CSс18 2000 

жёлтый CSс6 464 розовый CSс19 2128 
жёлтый CSс7 592 розовый CSс20 2256 
зелёный CSс8 720 розовый CSс21 2384 
зелёный CSс9 848 розовый CSс22 2512 
голубой CSс10 976 розовый CSс23 2576 
голубой CSс11 1104 розовый CSс24 2608 
синий CSс12 1232 розовый CSс25 2624 
синий CSс13 1360 красный CSс26 2700 

 
Примечание. С целью учета цикличности цветового от-

тенка для расчета красной метки, базу правил необходимо допол-
нить границей CSс26, при этом четкое значение границы необхо-
димо уточнить экспериментально. 

После определения цвета у метки на изображении возможно 
определить расстояние смещения цветовой метки относительно ее ис-
ходного кадра с помощью метода центра тяжести цветовой метки, опре-
деляющего центр цветовой метки. Для этого необходимо выполнить по-
следовательность из 4 шагов. 

418 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________
Шаг 1. Бинаризация кластеризованного изображения по фор-

муле (10): 
 

1, если CSci CS25 искомый цвет
IB  

 
 .  

ij (10) 
0, иначе

 
где i – координата бинаризированной точки по оси Y; j – координата 
бинаризированной точки по оси X. 

Шаг 2. Фильтрация бинаризованного изображения по одной из 
формул (5). 

Шаг 3. Вычисление центра тяжести цветовой метки: 
 

h

 j
если I 1, тогда X  j1

F ;  
ij 

(11) 
w

 i
если I  г i 1

F 1, то да Y   ,  
ij 

 
где X, Y – координаты центра цветовой метки;    – общее число би-

наризованных точек с логическим значением «1».  
Шаг 4. Вычисление расстояния смещения цветовой метки отно-

сительно исходного изображения (см. рис. 2): 
 

x w
L  real ,  (12) 

w

 
где wreal – действительная ширина кадра в сантиметрах. 

После выполнения последовательности вышеуказанных шагов 
определяется расстояние смещения цветовой метки относительно ис-
ходного изображения. 

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 419
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________

Исходное положение Текущее положение 
цветовой метки цветовой метки 

(Xi,Yi) (Xi+1,Yi+1) 

h X X 

Y Y 

Расстояние 

w 
 

Рис. 2. Определение расстояния смещения цветовой метки 
 

4. Имитационная модель устройства распознавания цвето-
вой метки и её смещения. Авторами произведено моделирование не-
четкой модели кластеризации цветовой метки в графической среде 
имитационного моделирования Matlab Simulink. На рисунке 3 пред-
ставлена имитационная модель, реализующая распознавание цвето-
вого оттенка. 

В блоке «Input» задаются диапазоны входных переменных: R, 
G, B – [0…256]; H – [0 … 360]. В блоках «Stepeni R», «Stepeni G», 
«Stepeni B», «Stepeni H» формируются функции принадлежности тре-
угольного вида (см. формула 6). Реализация данной операции пред-
ставлена на рисунке 4. 

Реализация блоков «Subsystem 2» и «Subsystem 3» отличается 
только тем, что на вход блока «Subsystem 2» поступают вершины тре-
угольника R2 (a2 – 64; a3 – 128; a4 – 196), а на вход блока «Subsystem 3» 
поступают вершины треугольника R3 (a3 – 128; a4 – 196; a5 – 256). Блоки 
«Stepeni G», «Stepeni B», «Stepeni H» реализуются аналогично блоку 
«Stepeni R», только на их вход подается текущее значение G, B, H и со-
ответствующие вершины треугольников. 

В объединённом блоке «Degree of truth and degree of activation» вы-
числяются степени истинности предпосылок нечетких правил и уровни не-
четких заключений. В блоке «Degree of activation» вычисляются 25 уровней 
заключений нечётких правил (M1 … M25) по формуле (7). В блоке 
«Defuzzy1_2» реализована формула (7). Реализация формулы (9) представ-
лена на рисунке 5, создается в блоке «Claster 1».  

На рисунке 6 представлен график значений цветового оттенка по-
сле кластеризации. 
 

420 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________
 
 
 

 
Рис. 3. Имитационная модель для распознавания цветовой метки 

  

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 421
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________
 
 
 
 
 

 
Рис. 4. Схема блока «Subsystem R1» 

 
 
 
 
 

422 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________
 
 
 
 

 
Рис. 5. Схема кластеризации для цветового оттенка 

 

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 423
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________

а) б) 
Рис. 6. Кластеризация цветового оттенка: а – кластеризация на основе 

формулы (7); б – кластеризация на основе формулы (8) 

Как видно из рисунка 6а, в зоне распознавания розового оттенка, 
диапазон от 20 до 25, наблюдается совмещение цветов, поэтому точ-
ность распознавания уменьшается. Для устранения данной проблемы 
производится коррекция, а именно используется дефаззификатор на ос-
нове метода отношения площадей, который вычисляется по формуле 
(8). Особенностью предложенного дефаззификатора является выправ-
ление его линейной передаточной характеристики путем введения в 
формулу (8) проверки условия нахождения одной из цветовой компо-
ненты в середине диапазона возможных значений 8-ми битного изобра-
жения (R>128). На рисунке 6б видно, что зона для распознавания цве-
тового оттенка имеет более четкие границы. На рисунке 7 представлена 
реализация блока «Correction». 

Рис. 7. Блок имитационной модели 

424 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________
После того как был определен цветовой оттенок, выполняются 

следующие действия: бинаризация изображений по формуле (10); филь-
трация изображений по одной из формул (5); определение координат 
центров тяжести цветовой метки по формуле (11); масштабирование и 
определение расстояния между координатами центров тяжести цвето-
вой метки исходного положения цветовой метки и текущего изображе-
ния по формуле (12).  

5. Экспериментальные результаты. Практическое примене-
ние разработанной математической модели для определения цвето-
вого оттенка реализовано для пневматического мехатронного ком-
плекса [21]. На пневматические исполнительные механизмы наклеи-
вается прямоугольная цветовая метка розового цвета (24 см). Пе-
ред пневматическим мехатронным комплексом устанавливается ви-
деокамера, которая фиксирует положение исполнительных механиз-
мов. Полученное изображение передаётся в компьютер, где в режиме 
реального времени происходит распознавание цветовой 
метки и определение ее расположения в кадре для исходного и после-
дующих положений цилиндра. На рисунке 8 представлена экспери-
ментальная установка. 

 

 
Рис. 8. Экспериментальная установка:1- компьютер; 2- камера Pixy CMUcam5; 

3 – цветовая метка; 4 – бесштоковый цилиндр 
 

Во время эксперимента фиксировалось перемещение цветовой 
метки на следующих расстояниях: 5 см, 10 см, 15 см, 20 см, 25 см, 30 
см, 35 см (рис.9). Видеофиксация изображений производилась на видео-
камеру Pixy CMUcam5. В ходе эксперимента было выполнено 100 заме-
ров по каждому из положений. 

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 425
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________

  
Рис. 9. Перемещение распознаваемой цветовой метки  

 
Затем на основе математической модели нечеткой кластеризации 

формулы (6)(10) осуществлялось распознавание цветовой метки. На 
обработанных изображениях для устранения черных точек, не относя-
щихся к цветовой метке, производится фильтрация по формуле (5). Для 
фильтрации были использованы четыре фильтра: медианный, Гауссов-
ский, матричный и биноминальный. Для каждого фильтра изменялись 
пороговые значения: для медианного фильтра T [2, 8]; для Гауссов-
ского фильтра T [60, 120]; для матричного фильтра T [60, 120]; для 
биномиального фильтра T [110, 170]. Результаты моделирования 
представлены на рисунке 10. 

Оценка фильтрации выполнена с использованием двух коэффи-
циентов пикового отношения сигнал/шум (PSNR), рассчитываемого по 
формуле (3) и среднеквадратичной ошибки (RMSE), рассчитываемой по 
формуле (4). Анализ графиков (рис. 10) показал, что наилучшие резуль-
таты для каждого из фильтров были получены при следующих пороговых 
значениях: для медианного фильтра T = 4; для гауссовского фильтра T = 
70; для матричного фильтра T = 90; для биномиального фильтра T = 130.  

В таблице 3 представлены результаты оценки фильтрации изобра-
жения с использованием наилучших пороговых значений для медианного, 
гауссовского, матричного и биномиального фильтров (формула 5). Анализ 
таблицы 3 показал, что наилучшие значения коэффициентов PSNR и 
RMSE были получены для Гауссовского фильтра. 

 
Таблица 3. Сравнительный анализ фильтрации изображений 

Медианный Биноминаль-
Без фильтра- Гауссовский Матричный 

Длина, ции фильтр ный фильтр 
см фильтр T=70 фильтр T=90

T=4 T=130
RMSE PSNR RMSE PSNR RMSE PSNR RMSE PSNR RMSE PSNR

5 4,34 35,38 3,24 37,92 3,09 38,33 3,04 38,47 2,99 38,62
10 4,16 35,75 3,29 37,79 3,38 37,55 3,19 38,05 3,29 37,79
15 3,89 36,33 2,94 38,76 3,09 38,33 2,99 38,62 2,99 38,62
20 4,12 35,83 3,77 36,6 3,6 37 3,64 36,91 3,68 36,81
25 3,81 36,51 2,83 39,1 2,83 39,1 2,78 39,25 2,72 39,44
30 3,85 36,42 2,89 38,91 2,89 38,91 2,9 38,88 2,89 38,91
35 3,89 36,33 3,25 37,89 3,13 38,22 3,65 36,88 3,8 36,54

Среднее 4,01 36,08 3,17 38,14 3,14 38,21 3,17 38,15 3,19 38,1
  

426 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 427
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________

а) б) 

 
в) г) 

Рис. 10. Результаты оценивания фильтрации коэффициентом PSNR: а) медианный фильтр, б) Гауссовский фильтр, в) матричный 
фильтр, г) биноминальный фильтр 



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________
При фильтрации удалялись точки, несоответствующие цвето-

вой метке. После фильтрации определялись координаты центров тя-
жести цветовой метки (определение центра цветовой метки) на каж-
дом изображении (исходном и текущем) по формуле (12). А по фор-
муле (13) определялось расстояние смещения цветовой метки. Для 
определения точности вычисления расстояния смещения цветовой 
метки применяются коэффициенты MAPE и Accuracy, которые рас-
считываются по формулам (1), (2). Результаты вычислений сведены в 
таблицу 4. 

Таблица 4. Экспериментальные данные  

Размер, см 5 10 15 20 25 30 35 

Min, см 4,89 9,95 15,01 19,9 24,99 29,7 34,85 

Max, см 5,03 10,08 15,08 20.01 25,07 30,02 35,03 

MAPE, % 0,0094 0,0034 0,0033 0,0022 0,0014 0,0065 0,0025

Accuracy, % 99,06 99,66 99,67 99,78 99,86 99,35 99,75 

 
Анализ результатов таблицы 4 показал, что точность определе-

ния смещения цветовой метки составляет более 99%. Данная точность 
вычисления расстояния смещения цветовой метки является приемле-
мой, так как пневматические исполнительные механизмы обладают 
инерцией, и достижение точности более 1мм затруднительно для них. 

В таблице 5 представлено сравнение коэффициента Accuracy 
нашей модели с использованием дефаззификаторов центра тяжести и 
отношения площадей с моделью нечеткой одномерной кластериза-
ции [18]. В таблице 6 представлено сравнение быстродействия раз-
личных дефаззификаторов. 

 
Таблица 5. Сравнение значений коэффициента Accuracy   

Метод Accuracy, % 

Одномерная кластеризация (метод k-средних) [16] 91,2 

Одномерная кластеризация (метод с-средних) 93,1 

Нечеткая кластеризация с помощью формулы (8.1) 93,4 

Нечеткая кластеризация с помощью формулы (8.2) 99,7 

 
 
 

428 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________
Таблица 6. Сравнение быстродействия дефаззификаторов  

Метод Время, нс 
[26] 5 390 
Оптоэлектронный дефаззификатор (патент 

10 000-1000 
№2408052) 
Оптоэлектронный дефаззификатор (патент 

10 000-1000 
№2439651) 
Дефаззификатор на основе формулы (8.1) 2160 
Дефаззификатор на основе формулы (8.2) [21] 

590 
(Патент РФ № 2701841) 

 
6. Заключение. Описан метод распознавания цветовой метки и 

вычисления расстояния её смещения. К особенностям стоит отнести 
наличие фильтрации, необходимой для устранения шумов на обрабаты-
ваемых изображениях. Проведено оценивание работы применяемых 
фильтров на основе двух коэффициентов пикового отношения сиг-
нал/шум (PSNR) и среднеквадратичной ошибки (RMSE). Спроектиро-
вано устройство в Matlab SIMULINK по предложенному методу. Во 
время проектирования на графиках было замечено, что в нечеткой мо-
дели формируются зоны нечувствительности. Для их устранения были 
введены формулы коррекции. Для точного определения цветового от-
тенка выполнена кластеризация. На основе программной и математиче-
ской модели разработан алгоритм для определения цветовой метки и 
вычисления расстояния её смещения, реализованный в виде блок-
схемы. Экспериментальные исследования проводились с использова-
нием пневматического мехатронного комплекса, на цилиндре которого 
закреплялась цветовая метка, и видеокамеры Pixy CMUCam5.  В ходе 
экспериментальных исследований работы нечетко-логической системы 
распознавания цветовой метки и определения расстояния смещения 
цветовой метки в кадре получена точность 99,7%. Оценка точности про-
изведена на основе коэффициентов MAPE и Accuracy. 

Благодарности. Работа проводится в рамках Государственного 
задания (грант №0851-2020-0032).  

 
Литература 

1. Иванько Д.В., Карпов А.А. Анализ перспектив применения высокоскоростных ка-
мер для распознавания динамической видеоинформации // Труды СПИИРАН. 
2016. № 44. С. 98–113. 

2. Чиров Д.С., Чертова О.Г., Потапчук Т.Н. Методика обоснования требований к 
системе технического зрения робототехнического комплекса // Труды 
СПИИРАН. 2017. № 51. C. 152–176. 

3. Шапиро Л., Стокман Дж. Компьютерное зрение // Бином. 2006. 752 с.  
4. Boguslavsky A.A., Sokolov S.M. The real time Vision System for small-sized target track-

ing // Int. J. Computing Science and Mathematics. 2007. vol. 1. no. 1. pp. 115–127. 

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 429
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________
5. Chaki J., Dey N., Moraru L., Shi F. Fragmented plant leaf recognition: Bag-of-features, 

fuzzy-color and edge-texture histogram descriptors with multi-layer perceptron // Optik. 
2019. vol. 181. pp. 639–650.  

6. Boukezzoula R., Coquin D., Nguyen T.L., Perrin S. Multi-sensor information fusion: 
Combination of fuzzy systems and evidence theory approaches in color recognition for 
the NAO humanoid robot // Robotics and Autonomous Systems. 2018. vol. 100. pp. 
302–316.  

7. Kim Y.-K., Kim K.-W., Yang X. Real time traffic light recognition system for color vision 
deficiencies // ICMA IEEE International Conference in Mechatronics and Automation. 
2007. pp. 76–81. 

8. Nguyen T.L., Boukezzoula R., Coquin D., Perrin S. Color recognition for NAO  robot 
usingsugeno fuzzy system and evidence theory // 16thWorldCongress IFSA, 
EUSFLAT. 2015. pp. 1176–1183. 

9. Тимофеев А.В., Косовская Т.М. Нейросетевые методы логического описания и 
распознавания сложных образов // Труды СПИИРАН. 2013. № 27. С. 144–155. 

10. Пушкарский С.В., Корнейчук Е.Ю., Виноградов И.И. Нейротехнологический под-
ход к автоматизированному распознаванию наземных объектов по данным кос-
мических систем дистанционного зондирования земли // Труды СПИИРАН. 2013. 
№ 29. С. 190–200. 

11. Wang X. Image recognition of English vocabulary translation based on FPGA high-
performance algorithm // Microprocessors and Microsystems. 2020. vol. 80. 

12. Yu L. et al. A litchi fruit recognition method in a natural environment using RGB-D 
images // Biosystems Engineering. 2021. vol. 204. pp. 50–63.  

13. Jeffrey Kuo C.-F. et al. Automated inspection of micro-defect recognition system for 
color filter // Optics and Lasers in Engineering. 2015. vol. 70. pp. 6–17.  

14. Fu J., Caulfield H. J., Yoo S.-M., Atluri V.  Use of Artificial Color filtering to improve 
iris recognition and searching // Pattern Recognition Letters. 2015. vol. 26. no.14. 
pp. 2244–2251.  

15. Gecer B., Azzopardi G., Petkov N. Color-blob-based COSFIRE filters for object recog-
nition // Image and Vision Computing. 2017. vol. 57. pp. 165–174.  

16. Rosten E., Drummond T. Fusing points and lines for high performance tracking // IEEE 
International Conference on Computer Vision. 2005. vol. 2. pp. 1508–1515. 

17. Rosten E., Drummond T., Porter R. FASTER and better: a machine learning ap-proach 
to corner detection // IEEE Transactions on Software Engineering. 2008. vol. 32(1). pp. 
105–119. 

18. Пегат А. Нечеткое моделирование и управление // М.:БИНОМ. 2013. 798с. 
19. Bobyr M.V., Milostnaya N.A., Kulabuhov S.A.  А method of defuzzification based on 

the approach of areas' ratio // Applied Soft Computing. 2017. vol. 59. pp. 19–32. 
20. Bobyr M.V., Emelyanov S.G. А A nonlinear method of learning neuro-fuzzy models for 

dynamic control systems // Applied Soft Computing. 2020. vol. 88. pp. 106030. 
21. Устройство дефаззификации на основе метода отношения площадей: пат. 

2701841 Рос. Федерация №2018144147; заявл. 13.12.2018; опубл. 01.10.2019, Бюл. 
№ 28. 16 с. 

22. Bobyr M.V., Yakushev A.S., Milostnaya N.A.  Three-coordinate Definition of Color 
Mark and Distance To Objects According to Strereo Image // 2019 3rd School on Dy-
namics of Complex Networks and Their Application in Intellectual Robot-
ics (DCNAIR). 2019. pp. 29–31. 

23. Bobyr M.V., Yakushev A.S., Dorodnykh A.A. Fuzzy devices for cooling the cutting tool 
of the CNC machine implemented on FPGA // Measurement. 2020. vol. 152. 
pp. 107378.  

430 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________
24. Borges R.E.P., Dias M.A.G., Dória Neto A.D., Meier A. Fuzzy pay-off method for real 

options: The center of gravity approach with application in oilfield abandonment. // 
Fuzzy Sets and Systems. 2018. vol. 353. pp. 111–123.  

25. Sain D., Mohan B.M. Modeling, simulation and experimental realization of a new non-
linear fuzzy PID controller using Center of Gravity defuzzification // ISA Transactions. 
2020.  

26. Karakuzu C., Karakaya F., Pavuslu M.A. FPGA implementation of neuro-fuzzy system 
with improved PSO learning // Neural Networks. 2016. vol. 76. pp. 128–140. 

 
Бобырь Максим Владимирович — д-р тех. наук, профессор, профессор, кафедра вычис-
лительной техники, Юго-Западный государственный университет (ЮЗГУ). Область науч-
ных интересов: нечёткая логика, мобильные роботы, станки с ЧПУ, системы охлаждения, 
ПЛИС. Число научных публикаций — 330. e-mail: fregat_mn@rambler.ru. 50 лет Октября, 
д.94, г. Курск, 305040, РФ; р.т. 8 (4712) 22-26-65. 
 
Архипов Александр Евгеньевич — канд. тех. наук, старший научный сотрудник, ка-
федра вычислительной техники, Юго-Западный государственный университет (ЮЗГУ). 
Область научных интересов: нечёткая логика, мобильные роботы, станки с ЧПУ, системы 
охлаждения, ПЛИС. Число научных публикаций — 91. e-mail:alex.76_09@mail.ru. 50 лет 
Октября, д.94, г. Курск, 305040, РФ; р.т. 8 (4712) 22-26-65. 
 
Якушев Алексей Сергеевич — аспирант, кафедра вычислительной техники, Юго-Запад-
ный государственный университет (ЮЗГУ). Область научных интересов: нечёткая ло-
гика, мобильные роботы, станки с ЧПУ, системы охлаждения, ПЛИС. Число научных пуб-
ликаций — 28. e-mail: alekseyakushev@yandex.ru. 50 лет Октября, д.94, г. Курск, 305040, 
РФ; р.т. 8 (4712) 22-26-65. 
 
Поддержка исследований. Работа выполнена при финансовой поддержке Государствен-
ного задания (проект № 0851-2020-0032).  

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 431
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________
DOI 10.15622/ia.2021.20.2.6 

 
M. BOBYR, A. ARKHIPOV, A. YAKUSHEV  

SHADE RECOGNITION OF THE COLOR LABEL BASED ON THE 
FUZZY CLUSTERING 

 
Bobyr M., Arkhipov A., Yakushev A. Shade Recognition of the Color Label based on the Fuzzy 
Clustering. 

Abstract. In this article the task of determining the current position of pneumatic actuators 
is considered. The solution to the given task is achieved by using a technical vision system that 
allows to apply the fuzzy clustering method to determine in real time the center coordinates and 
the displacement position of a color label located on the mechatronic complex actuators. The 
objective of this work is to improve the accuracy of the moving actuator’s of mechatronic 
complex by improving the accuracy of the color label recognition. 

The intellectualization of process of the color shade recognition is based on fuzzy clustering. 
First, a fuzzy model is built, that allows depending on the input parameters of the color intensity 
for each of the RGB channels and the color tone component, to select a certain color in the image. 
After that, the color image is binarized and noise is suppressed. 

The authors used two defuzzification models during simulation a fuzzy system: one is 
based on the center of gravity method (CoG) and the other is based on the method of area 
ratio (MAR). The model is implemented based on the method of area ratio and allows to 
remove the dead zones that are present in the center of gravity model. The method of area 
ratio determines the location of the color label in the image frame. Subsequently, when the 
actuator is moved longitudinally, the vision system determines the location of the color label 
in the new frame. The color label position offset between the source and target images allows 
to determine the moved distance of the color label. 

In order to study  how noise affects recognition accuracy, the following digital filters were 
used: median, Gaussian, matrix and binomial. Analysis of the accuracy of these filters showed 
that the best result was obtained when using a Gaussian filter. The estimation was based on the 
signal-to-noise coefficient. The mathematical models of fuzzy clustering of color label 
recognition were simulated in the Matlab/Simulink environment. Experimental studies of 
technical vision system performance with the proposed fuzzy clustering model were carried out 
on a pneumatic mechatronic complex that performs processing, moving and storing of details. 
During the experiments, a color label was placed on the cylinder, after which the cylinder moved 
along the guides in the longitudinal direction. During the movement, video recording and image 
recognition were performed. To determine the accuracy of color label recognition, the PSNR and 
RMSE coefficients were calculated which were equal 38.21 and 3.14, respectively. The accuracy 
of determining the displacement based on the developed model for recognizing color labels was 
equal 99.7%. The defuzzifier speed has increased to 590 ns. 

Keywords: Fuzzy Clustering, Color Shade Recognition, Fuzzy Logic, RMSE, PSNR, MAPE 
 
Bobyr Maksim — Dr. Tech. Sci., Professor, Professor, Department of Computer Engineering, 
Southwest State University (SWSU). Research interests: fuzzy logic, mobile robot, CNC machine, 
cooling system, FPGA. The number of publications — 330. e-mail: fregat_mn@rambler.ru. 50 years 
of October, 94, Kursk, 305040, Russian Federation. Office phone 8 (4712) 22-26-65. 
 
Arkhipov Alexander — Can. Tech. Sci., Senior Researcher, Department of Computer Engi-
neering, Southwest State University (SWSU). Research interests: fuzzy logic, mobile robot, 
CNC machine, cooling system, FPGA. The number of publications — 91. e-mail: 
alex.76_09@mail.ru. 50 years of October, 94, Kursk, 305040, Russian Federation. Office phone 
8 (4712) 22-26-65. 

432 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________



___________A_R_T_I_F_IC__IA_L_ _IN__T_E_L_L_I_G_E_N_C__E_, _K_N_O__W__L_E_D_G_E__ A_N__D_ D__A_T_A_ _E_N_G__IN_E__E_R_I_N_G___________
Yakushev Aleksey — Ph.D. student, Department of Computer Engineering, Southwest State 
University (SWSU). Research interests: fuzzy logic, mobile robot, CNC machine, cooling sys-
tem, FPGA. The number of publications — 57. e-mail: alekseyakushev@yandex.ru. 50 years of 
October, 94, Kursk, 305040, Russian Federation. Office phone 8 (4712) 22-26-65. 
 
Acknowledgements. This research is supported by GZ (grant 0851-2020-0032). 
 

References 
1. Ivanko D.V., Karpov A.A. [Analysis of the prospects for the use of high-speed cameras 

for the recognition of dynamic video information]. Trudy SPIIRAN – SPIIRAS Proceed-
ings. 2016. vol. 44. pp. 98–113. (In Russ.). 

2. Chirov D.S., Chertova O.G., Potapchuk T.N. [Methodology for substantiating the re-
quirements for the technical vision system of a robotic complex]. Trudy SPIIRAN – 
SPIIRAS Proceedings. 2017. vol. 51. pp. 152–176. (In Russ.). 

3. Shapiro L., Stokman Dzh. Kompyuternoe zrenie [Computer vision]. Binom. 2006. 
752 p. (In Russ.). 

4. Boguslavsky A.A., Sokolov S.M. The real time Vision System for small-sized target track-
ing. Int. J. Computing Science and Mathematics. 2007. vol. 1. no. 1. pp. 115–127. 

5. Chaki J., Dey N., Moraru L., Shi F. Fragmented plant leaf recognition: Bag-of-features, 
fuzzy-color and edge-texture histogram descriptors with multi-layer perceptron. Optik. 
2019. vol. 181. pp. 639–650.  

6. Boukezzoula R., Coquin D., Nguyen T.L., Perrin S. Multi-sensor information fu-
sion: Combination of fuzzy systems and evidence theory approaches in color recog-
nition for the NAO humanoid robot. Robotics and Autonomous Systems. 2018. vol. 
100. pp. 302–316. 

7. Kim Y.-K., Kim K.-W., Yang X. Real time traffic light recognition system for color 
vision deficiencies. ICMA IEEE International Conference in Mechatronics and Auto-
mation. 2007. pp. 76–81. 

8. Nguyen T.L., Boukezzoula R., Coquin D., Perrin S. Color recognition for NAO  robot 
usingsugeno fuzzy system and evidence theory. 16thWorldCongress IFSA, EUSFLAT. 
2015. pp. 1176–1183. 

9. Timofeev A.V., Kosovskaya T.M. [Neural network methods for logical description and 
recognition of complex patterns]. Trudy SPIIRAN – SPIIRAS Proceedings. 2013. vol. 
27. pp. 144–155. 

10. Pushkarskij S.V., Kornejchuk E.YU., Vinogradov I.I. [Neurotechnological Approach to 
Automated Recognition of Terrestrial Objects Based on Data from Space Earth Remote 
Sensing Systems]. Trudy SPIIRAN – SPIIRAS Proceedings. 2013. vol. 29. pp. 190–200. 

11. Wang X. Image recognition of English vocabulary translation based on FPGA high-
performance algorithm. Microprocessors and Microsystems. 2020. vol. 80. 

12. Yu L. et al. A litchi fruit recognition method in a natural environment using RGB-D 
images. Biosystems Engineering. 2021. vol. 204. pp. 50–63.  

13. Jeffrey Kuo C.-F. et al. Automated inspection of micro-defect recognition system for 
color filter. Optics and Lasers in Engineering. 2015. vol. 70. pp. 6–17.  

14. Fu J., Caulfield H. J., Yoo S.-M., Atluri V.  Use of Artificial Color filtering to improve 
iris recognition and searching. Pattern Recognition Letters. 2015. vol. 26. no. 14. 
pp. 2244–2251.  

15. Gecer B., Azzopardi G., Petkov N. Color-blob-based COSFIRE filters for object recog-
nition. Image and Vision Computing. 2017. vol. 57. pp. 165–174.  

16. Rosten E., Drummond T. Fusing points and lines for high performance tracking. IEEE 
International Conference on Computer Vision. 2005. vol. 2. pp. 1508–1515. 

Informatics and Automation. 2021. Vol. 20 No. 2. ISSN 2713-3192 (print) 433
ISSN 2713-3206 (online) www.ia.spcras.ru

_______________________________________________________________________________



___________И_С_К__У_С_С_Т_В__Е_Н_Н_Ы__Й_ _И_Н_Т_Е__Л_Л_Е_К_Т_,_ И__Н_Ж__Е_Н_Е_Р_И__Я_ _Д_А_Н_Н__Ы_Х_ _И_ _З_Н_А_Н__И_Й___________
17. Rosten E., Drummond T., Porter R. FASTER and better: a machine learning ap-

proach to corner detection. IEEE Transactions on Software Engineering. 2008. 
vol. 32(1). pp. 105–119. 

18. Pegat A. Nechetkoe modelirovanie i upravlenie [Fuzzy modeling and control]. 
M.: BINOM. 2013. 798 p. (In Russ.). 

19. Bobyr M.V., Milostnaya N.A., Kulabuhov S.A.  А method of defuzzification based on 
the approach of areas' ratio. Applied Soft Computing. 2017. vol. 59. pp. 19–32. 

20. Bobyr M.V., Emelyanov S.G. А A nonlinear method of learning neuro-fuzzy models 
for dynamic control systems. Applied Soft Computing. 2020. vol. 88. pp. 106030. 

21. Defuzzification device based on the area ratio method: Pat. 2701841 Rus. Federation 
No. 2018144147; declared 12/13/2018; publ. 01.10.2019, Bul. No. 28.16 p. 

22. Bobyr M.V., Yakushev A.S., Milostnaya N.A.  Three-coordinate Definition of Color 
Mark and Distance To Objects According to Strereo Image. 2019 3rd School on Dy-
namics of Complex Networks and Their Application in Intellectual Robot-
ics (DCNAIR). 2019. pp. 29–31. 

23. Bobyr M.V., Yakushev A.S., Dorodnykh A.A. Fuzzy devices for cooling the cutting 
tool of the CNC machine implemented on FPGA. Measurement. 2020. vol. 152. 
pp. 107378.  

24. Borges R.E.P., Dias M.A.G., Dória Neto A.D., Meier A. Fuzzy pay-off method for real 
options: The center of gravity approach with application in oilfield abandonment. Fuzzy 
Sets and Systems. 2018. vol. 353. pp. 111–123.  

25. Sain D., Mohan B.M. Modeling, simulation and experimental realization of a new non-
linear fuzzy PID controller using Center of Gravity defuzzification. ISA Transactions. 
2020.  

26. Karakuzu C., Karakaya F., Pavuslu M.A. FPGA implementation of neuro-fuzzy system 
with improved PSO learning. Neural Networks. 2016. vol. 76. pp. 128–140. 

434 Информатика и автоматизация. 2021. Том 20 № 2. ISSN 2713-3192 (печ.) 
ISSN 2713-3206 (онлайн) www.ia.spcras.ru

_______________________________________________________________________________