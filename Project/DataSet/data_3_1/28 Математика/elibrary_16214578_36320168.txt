Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

УДК 519.177+519.217.2+517.977.1
ББК 22.18

СХОДИМОСТЬ И УСТОЙЧИВОСТЬ В ЗАДАЧАХ
СОГЛАСОВАНИЯ ХАРАКТЕРИСТИК (ОБЗОР

БАЗОВЫХ РЕЗУЛЬТАТОВ)1

Агаев Р. П.2 , Чеботарев П. Ю.3
(Учреждение Российской академии наук Институт проблем

управления им. В. А. Трапезникова РАН, Москва)

Статья представляет собой обзор базовых работ по проблеме
согласования характеристик (consensus problem) в многоагент-
ных системах и по устойчивости соответствующих процедур.
Ее первая часть посвящена задаче согласования мнений агентов
в дискретном времени. Во второй части рассмотрены более об-
щие задачи согласования и предполагается, что каждый агент
характеризуется 2d параметрами в d-мерном евклидовом про-
странстве: координатами и проекциями скорости. Изучаются
процедуры построения траекторий, согласованных с заданным
курсом и выстраивающих (поддерживающих) предписанную кон-
фигурацию группы объектов. При корректировке скорости каж-
дый агент в качестве нового ее значения выбирает определен-
ную функцию от значений характеристик своих «соседей» и соб-
ственных характеристик. Информационные связи задаются ор-
графом коммуникаций агентов. Для стабилизации используется
линейная обратная связь. Устойчивость движения исследуется
в терминах, характеризующих связность орграфа коммуникаций.

Ключевые слова: многоагентные системы, децентрализован-
ное управление, граф коммуникаций, консенсус, лапласовский
спектр, модель Де Гроота, устойчивость, управление.

1 Работа выполнена при поддержке РФФИ (грант № 09-07-00371a)
и Программы Президиума РАН «Математическая теория управления».

2 Рафиг Пашаевич Агаев, к.т.н., с.н.с., доцент (agaraf@rambler.ru).
3 Павел Юрьевич Чеботарев, д.ф.-м.н., в.н.с. (pavel4e@gmail.com,

Москва, ул. Профсоюзная, д. 65, тел. (495) 334-88-69).
470



Сетецентрическое управление и многоагентные системы

1. Введение

Лишь за последние 7 лет опубликовано несколько тысяч ра-
бот по теоретико-графовым моделям децентрализованного управ-
ления в многоагентных системах. Для адекватного обзора всего
этого направления подходит только формат книги. Наша задача
скромнее: обсудить базовые результаты анализа двух классов мо-
делей. Первый из них включает модели последовательного усред-
нения мнений агентов в дискретном времени. Исследования этих
моделей базируются на результатах теории однородных и неодно-
родных цепей Маркова. Второй класс объединяет модели согла-
сованного движения группы объектов в евклидовом пространстве
с поддержанием (выстраиванием) заданной геометрической кон-
фигурации в непрерывном времени. Эти модели представляют-
ся системами линейных дифференциальных уравнений. В моде-
лях каждого из классов структура информационных связей между
агентами задается взвешенным ориентированным графом, а свой-
ства траекторий процессов согласования характеристик опреде-
ляются спектральными свойствами лапласовской матрицы этого
орграфа. Нашим приоритетом в настоящем обзоре является не
широта охвата работ, а детальное рассмотрение и прослеживание
генезиса базовых результатов.

2. Основные определения

Решение многих задач управления многоагентными систе-
мами связано с исследованием спектров графов (орграфов) ком-
муникаций и их древесной структуры. В литературе использу-
ются различные матрицы соответствующих графов (см., напри-
мер, [13, 22]). Пусть G – взвешенный орграф. Обозначим через
wij > 0 вес дуги орграфаG, направленной из вершины i в верши-
ну j. Лапласовская матрица (или строчная лапласовская матри-
ца) L =∑L(G) = (`ij) порядка N×N для взвешенного орграфа
G определяется следующим образом: `ij = −wij , если j 6= i, и
`ii = − k 6=i `ik, i, j = 1, . . . , N . Нередко вместо лапласовской
матрицы строится матрица Кирхгофа, которую обычно также обо-

471



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

значают L = (`ij). Он∑а определяется соотношениями `ij = −wji,
если j 6= i, и `ii = − k 6=i `ik, i, j = 1, . . . , N . Некоторые авторы
[40] именно ее называют ориентированным лапласианом оргра-
фа. Классы матриц Кирхгофа и лапласовских матриц совпадают.
Если граф коммуникаций – неориентированный, то соответству-
ющую матрицу всегда называют лапласовской и обозначают че-
рез L.

Для орграфов коммуникаций, в которых направления дуг
соответствуют направлениям информационных потоков, удобно
использовать матрицы Кирхгофа. В то же время, в теории це-
пей Маркова для описания переходов между состояниями удобно
пользоваться лапласовскими матрицами.

Неотрицательная матрица P называется примитивной4, ес-
ли она неразложима и имеет лишь одно собственное значение с
максимальным модулем. Стохастическая матрица – это неот-
рицательная матрица с единичными строчными суммами. Цепь
Маркова называют ациклической, если ее матрица переходов при-
митивна. Стохастическую матрицу P и соответствующую ей од-
нородную цепь Маркова называют правильными, если у матрицы
P нет собственных значений, отличных от единицы и равных по
модулю единице. Если P – правильная и единица является ее
однократным собственным значением, то P и соответствующую
цепь называют регулярными.5 Для регулярной цепи при k → ∞
пределы элементов (k)

pij матриц P k существуют и не зависят от
i, но, вообще говоря, зависят от6 j. Регулярность эквивалентна
понятию SIA (Stochastic, Indecomposable, Aperiodic)7 , часто ис-
пользуемому в англоязычной литературе. Говорят, что две мат-
рицы являются однотипными, если все их ненулевые элементы

4 Далее в терминологии в основном следуем [6].
5 А. Н. Колмогоров, рассмотрев эргодический принцип, показал [8,

условие (22b)], что эргодичность цепи эквивалентна ее регулярности.
6 В [11] введено понятие положительно регулярной цепи, т.е. цепи,

для которой дополнительно пределы (k)
pij при k →∞ все больше нуля.

7 Стохастическая матрицы P является SIA, если limm→∞ Pm = Q
и все строки Q одинаковы.

472



Сетецентрическое управление и многоагентные системы

находятся в одинаковых позициях.
Если у стохастической матрицы хотя бы один столбец це-

ликом положителен, то ее называют матрицей Маркова (см., на-
пример, [12, 20]). Класс таких матриц обозначим через M. Сто-
хастическая матрица P регулярна тогда и только тогда, когда для
некоторого натурального r P r является матрицей Маркова.

3. Дискретные модели достижения консенсуса

3.1. Модель Де Гроота
Одна из первых моделей достижения консенсуса была пред-

ложена и изучена М. Де Гроотом. В [23] он рассмотрел задачу
согласования субъективных оценок неизвестного параметра. Эти
оценки сопоставлены членам группы, действующей как единая
команда. В основе согласования мнений, т.е. получения единой
оценки для всей группы, лежат итерации, последовательно сбли-
жающие мнения агентов. Если s(0) = (s10, . . . , s

N
0 )T – вектор на-

чальных мнений членов группы, а s(1) = (s11, . . . , s
N
1 )T – вектор

мнений на следующем шаге, то s(1) = Ps(0), где P – стоха-
стическая матрица, элемент которой pij задает степень влияния
мнения j-го агента на мнение i-го. На k-ом шаге получаем вектор
мнений s(k) = P ks(0). Согласие достижимо, если при некотором
s̄ ∈ R для всех i имеет место limk→∞ si

k = s̄. Согласие дости-
жимо при любых начальных мнениях в том и только том случае,
если существует предельная матрица limk→∞ P k и все ее строки
совпадают, иными словами, если матрица P регулярна. Таким об-
разом, в модели Де Гроота достижение консенсуса определяется
сходимостью степеней стохастической матрицы влияний.

В [23] приведены некоторые достаточные условия сходимо-
сти степеней P k: одно из них – наличие положительного столбца
в матрице P k при некотором k, т. е. принадлежность P k классуM
матриц Маркова (теорема 1 в [23]); другое – взаимная достижи-
мость всех состояний цепи Маркова, соответствующей матрице
P, и ее апериодичность (в этом случае P примитивна) – теорема 2
в [23].

473



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

Вероятностный вектор8 π называют стационарным для сто-
хастической матрицы P, если имеет место πTP = πT. Стацио-
нарный вектор – левый собственный вектор P, соответствующий
собственному значению 1.

Как отмечено в [23], согласие достигается тогда и только
тогда, когда существует вектор π = (π1, . . . , π

T
N ) , такой, что для

всех k)
i, j имеет место limk→∞ p∑(ij = πj . Общее мнение в этом

случае определяется формулой N
i=1 πis

i
0.

Если согласие достижимо при любы∑х начальных мнениях и
согласованное мнение равно πTs(0) = N

i=1 πis
i
0, то (см. тео-

рему 3 в [23]) вектор π – единственный9 стационарный вектор
для P .

Если согласие достижимо и состояние i в цепи Маркова,
определяемой P, невозвратно, то, как показано в [23], πi = 0 и
мнение i-го агента не влияет на согласованное мнение. Например,
если матрица P имеет вид  

1 1
2 2 0

P = 1 3
4 4 0 ,
1 1 1
3 3 3

то πT = (1 2 2
3 , 3 , 0) и консенсус определяется формулой 1 1

3s0 + 2
3s0.

Поскольку состояние, соответствующее третьему агенту, – невоз-
вратное, при определении консенсуса егомнение не учитывается.
Для матрицы 1 1

2 2 0 0

1 1
2 2 0 0

P = 
0 0 1 1

2 2
0 0 1 1

2 2

8 Вектор называется вероятностным, если все его компоненты
неотрицательны и их сумма равна единице.

9 В действительности, еще в [6] (§ 7 главы 13) отмечалось, что
если P регулярна, то из уравнения π = PTπ вектор π определяется
однозначно и каждая строка матрицы предельных вероятностей есть
результат его транспонирования.

474



Сетецентрическое управление и многоагентные системы

согласие, вообще говоря, не достигается. Но оно достижимо, в
частности, при s10 + s20 = s30 + s40. Существенный вопрос о том,
при каких начальных векторах s(0) согласие достижимо в случае
нерегулярной матрицы, в [23] не изучается. Мы обсудим его в
одной из следующих работ. Отметим, что здесь могут быть ис-
пользованы, в частности, результаты [4]. Одним из важных при-
менений модели Де Гроота является информационное управление
в социальных сетях [3].

3.2. Обобщения модели Де Гроота
Модель Де Гроота была обобщена в работе Чаттерджи и Се-

неты [20], где матрица коммуникаций меняется на каждом шаге,
и итеративный процесс задается произведением матриц:
(1) s(k) = PkPk−1 · · ·P1s(0).

Решение задачи согласования мнений в такой постановке
сводится к исследованию сходимости неоднородных цепей Мар-
кова. Базовые результаты в этой области принадлежат Дж. Хадж-
налу [26, 27]. Так, теорема 2 из [20] аналогична приводимой ниже
теореме 3, полученной в [27]. Прежде чем перейти к результа-
там [26, 27], приведем более раннюю теорему [12].

Рассмотрим неоднородную цепь Маркова, характеризующу-
юся последовательностью стохастических матриц P1, P2, . . . , и
введем обозначение ∏k

(2) Hk = Pi, k = 1, 2, . . .
i=1

Заметим, что порядок умножения матриц Pi в (2) отличается
от порядка умножения в (1).

Отметим также, что как для неоднородных цепей Маркова,
так и в задачах достижения согласия не представляет интереса
тривиальный случай Pi = 1vT, где vT – вероятностный вектор
(см. стр. 91 в [20]). В этом случае для любой стохастической
матрицы S верно SPi = Pi, причем произведение PiS – также
матрица с одинаковыми строками. Таким образом, если в моде-
ли (1) хотя бы один сомножитель имеет одинаковые строки, то

475



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

согласие уже достигнуто, и матрицы-множители, стоящие слева
от матрицы с одинаковыми строками, не играют никакой роли.

Пусть K1 – множество всех примитивных матриц. В [12]
отмечается, что это множество не замкнуто относительно умно-
жения. В K1 выделим подмножество K2 следующим образом:
P ∈ K2 тогда и только тогда, когда произведение P на любую
матрицу из K1 – примитивная матрица. Нетрудно видеть, что
если у примитивной матрицы все элементы главной диагонали
положительны, то она принадлежит классу K2. Класс M также
входит в K2.

Теорема 1 [12]. 1) Если все матрицы последовательности
Hk принадлежат классу K2 и наименьший элемент каждой мат-
рицы не меньше некоторого фиксированного числа δ > 0,то цепь
Маркова, определяемая этой последовательностью, является эр-
годической.

2) Если выполняется только второе условие, то для эрго-
дичности цепи необходимо и достаточно, чтобы существова-
ла бесконечная последовательность марковских стохастических
матриц вида Mni, ni−1 = Pni−1+1Pni−1+2 · · ·Pni , где i = 1, 2, . . .
и n0 = 1.

Данная теорема весьма полезна при исследовании эргодич-
ности неоднородных цепей Маркова.

Рассмотрим теперь результаты Хаджнала [26, 27], также при-
менимые при решении задач согласования мнений в случае изме-
няющейся матрицы влияний.

В работе [26] рассматривается неоднородная цепь, матри-
ца переходных вероятностей которой на каждом шаге регулярна.
Автор вводит два специальных класса цепей Маркова и получает
достаточные условия сходимости для каждого из них.

Пусть Ui = limk→∞ P k
i , i = 1, 2, .(. .

Цепь Маркова с матрицами Hk = (k))
( his (см. (2)) называется
слабо эргодической, если для всех i, j, s = 1, . . . , N имеет место

(k) (k))
his −hjs → 0. Слабая эргодичность предполагает стремление

к нулю разности между строками, но не предполагает существо-
вания предела матрицHk. Цепь с матрицамиHk называют сильно

476



Сетецентрическое управление и многоагентные системы

эргодической, если для некоторого вероятностного вектора π
(3) lim Hk = 1πT,

k→∞
где 1 – вектор из единиц. Из результатов [26] вытекает

Следст∑вие 1. Если для неоднородной цепи
1) последовательность U1, U2, . . . имеет предел U,
2) ряд (U∏jPj+1 − Uj) абсолютно сходится и
3) lim k (j) (

k→∞ j=1(1 − pmin) = 0, где j)
pmin – наименьший эле-

мент матрицы Pj ,
то цепь с матрицами Hk сильно эргодична.

Если выполняется только условие 3) следствия 1, то цепь –
слабо эргодическая (теорема 2 в [26]).

Еще одно условие сильной эргодичности дает теорема 2.
Теорема 2 (теорема 3 в [26]). Если в неоднородной цепи

Маркова все матрицы переходных вероятностей образуют ко-
нечное коммутативное семейство регулярных матриц, то такая
цепь – сильно эргодическая.

Для неоднородной цепи Маркова, заданной последовательно-
стью стохастических матриц P1, P2, . . . , слабая эргодичность не
влечет сильную. Но в модели согласования мнений Чаттерджи и
Сенеты стохастические матрицы умножаются в обратном поряд-
ке, и можно показать, что аналоги слабой и сильной эргодичности
эквивалентны. Несколько иначе обстоит дело, когда вместо по-
следовательности P1, P2, . . . используется Pr, Pr+1, . . . , где для
данной цепи r может принимать любое натуральное значение. В
этом случае для «обратного» порядка умножения стохастических
матриц, как и для «прямого», сильная эргодичность не вытекает
из слабой.

Пусть (
Hr,k = ( r,k)

hij ) – стохастические матрицы, определяе-
мые следующим образом [27]: ∏k

(4) Hr,k = Pr+i,
i=1

где Pi – исходные стохастические матрицы.
В [27] изучается сходимость последовательностей Hr,k при

k → ∞. Как и ранее, для цепи, характеризующейся матрицами

477



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

Hr,k, могут быть введены понятия слабой эргодичности, когда для
всех i, j, s = 1, . . . , N и r > 0 имеет место ( (r,k) r,k)

his − (
hjs ) → 0, и

сильной эргодичности, когда для всех r > 0 верно
(5) lim Hr,k = 1πT

r ,
k→∞

где πr – некоторый вероятностный вектор, зависящий от r. При
сильной эргодичности (из которой следует слабая эргодичность)
мнения агентов не только сближаются, но и стабилизируются.

Даже если разности между строками матрицы Hr,k не стре-
мятся к нулю при k → ∞, такое стремление при определенных
условиях может быть обеспечено умножением Hr,k слева на одну
или несколько матриц, не являющихся эргодическими.

Известно, что произведение двух разложимых матриц может
быть регулярной матрицей. И наоборот, произведение регуляр-
ных матриц может быть разложимой матрицей. Практический
интерес представляет класс регулярных матриц со следующими
свойствами:

1) если две матрицы принадлежат данному классу, то их про-
изведение также ему принадлежит;

2) наличие у цепи, удовлетворяющей определенному есте-
ственному условию, бесконечного числа матриц из этого класса
обеспечивает ее эргодичность.

Как следует из достаточных условий сходимости степеней
P k [23], в качестве такого класса может быть рассмотрено мно-
жество матриц, содержащих хотя бы один столбец из ненулевых
элементов.

Матрицу P называют матрицей сцеплений, или скрембли-
рующей матрицей (scrambling matrix), если для любых двух ее
строк i и j существует хотя бы один столбец k такой, что pik > 0
и pjk > 0.

В [27] введена мера эргодичности λ(P ) для стохастической
матрицы: ∑
(6) λ(P ) = min min(pik, pjk).

i, j
k

Легко убедиться, что P – скремблирующая матрица тогда и
только тогда, когда λ(P ) > 0.
478



Сетецентрическое управление и многоагентные системы

Размахом m(P ) матрицы P называется величина
(7) m(P ) = maxmax |pik − pjk|.

k i,j ∏
Дж. Хаджнал показал, что размах матрицы Hk = k

i=1 Pi
связан с мерами эргодичности λ(Pi) следующим неравенством
(теореме 2 в [27]): ∏k

(8) m(Hk) 6 (1− λ(Pi)).
j=1

Следует отметить, что m(Hk) = 0 тогда и только тогда, когда
все строки Hk равны. Это утверждение вместе с неравенством
(8) позволяет доказать следующее необходимое и достаточное
условие эргодичности неоднородной цепи Маркова.

Теорема 3 [27]. Неоднородная цепь Маркова эргодична то-
гда и только тогда, когда существует разбиение последова-
тельности шагов (испытаний) на ∏блоки, начинающиеся с ша-
гов i1 = 0, i2, i3, . . . и такие, что ∞

j=1(1− λ(Hi )) = , г
j ,k 0 де

j

kj = ij+1 − ij , j ∈ N.

∑ Из теор∏ии рядов известно, что если λ(Hijk ) 6= 1, i =
j

1, 2, . . . , то ∞
j=1(1 − λ(Hi т г а т

jk )) = 0 о д и олько тогда, когда
j

∞
j=1 λ(Hi ) р с о и с . и п

jk а х д т я С с ользов∑анием этого факта дока-
j

зывается
Следствие 2 (из теоремы 3). Если ∞

j=1 λ(Pj) расходится,
то цепь Маркова – эргодическая.

Кроме того, в [27] доказана следующая
Лемма 1 [27]. Неоднородная цепь Маркова является

эргодической, если все переходные матрицы регулярны и
однотипны.

В задачах децентрализованного управления также часто ис-
пользуется следующий важный результат.

Теорема 4 [43]. Пусть P1, . . . , Pk – стохастические матри-
цы одного порядка. Словом длины t назовем произведение t мат-
риц (не обязательно различных) из этого набора. Пусть все слова
– регулярные матрицы. Тогда для любого ε > 0 существует та-
кое натуральное ν(ε), что для любого слова H длины t > ν(ε)
выполняется m(H) < ε.

479



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

Таким образом, если каждая матрица Pi, i = 1, . . . , k, явля-
ется регулярной, то при росте w разница между строками матриц
Hw сходит на нет. В [43] отмечается, что одного лишь условия
регулярности (SIA) матриц Pi для получения этого вывода недо-
статочно. Так, в следующем примере (где ∗ обозначает ненулевые
элементы):  

∗ 0 ∗
1 0 0    

0 1 0 ∗ ∗
0 0 1 =  ∗

0 1 0 ,
0 1 0 ∗ 0 ∗ 0 0 1

приведенном в [12], произведение двух регулярных матриц не
является примитивной матрицей.

Перейдем теперь к более сложным моделям согласования
характеристик.

3.3. Дискретная модель согласованного движения по плоскости
В [41] была предложена следующая модель движения N ав-

тономных агентов по плоскости в разных направлениях. Направ-
ление движения (курс) каждого агента в дискретные моменты
времени t усредняется им с направлениями движения ni(t) его
соседей, находящихся на расстоянии не более r от него и состав-
ляющих множество Ni(t). В момент t = 0 положения агентов
на плоскости произвольны; агенты имеют одинаковые по модулю
и случайные по направлению скорости. Закон движения агентов
имеет вид
(9) xi(t+ 1) = xi(t) + vi(t)∆t.

Скорость агента vi(t) имеет абсолютное значение v и на-
правление, задаваемое углом s(t). Закон изменения направлений
движения сводится к усреднению:

1 ( ∑ )
(10) si(t+ 1) = si(t) + sj(t) ,

1 + ni(t)
j∈Ni(t)

где ni(t) = |Ni(t)| .
В [28] были получены условия сходимости для различных

конфигураций группы агентов.

480



Сетецентрическое управление и многоагентные системы

Занумеруем все простые графы (неориентированные, без пе-
тель, невзвешенные) на N вершинах. Пусть P – множество их
индексов. Эти графы будем обозначать Gp, p ∈ P . Обозначим
через Ap и Dp матрицу смежности и диагональную матрицу ва-
лентностей (степеней вершин) графа Gp, где p ∈ P . Тогда модель
(10) в матричной форме имеет вид
(11) s(t+ 1) = Fσ(t)s(t),
где s(t) = [s1t , . . . , s

N
t ] – вектор направлений движения агентов,

(12) Fσ(t) = (I +Dσ(t))
−1(I +Aσ(t))

и σ(t) : N → P – функция, моменту t сопоставляющая ин-
декс неориентированного графа коммуникаций в этот момент.
В [28] функция σ(t) названа переключающим сигналом. Сходи-
мость каждого состояния si(t) к s̄ равносильна сходимости s(t)
к s̄1. Однако процесс может и не сходиться, если, например, для
некоторого агента i при любом t ∈ N множество Ni(t) пусто.
В другом крайнем случае, если каждый агент взаимодействует
со всеми остальными при всех t, то граф Gσ(t) полон, и при
любом начальном состоянии процесс сходится. Представляет ин-
терес промежуточный случай, когда не для всех t графы Gσ(t)
полны. Исследованию этого случая и посвящена работа [28].

Пусть Q ⊂ P – множество индексов всех связных графов.
Из определения (12) матрицы Fp следует, что она стохастическая
и ее диагональные элементы отличны от нуля.

Теорема 5 [28]. Если для всех t ∈ N σ(t) ∈ Q, то при любом
s(0) верно

lim s(t) = s̄1,
t→∞

где число s̄ зависит только от s(0) и σ(t).
Поскольку в [28] рассматриваются простые (т. е. неориен-

тированные, невзвешенные, без петель) графы, в силу условия
теоремы 5 каждая матрица Fp является примитивной, более то-
го, принадлежит классу K2, и ее минимальный положительный
элемент не меньше 1

N+1 . Поэтому теорема 5 есть частный случай
пункта 1 теоремы 1, из которой следует, что аналог теоремы 5
верен также и для ориентированного графа.

481



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

Условие теоремы 5 может быть ослаблено. Для этого вводит-
ся понятие совместной связности совокупности графов. Графы
(G1, . . . , Gm) совместно связны, если их объединение – связный
граф. О связности группы N агентов на временном отрезке [t, τ ]
говорят, если графы (Gσ(t), Gσ(t+1), . . . , Gσ(τ)) совместно связ-
ны.

Теорема 6 [28]. Пусть начальное состояние s(0) фиксиро-
вано и для функции σ(t) имеется бесконечная совокупность по-
следовательных непустых ограниченных интервалов [ti, ti+1),
i > 0, такая, что на каждом из этих интервалов группа N
агентов связна. Тогда

lim s(t) = s̄1,
t→∞

где число s̄ зависит только от s(0) и σ(t).
Доказательство этой теоремы основано на теореме Вольфо-

вица (теорема 4 выше) и на результате (см. лемму 1 в [28]), соглас-
но которому для любого множества индексов {p1, . . . , pm} ⊂ P,
если Gp1 , . . . , Gpm – совместно связные графы, то произведение
соответствующих стохастических матриц есть примитивная мат-
рица.

Пусть P есть (N−1)×N матрица рангаN−1 с ядром, натяну-
тым на вектор 1. Нетрудно доказать10 , что матричное уравнение
(13) PFp = F̃pP, p ∈ P
имеет единственное решение F̃p с таким спектром Sp(F̃p), что
Sp(F̃p) ∪ {1} = Sp(Fp), из чего следует
(14) PFpiFpi−1 · · ·Fp0 = F̃piF̃pi−1 · · · F̃p0P, p ∈ P.

Сходимость произведения FpiFpi−1 · · ·Fp0 к 1cT равносильна
сходимости F̃piF̃pi−1 · · · F̃p0 к нулевой матрице. Например, если

10 Для этого, например, в соотношении (13) матрицу P можно заме-
нить на квадратную, добавив к ней строку [1 . . . 1], а F̃p – на блочно-
диагональную матрицу из двух блоков, один из которых равен F̃p, а
другой – единичный.

482



Сетецентрическое управление и многоагентные системы

p0, p1, . . . – бесконечная последовательность индексов, принадле-
жащих Q, то11 в силу теоремы 4 выполняется
(15) lim F̃piF̃pi−1 . . . F̃p0 = 0.

i→∞
Отметим, что (15) имеет место, если существует единствен-

ная положительно определенная матрица M (общая матрица Ля-
пунова), для которой все матрицы F̃T

p MF̃p −M, p ∈ Q являются
отрицательно определенными (см., например, лемму П.19 в [10]
для случая симметричных матриц).

Однако, как отмечается в [28, с. 992], все матрицы F̃p, p ∈ Q
могут быть стабильными (т. е. иметь спектральный радиус, мень-
ший единицы), но при этом может не существовать общей матри-
цы Ляпунова M . Поэтому подход авторов статьи, основанный на
использовании метода Ляпунова для сходящейся последователь-
ности, не является универсальным.

Преобразуем формулу (12):

(16) Fσ(t) = (I +Dσ(t))
−1(I +Aσ(t)) =

= (I +Dσ(t))
−1(I +Dσ(t) − (Dσ(t) −Aσ(t))) =

= I − (I +Dσ(t))
−1(Dσ(t) −Aσ(t)) =

= I − (I +Dσ(t))
−1Lσ(t).

Согласно (16) модель (11) представима в виде
(17) s(t+ 1) = s(t)− (I +Dσ(t))

−1Lσ(t)s(t) = s(t) + u(t).
В [28] величина u(t) = −(I + Dσ(t))−1Lσ(t)s(t) трактуется как
децентрализованное управление.

Таким образом, здесь используется общая идея децентрали-
зованного управления: для достижения выбранной цели (в дан-
ном случае – согласия) состояние каждого агента на каждом шаге
корректируется с использованием «невязок» – разностей между
характеристиками данного агента и его «соседей». Тем самым,
управляющие воздействия формируются не централизованно, а
каждым агентом отдельно – на основании его текущего состоя-
ния и информации, полученной от «соседей».

11 В силу конечности N некоторые матрицы Fp повторяются.

483



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

Теорема 6 остается верна, если в (11)–(12) заменить матрицу
I+Dσ(t) на диагональную матрицу gI, где g > N . Очевидно, что
и в этом случае симметричная матрица (см. (16)) Fp = I − 1

gLp,
p ∈ P остается стохастической.

Лидером называют агента i, для которого Ni = ∅. Сле-
дуя [28], рассмотрим группу агентов {0, 1, . . . , N} с одним лиде-
ром; пусть, без ограничения общности, это агент 0. Предположим,
как и ранее, что все агенты движутся с одинаковыми и постоян-
ными по модулю скоростями, причем, в отличие от курсов других
агентов, курс s̄ лидера остается постоянным. Граф коммуникаций
агентов обозначим через Gp (и множество индексов таких графов
– через P), а граф, полученный из Gp удалением вершины 0 и
всех инцидентных ей ребер, обозначим Gp. Для каждого агента
i ∈ {1, . . . , N} закон изменения курса имеет вид

(18) si 1 ( ∑ )
(t+ 1) = si(t) + sj(t) + bi(t)s̄ ,

1 + ni(t) + bi(t)
j∈Ni(t)

где bi(t) = 1, если агент i связан ребром с лидером; в противном
случае bi(t) = 0.

Пусть Bp – диагональная матрица порядка N, у которой i-ый
диагональный элемент равен 1, если в графе Gp вершины i и 0
связаны ребром. В противном случае i-ый диагональный элемент
равен 0. Как и ранее, Ap – матрица смежности графа Gp.

Перепишем (18) в матричной форме:
(19) s(t+1)=(I+Dσ(t)+Bσ(t))

−1((I+Aσ(t))s(t)+Bσ(t)1s̄), t∈N∪{0}.
Теорема об условиях сходимости курсов движения всех N

агентов к курсу s̄ лидера (теорема 4 в [28]) аналогична теореме 6.
При этом если графы Gσ(t), Gσ(t+1), . . . , Gσ(τ), относящиеся к
интервалу [t, τ ], совместно связны, то говорят, что на этом интер-
вале все N агентов связаны с лидером.

В моделях с одним лидером и непрерывным изменени-
ем графа коммуникаций часто наблюдается эффект «вибрации»
(chattering) положения агентов. Чтобы ее избежать, предполага-
ют, что агенты обмениваются информацией и корректируют свои
параметры не постоянно, а через фиксированные интервалы вре-
мени τd > 0. Тем самым задача сводится к дискретной, и для нее
484



Сетецентрическое управление и многоагентные системы

имеет место следующий результат: пусть τd, s(0) и s̄ фиксирова-
ны, σ : [0,∞) → Pp – кусочно-постоянная функция с моментами
«переключений» ti, отстоящими не менее, чем на τd, и существу-
ет бесконечная последовательность ограниченных непересекаю-
щихся интервалов [ti, ti+1], в пределах каждого из которых все N
агентов связаны с лидером. Тогда

lim s(t) = s̄1.
t→∞

Следует отметить, что некоторые из перечисленных выше ре-
зультатов [28] являются частными случаями теорем, полученных
другими авторами задолго до этой работы. Так, модель, обобщаю-
щая (10), была изучена в работах Тситсиклиса и Бертсекаса (см.,
например, [39, 17]), что отмечено в их заметке [18].

Замечание 1. Теорема 6 доказана в [28] довольно рутин-
ным методом. Но в этом доказательстве нет необходимости, так
как в силу симметричности матриц Fp требуемое утверждение
может быть выведено из пункта 1 теоремы 1. Действительно,
нетрудно доказать, что если Fσ(ti), Fσ(ti+1), . . . , Fσ(ti+1) – сим-
метричные матрицы, соответствующие со∏вместно связным гра-
фам Gσ(ti), Gσ(ti+1), . . . , Gσ(ti+1), то Ti = ti+1

k=t F а л -
i σ(k) – нер з о

жимая матрица с положительными диагональными элементами и
Ti ∈ K. Поэтому согласно пункту 1 теоремы 1 соответствующая
неоднородная цепь регулярна.

Модель, рассмотренная в данном подразделе, является связу-
ющим звеном между первой и второй частями настоящего обзо-
ра. Это «еще» дискретная модель, но «уже» модель физического
движения. Во второй части обзора будут рассмотрены модели, в
которых агенты, совершая групповое движение в евклидовом про-
странстве, динамически корректируют свои координаты и скоро-
сти в непрерывном времени с целью поддержания определенной
геометрической конфигурации.

485



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

4. Непрерывные модели согласования
характеристик

4.1. Модель с коррекцией скоростей
В этом разделе мы обсудим основные результаты из [40, 30,

29, 19, 42], касающиеся процедур построения траекторий, согла-
сованных с заданным курсом и выстраивающих (поддерживаю-
щих) предписанную конфигурацию группы объектов.

Предположим теперь, что каждый агент (объект) i из группы
N объектов движется в d-мерном пространстве Rd и характери-
зуется 2d-мерным вектором координат и проекций скорости. В
реальных приложениях d равно 2 или 3.

Пусть X = {1, . . . , N} ×R2d. Каждый элемент z ∈ X харак-
теризуется 2dN действительными координатами. При этом пер-
вые 2d компонент задают положение и скорость первого агента,
следующие 2d компонент – положение и скорость второго аген-
та и т.д. Каждой нечетной компоненте соответствует координата
агента, а четной – проекция его скорости на ту же ось. С помощью
кронекерова произведения каждый элемент z ∈ X представляется
в виде ∑N
(20) z = ei ⊗ zi,

i=1
где ei – N -мерный вектор с единицей в i-ой позиции и нулями
в остальных позициях; zi – вектор координат и проекций скоро-
сти i-го агента, имеющий 2d компонент. Если si = (si

1, . . . , s
i
d)

T

– положение, а vi = (vi
1, . . . , v

i
d)

T – скорость i-го агента, то z
можно записать в∑виде

N ( ( ) ( ))
(21) z = ei ⊗ si ⊗ 1

+ vi ⊗ 0
.

0 1
i=1

Каждому i-му агенту в группе ставится в соответствие свое
предписанное положение (место) в группе, задаваемое в виде hi =
(hi

1, . . . , h
i
d) ∈ Rd.

Пусть

z=(z1, . . . , zN )T, zi =(si
1, v

i
1, . . . , s

i
d, v

i
d)

T, hs =(h1, . . . , hN )T,
486



Сетецентрическое управление и многоагентные системы

где верхний индекс задает номер агента.
Определение 1. 1. Вектором конфигурации группы

агентов называют вектор h ∈ X, определяемый следующим
образом [40, 30]: ∑N ( )

1
(22) h = ei ⊗ hi ⊗ .

0
i=1

2. Орбита φ : R → X группы поддерживает конфигурацию
(formation), если для н(еко)торого ( )

α = p⊗ 1 0 d
+ q ⊗ p

, где q = ,
0 1 dt

она представляется в виде

∑N
φ(t) = h+ ei ⊗ α = h+ 1N ⊗ α.

i=1

3. Группа сходится к заданной конфигурации, если существу-
ют вектор-функции q(·), w(·) : R → Rd, для которых имеет ме-
сто si(t)− hi − q(t) → 0 и vi(t)− w(t) → 0 при t→∞ для всех
i = 1, . . . , N .

Каждый агент следит за характеристиками своих «соседей»;
отношение соседства не меняется. Он непрерывно усредняет
(с весами) значения координат соседей, сравнивает результаты
усреднения с собственными координатами и полученные разно-
сти сравнивает с предписанными значениями. Например, если
соседями агента i являются агенты j и k, и веса, с которыми учи-
тываются координаты j и k, равны, то агент i вычисляет d-мерный
вектор (si − hi) − 1/2((sj − hj) + (sk − hk)) и d-мерный вектор
vi − 1/2(vj + vk). На основании полученных результатов произ-
водится коррекция движения агента посредством «тяги», усилия
(thrust).

В общем случае для i-го агента с множеством соседей Ni

487



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

закондвижения имеет вид

 i

 ṡ vi

 1 = 1 ∑ )
 ∑ ( ) (

v̇i
1 =avi

1+f (si−hi j
1 1)−(s1−h

j
1) +g vi

1−v
j
1

(23)  j∈Ni j∈Ni

 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

 i

 ṡd =vi
d ∑ ( ) ∑ ( )

v̇i
d =avi

d+f (si
d−hi j j

d)−(sd−hd) + g vi
d−v

j
d

j∈Ni j∈Ni

или в матричной форме
(24) ż = (IN ⊗A)z + (IN ⊗K)(LN ⊗ I2d)(z − h),
где LN – матрица Кирхгофа орграфа коммуникаций на N верши-
нах. Элемент `ij < 0 тогда и только тогда, когда i-ый агент полу-
чает информацию непосредственно от j-го агента, т. е. последний
является его соседом. В этом случае орграф коммуникаций, со-
ответствующий данной матрице, содержит дугу (j, i). Поскольку
для квадратных матриц A и B соответственно порядкаm и n име-
ет место тождество (Im ⊗ B)(A ⊗ In) = A ⊗ B, (24) определяет
более компактное выражение
(25) ż = (IN ⊗A)z + (LN ⊗K)(z − h).

В работе [42] разности между параметрами i-го агента и его
соседей задаются матрицей (LN ⊗ I2d)(z − h), а матрица IN ⊗
K рассматривается как линейный фильтр, с помощью которого
может быть обеспечена с(х(одимо)сть к за(данной конфигурации.

В данной модели матрица A имеет вид ))
0 1 0 1

(26) A = diag , . . . , ,
0 a ) (0 a

а в более общем случ(ае( ))
0 1 0 1

(27) A = diag

((a1 1 , . . . ,
21 a22) (ad

21 a)d22и )
0 0 0 0

(28) K = diag , . . . , .
f1 g1 fd gd

В случае f1 = . . . = fd и g1 = . . . = gd эти величины
обозначаем f и g.

488



Сетецентрическое управление и многоагентные системы

Определение 2. Достижимым множеством R(v) для верши-
ны v орграфа называют множество, полученное объединением
v со всеми вершинами, достижимыми из v. Охват12 R – макси-
мальное достижимое множество.

Очевидно, если орграф сильно связен, то он имеет лишь один
охват R.

Далее будем использовать следующую декомпозицию мат-
риц A и K порядка∑2d:4 ∑4

(29) ( A =) Ai ⊗ Ji, K = Ki ⊗ Ji,
i=1 ( )i=1 ( )

( ) 1 0 0 1 0 0
где J1 = , J =

0 2 = , J
0 0 3 , J =

0 1 0 4

0 0
, причем компоненты A1 и K1 задают связи позицион-

0 1
ных элементов с позиционными, A2 и K2 – связи позиционных
элементов с компонентами скорости и т.д. При этом из физиче-
ских соображений можно заключить, что A1 = 0 и A2 = Id.

Введем новую переменну(ю y: ( ) ( ))
(30) y = z − h− 1N ⊗ 1 0

p⊗ + q ⊗ .
0 1

Пусть

∑N ( ( ) ( ))
1 0

h = ei ⊗ ξi + ηi ⊗ ,
0 1

i=1

т. е., в отличие от (22), задаются не только положения, но и ско-
рости.

Предложение 1 (предложение 4.2 в [40]). Пусть орграф
коммуникаций группы из N агентов фиксирован. Тогда:

1) система, описываемая уравнением (25), поддерживает за-
данную конфигурацию тогда и только тогда, когда в (29)A3 = 0;
при этом можно положить ηk = 0 для всех k;

2) при заданных конфигурации и скоростях группы имеет
место ṗ = q и q̇ = A4q.

12 Не путать с обхватом в теории графов.
489



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

4.2. Задача устойчивости
Следующее определение основано на классической связи

между устойчивостью системы (сходимостью ее траекторий) и
отрицательностью действительных частей собственных значений
матрицы, соответствующей закону ее движения.

Определение 3 [42]. Система, заданная уравнением (25),
называется устойчивой, если при некоторой матрице K для
каждого ненулевого λ из спектра LN все собственные значе-
ния матрицы A + λK имеют отрицательные действительные
части.

Теорема 7 [42]. Пусть система (25) устойчива при неко-
торой матрице управления K. Тогда каждая орбита асимп-
тотически сходится к некоторой орбите в h + V, где V –
подпространство, порождаемое линейными комбинациями век-
торов {γi ⊗ ρj} при всех i ∈ {1, . . . , k} и j ∈ {1, . . . , 2d}, γi –
векторы, образующие базис ядра LN , ρj – независимые решения
уравнения ρ̇i = Aρi.

Определение 4. Непустое подмножество вершин K ⊆
V (G) орграфа G называют его базовой бикомпонентой, если
все вершины, принадлежащие K, взаимно достижимы и нет дуг
(wj , wi), где wi ∈ K, wj ∈ V (G)\K.

В качестве примера рассмотрим группу из 5 агентов, ор-
граф коммуникаций G которой имеет множество дуг E(G) =
{(1, 2), (1, 3), (3(, 4), (4, 3), (5, 4)}. В G две базовых бикомпо-
ненты: {1} и {5)}. Предположим, что A4 = aI4 и h =

(0, 1, 2, 3, 4)T⊗ 1
. В качестве базиса ядра матрицы LN возьмем

0
γ1 = (1, 1, 2

3 ,
1
3 , 0) и γ(2 = (0), 0, 1

3 ,
2
3 , 1).

0 1
Поскольку A = , общее решение уравнения ρ′ = Aρ

0 a
при a 6= 0 имеет вид ( ) ( )

1 1
ρ = ae

at c1
0 eat .

c2

490



Сетецентрическое управление и многоагентные системы

При начальных условиях ρ(0) = (p0, q0) подпространство
V порождается кронекеровыми произведениями указанных выше
векторов γ1 и γ2{на систему независимых частных решений из
полного множества( решени)й( ) ( ) }

1 q
(31) 0 1

p0 −
q0 + eat

a 0 a a
уравнения ρ′ = Aρ.

Поскольку порядок матрицы A равен двум, число линейно
независимых решений вида (31) равно двум. Поэтому размер-
ность пространства устойчивых решений задачи равна четырем.

4.3. Условия устойчивости
Согласно предложению 1, приведенному выше, для управле-

ния движением группы агентов может быть использована подхо-
дящая матрицаA в (25). Покажем, как с помощью матрицK3 иK4
система может быть стабилизирована (т. е. сделана устойчивой)
при заданной матрице A.

Пусть
ε = min Re(λ) > 0.

λ∈Sp(L)\{0}

Предположим, что A не меняется со временем. Диагональные
элементы матриц A4, K3 и K4 обозначим соответственно через
am, fm и gm, где 1 6 m 6 d.

Предложение 2 (предложение 5.1 в [40]). Для заданной
матрицы A4 система всегда может быть стабилизирова-
на; для этого достаточно выбрать (gk, fk) такими, чтобы
выполнял{ось fk (< 0, gk < 0, fk > −gk(εgk + ak) для всех
k ∈ {1, . . . , d} эквивалент}н)ое условие: fk < 0, gk < 0 и
ε > max −(fk + akgk)/g2

k, 0 .
Критерий устойчивости системы (25) имеет более сложный

вид [30]; см. подраздел 4.5.
В силу приведенных выше результатов для коррекции скоро-

стей агентов может быть использована матрица A4. Так, средние
скорости системы q0 и q1 в моменты t = 0 и t = 1 связаны соот-
ношением q1 = eA4q0. Отметим, что для диагональной матрицы

491



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

A4 отдельные проекции скорости не могут при данном подхо-
де менять знак. Кроме того, использование (31) ограничивается
тем фактом, что физические характеристики лишь краткосрочно
могут расти экспоненциально.

В заключение этого подраздела приведем пример, в котором
система с заданной конфигурацией может менять направление
движения. Предположим, что d = 2, K3 = fId, K4 = gId, и
система движется по окружности на плоскости.

Теорема 8 (теорема 5.2 в [40]). Пусть a0 > 0 фи(ксировано),
√ 0 −m

fk < 0, gk < 0 и fk > −gk(εgk + a0). Если A4 =
m 0

и |m| 6 2 |εf + ε2g2
k| 6= 0, то группа устойчиво движется

по окружности кривизны κ = m/v0 с постоянной скоростью
v0 6= 0.

4.4. Оценивание скорости сходимости к заданной конфигурации
Согласно определению 3 система, заданная уравнением (25),

может не быть устойчивой даже при чисто действительном спек-
тре матрицы LN . Это происходит, если собственные значения
некоторых диагональных (2×2)-блоков матрицы A + λiK при
действительных λi, принадлежащих спектру LN , имеют неотри-
цательные действительные части.

Среди собственных значений матрицы системы (25) могут
быть комплексные. Характеристический многочлен системы ра-
вен произведению квадратных трехчленов
(32) x2 − (a22 + λg)x− λf,
где f, g – элементы матрицы управления K. Дискриминант урав-
нения x2 − (a22 + λg)x− λf = 0 есть
(33) D = (a22 + λg)2 + 4λf.
Чтобы не допустить приближения13 к 0 действительной части
собственного значения соответствующего диагонального блока, f

13 Это приближение привело бы к замедлению (за счет корня (32),
в запись которого дискриминант входит со знаком +) сходимости к
заданной конфигурации.

492



Сетецентрическое управление и многоагентные системы

при фиксированном g подбирают так, чтобы дискриминант (33)
был отрицателен и соотношение

(a
(34 22 + λg)2

) < −f
4λ

выполнялось для всех λ из спектра LN .
Таким образом (см. утверждение 6.1 в [30]) действительные

части корней (32) равны (a22 + λg)/2, и показателем качества
сходимости может служить величина (a22 +λ1g)/2, где λ1 – наи-
меньшее собственное значение матрицы LN с действительным
спектром.

Спектр матрицы LN для симметричного орграфа коммуни-
каций всегда действителен. Но изложенный подход применим не
только к симметричным орграфам, но и ко всем другим орграфам
коммуникаций, имеющим действительный спектр соответствую-
щей матрицы. Отметим, что известный прием, состоящий в уве-
личении скорости сходимости за счет колебаний, в этой задаче не
всегда применим.

4.5. Необходимое и достаточное условие устойчивости
В этом подразделе мы рассмотрим критерий устойчивости

системы с ориентированным графом коммуникаций между аген-
тами.

В [29] показано, что если при некоторой матрице управления
K для любой заданной конфигурации h каждое решение системы
уравнений (25) сходится к h, то для матрицы A верно ai

21 = 0,
i = 1, . . . , d.

Как было отмечено в [30] (замечание 4.3), если нуль – соб-
ственное значение LN с алгебраической кратностью 1, то агенты
поддерживают заданную конфигурацию h тогда и только тогда,
когда (LN ⊗ I2d)(x − h) = 0. Действительно, ядро матрицы LN
натянуто на вектор 1 ∈ RN , а ядро LN ⊗ I2d – на векторы 1⊗ ei,
где {ei} – стандартный базис в R2d.

Если нуль – простое собственное значение матрицы LN ор-
графа коммуникаций (или, эквивалентно, если орграф коммуни-
каций содержит входящее корневое дерево для случая, когда дуги
проводятся от лидеров и строится лапласовская матрица или же

493



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

содержит исходящее корневое дерево, если дуги проводятся к ли-
деру и строится матрица Кирхгофа [1, 22, 13]), то, как показано в
[30] (теорема 4.4), устойчивость матрицыA+λK для всех ненуле-
вых λ эквивалентна14 сходимости процесса, описываемого (25),
к вектору заданной конфигурации h.

Матрица A+ λK блочно-диагональна и каждый ее блок, по-
вторяющийся d раз, имеет размерность 2. Заметим, что опре-
делитель каждого такого блока выражается трехчленом ϕ(x) =
x2 − (a22 + λg)x − λf, коэффициенты которого в общем случае
комплексны. Если u = u1 + u2i – корень ϕ(x), то ū = u1 − u2i
– корень многочлена ϕ̄(x) = x2 − (a22 + λ̄g)x − λ̄f . Многочлен
ϕ(x) устойчив тогда и только тогда, когда устойчив многочлен
ϕ(x)ϕ̄(x). Последний многочлен имеет четвертую степень и дей-
ствительные коэффициенты. Для проверки его устойчивости в
[30] используется критерий Рауса–Гурвица. Напомним, что со-
гласно этому критерию для того, чтобы действительные части
всех корней многочлена были отрицательны, необходимо и до-
статочно, чтобы все последовательные главные миноры матрицы
Гурвица, составленной из коэффициентов многочлена, были по-
ложительны. Для нахождения значений f и g (элементов матрицы
K), гарантирующих устойчивость многочлена ϕ(x)ϕ̄(x), соглас-
но утверждению 4.5 из [30] нужно решить следующую систему
из четырех неравенств15 относительно f и g (все остальные па-
раметрыпостоянны и λ = α+ βi):

 −a22 − αg > 0

 −2αf + (a + αg)2 + β2g2 0
(35)  22 >

.
a22αf + (α2 + β2)fg > 0
−αf(a 2

22 + αg)2 − β2fg(a22 + αg)− β2f > 0
В [42] показано, что если в системе уравнений движения

14 Эта теорема в одну сторону доказана в [29] (предложение 4.3), где
установлено, что если нуль – простое собственное значение матрицы
LN орграфа коммуникаций, то из устойчивости матрицы A + λK
для всех ненулевых λ следует L(x − h) → 0. Однократность нуля как
собственного значения LN в формулировку предложения 4.3 не входит,
но, судя по доказательству, неявно предполагается.

15 Левые части этих неравенств есть определители Гурвица.
494



Сетецентрическое управление и многоагентные системы

группы на плоскости матрица A задается к

 ак16

0 1 0 0

(36) A = 0 a22 0 m ,
0 0 0 1
0 −m 0 a44

то при действительном спектре матрицы коммуникаций устойчи-
вость матрицы A + λK (т. е. отрицательность всех действитель-
ных частей спектра) не зависит отm, и для нее достаточно, чтобы
числа f и g были отрицательными.

Для сходимости системы при не полностью действительном
спектре LN кроме отрицательности f и g требуется выполне-
ние следующих дополнительных условий (см. утверждение 4.4
в [42]):

−f α
< (α2 + β2);

g β2

| f
m| − |β| − g(α2 + β2)

<
gα |β|

для всех не действительных собственных значений λ = α + iβ
матрицы коммуникаций.

4.6. Группа с независимыми лидерами
В этом подразделе рассмотрим поведение группы, члены ко-

торой следят за лидерами (т. е. агентами l, для которых Nl = ∅),
чьи орбиты – заданные функции времени. Такие лидеры называ-
ются независимыми. Лидер, не являющийся независимым, назы-
вается зависимым. Движение зависимого лидера l, положение и
скорость которого обозначим через xl и vl, определяется уравне-
ниями
(37) ẋl = vl, v̇l = A4vl.

По определению, каждое максимальное исходящее дерево
орграфа коммуникаций может содержать не более одного лидера.

16 В этом случае группа объектов движется по окружности с кри-
визной m/v0, где v0 – скорость группы.

495



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

Предположим, что хотя бы один из лидеров является независи-
мым, т. е. имеет заданную апр(иор)и орбиту( )

zl(t) ≡
1 0

ψl(t) + ψ̇ (t) .
0 l 1

Пусть имеется N + k агентов, из которых k – независимые
лидеры. Множество вершин, соответствующих независимым ли-
дерам, обозначим через L. Для каждого l ∈ L положим hl = 0,
т. е. положения лидеров без ограничения общности предполага-
ются равными нулю (вообще говоря, hl определяется из (22)).
Из соответствующей матрицы LN+k размерности N + k удалим
все строки, которые соответствуют независимым лидерам. Через
Li обозначим i-й столбец матрицы порядка N×(N + k). Нако-
нец, пусть P = PN – матрица, полученная из матрицы порядка
N×(N + k) удалением столбцов, соответствующих независимым
лидерам. Как и ранее, z – вектор положения-скорости для агентов
1, . . . , N . Установлена следующая

Лемма 2 (лемма 6.2 в [40]). Движение группы с множе-
ством L независимых лидеров описывается∑уравнением
(38) ż = (IN ⊗A)z + (PN ⊗K)(z − h) + Ll ⊗ (Kzl(t)).

l∈L
Проведя замену переменных y = z − h, получаем

(39) ẏ = (IN⋃⊗A+ PN ⊗K)y + g(t) = My + g(t).
Пусть G = k

i=1Ri – представление графа в виде объеди-
нения всех охватов Ri. Проиндексируем множество охватов и
определим множество I следующим образом: i ∈ I ⇔ (Ri не
содержит независимого лидера).

Предположим, что {γi}i∈I – множество линейно независи-
мых собственных векторов, соответствующих нулевым собствен-
ным значениям матрицы LN .

Теорема 9 (теорема 6.4 в [40]). Пусть матрица управления
K обеспечивает устойчивость системы. Предположим, что
yp(t) – произвольное частное решение системы (39). Тогда каж-
дая орбита асимптотически сходится к орбите вида h+yp(t)+
V, где V – линейная оболочка векторов {γi ⊗ ρj}i∈I, j∈{1,...,2d}, γi

496



Сетецентрическое управление и многоагентные системы

принадлежит ядру LN+k, а ρ1, . . . , ρ2d есть 2d линейно незави-
симых решений системы уравнений ρ̇j = Aρj .

Общий вид ∫ t
y(t) = eMty(0) + eMt e−Msg(s)ds

0

решения системы уравнений (39) есть сумма любого частного
решения и общего решения однородной системы линейных диф-
ференциальных уравнений

ẏ = (IN ⊗A+ PN ⊗K)y = My.

Тем самым, теорема 9 может быть доказана тем же способом, что
и теорема 7.

Устойчивость при децентрализованном управлении группой
объектов, движение которых описывается уравнением
(40) ż = (IN ⊗A)z + (LN ⊗K)(z − h),
обеспечивается [40, 30] выбором матрицы управления K. После
замены переменных и приведения матрицы IN ⊗ A + (LN ⊗K)
к блочно-диагональному виду [30] необходимое и достаточное
условие устойчивости(может быть получено применением крите-
рия Рауса–Гурвица к диагональным блок)ам вида

0 1
(41) ,

λif1 a22 + λif2

где λi – ненулевые собственные значения (не обязательно дей-
ствительные) матрицы Кирхгофа орграфа коммуникаций. Как
следует из предложения 4.5 в [30], действительность собствен-
ных значений λi существенно упрощает условие устойчивости и
оставляет бо́льшую свободу выбора элементов матрицы управле-
ния K, действующей однородно по отношению ко всем агентам.
Необходимое и достаточное условия действительности спектра
для одного специального класса орграфов (а именно, для оргра-
фов с кольцевой структурой) получены в [16]. Ряд характери-
стик переходных процессов системы, таких как затухание, сте-
пень устойчивости, колебательность (см., например, [14, с. 211]),

497



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

в децентрализованном управлении также связаны с спектром мат-
рицы LN орграфа коммуникаций. Как следует из [30], для отсут-
ствия колебаний необходима действительность спектра орграфа
коммуникаций. При этом условии скорость сходимости группы к
заданной конфигурации зависит как от элементов матрицыK, так
и от минимального ненулевого собственного значения матрицы
LN (см. предложение 6.1 в [30]). Достаточное условие устойчи-
вости, выполнение которого зависит от величины минимальной
действительной части собственного значения LN , дано в предло-
жении 6.1 в [40].

5. Заключение

В настоящем обзоре основное внимание было уделено двум
направлениям в литературе по децентрализованному управлению
многоагентными системами. Это, во-первых, работы, где анализ
дискретных моделей согласования характеристик опирается на
классические результаты теории цепей Маркова и стохастиче-
ских матриц, и, во-вторых, работы по управлению совместным
движением объектов в евклидовом пространстве с выстраивани-
ем (поддержанием) заданной конфигурации.

Никоим образом не претендуя на полноту (как уже отме-
чалось во введении, в середине 2000-х годов поток работ по
теоретико-графовым моделям децентрализованного управления
приобрел лавинообразный характер, и в нем можно выделить це-
лый ряд «подпотоков»), в заключение упомянем некоторые другие
существенные исследования (см. также обзор в [13]).

В начале 2000-х годов проблема децентрализованного управ-
ления группой движущихся объектов со структурой информаци-
онных связей, задаваемой графом, изучалась в [24, 25]. В [33]
исследовалась проблема достижения согласия при фиксирован-
ной и меняющейся (посредством переключений) топологии ком-
муникаций. Рассмотрены протоколы согласования без временной
задержки и с временной задержкой, и для обоих случаев полу-
чены условия сходимости. При этом специальное внимание уде-
лено случаю, когда орграф коммуникаций сбалансирован. Отме-
498



Сетецентрическое управление и многоагентные системы

тим, что в указанной работе авторы «переоткрывают» некоторые
результаты по алгебраической теории ориентированных графов,
полученные в [1, 2] и известные им по переписке с авторами
настоящего обзора (подробнее см. в [21]).

Исследуя алгебраическую связность в сетях «малого мира»
(small-world networks) Р. Олфати-Сабер [31] рассматривает спо-
собы существенного увеличения этого показателя, что, в свою
очередь, значительно ускоряет процесс достижения консенсуса.
В работе также изучено соотношение между связностью сети и
ее устойчивостью по отношению к неисправностям узлов и ли-
ний связей. Упомянем также работу [32], где приведен обзор ис-
следований по проблемам достижения согласия и кооперации в
сетевых многоагентных системах.

Еще в одном обзоре [37], посвященном информационному
согласию в многоагентном кооперативном управлении, рассмат-
риваются задачи сходимости процедур согласования характери-
стик при фиксированной и меняющейся структуре связей, а также
асинхронные процедуры с временной задержкой обмена данны-
ми. Последний раздел этой работы посвящен синтезу алгоритмов
согласования. Проблема консенсуса для дискретных и непрерыв-
ных моделей с меняющейся структурой связей исследовалась так-
же в [35]. Результаты этой работы пересекаются с результатами
[28], которые частично обсуждались выше. В частности, речь идет
о теореме, согласно которой для достижения согласия в системе
с меняющейся структурой связей достаточно, чтобы в определен-
ных временных интервалах объединение графов коммуникаций
содержало остовное дерево на множестве всех вершин, соответ-
ствующих агентам.

В недавней работе [34] был предложен вычислительный ал-
горитм для согласования траекторий при ограничениях, наложен-
ных на управление. Этот алгоритм обеспечивает согласование
траекторий в случае, когда лидеры группы и структура связей
меняются. Алгоритм был применен для согласования траекторий
движения роботов. Реализации протоколов согласования траекто-
рий агентов посвящена и работа [38]. Отметим, наконец, моно-

499



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

графию [36], которая подытоживает результаты работ по децен-
трализованному управлению, проведенных до 2008 г. активной
группой исследователей из государственного университета штата
Юта в США.

Среди русскоязычных работ по различным аспектам управ-
ления групповым движением упомянем здесь [5, 7, 9, 15]. Ра-
зумеется, отечественные исследования по данной проблематике,
практически неизвестные на Западе, требуют отдельного рассмот-
рения и изложения в ведущих международных изданиях. В про-
тивном случае не подозревающим об их существовании западным
авторам ничего не останется, как постепенно переоткрывать все
полученные в них результаты.

Литература

1. АГАЕВ Р. П., ЧEБОТАРЕВ П. Ю. Матрица максимальных
исходящих лесов орграфа и ее применения // Автоматика и
телемеханика. – 2000. – №9. – С. 15–43.

2. АГАЕВ Р. П., ЧEБОТАРЕВ П. Ю. Остовные леса орграфа
и их применение // Автоматика и телемеханика. – 2001. –
№3. – С. 108–133.

3. БАРАБАНОВ И. Н., КОРГИН Н. А., НОВИКОВ Д. А.,
ЧХАРТИШВИЛИ А. Г. Динамические модели информаци-
онного управления в социальных сетях // Автоматика и
телемеханика. – 2010 (в печати).

4. БЛЮМИН С. Л. Мультиагентные системы: проблемы и
протоколы согласия, псевдообращение лапласианов гра-
фов // Системы управления и информационные техноло-
гии. – 2007. – №2(28). – С. 4–9.

5. ГАБАСОВ Р., ДМИТРУК Н. М., КИРИЛЛОВА Ф. М. Оп-
тимальное децентрализованное управление группой дина-
мических объектов // Журнал вычислительной математики
и математической физики. – 2008. – Vol. 48, №4. – С. 593–
609.

6. ГАНТМАХЕР Ф. Р. Теория матриц. – 3-е изд. – М.: Наука,
1988. – 576 с.

500



Сетецентрическое управление и многоагентные системы

7. ЗОЛОТУХИН Ю. Н., КОТОВ К. Ю., НЕСТЕРОВ А. А. Де-
централизованное управление подвижными объектами в
составе маневрирующей группы // Автометрия. – 2007. –
Vol. 43, №3. – C. 31–39.

8. КОЛМОГОРОВ А. Н. Об аналитических методах в тео-
рии вероятностей // Успехи математических наук. –
1938. – №5. – С. 5–41.

9. КУРЖАНСКИЙ А. Б. Задача управления групповым дви-
жением. Общие соотношения // Доклады РАН. – 2009. –
Vol. 426, №1. – C. 20–25.

10. ПОЛЯК Б. Т., ЩЕРБАКОВ П. С. Робастная устойчивость
и управление. – М.: Наука, 2002. – 303 с.

11. РОМАНОВСКИЙ В. И. Дискретные цепи Маркова. – М.–
Л.: Гостехиздат, 1949. – 436 с.

12. САРЫМСАКОВ T. A. Об эргодическом принципе для неод-
нородных цепей Маркова // Доклады Академии наук
СССР. – 1953. – Т. 90, №1. – С. 25–28.

13. ЧЕБОТАРЕВ П. Ю., АГАЕВ Р. П. Согласование характе-
ристик в многоагентных системах и спектры лапласов-
ских матриц орграфов // Автоматика и телемеханика. –
2009. – №3. – С. 136–151.

14. ФЕЛЬДБАУМ А. А., БУТКОВСКИЙ А. Г. Методы теории
автоматического управления. – М.: Наука, 1971. – 744 с.

15. ФУНАСИ Р., АРАКОВА М., ТСУДА Ю., КАВАГУЧИ ДЖ.
Децентрализованное управление группой спутников с уче-
том информационного обмена // Труды МАИ (электрон-
ный журнал). – 2009. – №9.

16. AGAEV R. P., CHEBOTAREV P. YU. Which digraphs with
ring structure are essentially cyclic? // Advances in Applied
Mathematics. – 2010. – Vol. 45. – P. 232-251.

17. BERTSEKAS D. P., TSITSIKLIS J. N. Parallel and
Distributed Computation: Numerical Methods //
Englewood Cliffs, NJ: Prentice-Hall, 1989. – URL:
http://hdl.handle.net/1721.1/3719.

18. BERTSEKAS D. P., TSITSIKLIS J. N. Comments on
501



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

“Coordination of groups of mobile autonomous agents using
nearest neighbor rules” // IEEE Transactions Automatic
Control. – 2007. – Vol. 52, No. 5. – P. 968–969.

19. CAUGHMAN J. S., VEERMAN J. J. P. Kernels of
directed graph Laplacians // The Electronic Journal of
Combinatorics. – 2006. – Vol. 13. No. 1. R39.

20. CHATTERJEE S., SENETA E. Towards consensus: Some
convergence theorems on repeated averaging // J. Appl.
Probab. – 1977. – Vol. 14. – P. 89–97.

21. CHEBOTAREV P. Comments on “Consensus and cooperation
in networked multi-agent systems” // Proc. IEEE. – 2010. –
Vol. 98, No. 7. – P. 1353–1354.

22. CHEBOTAREV P., AGAEV R. Forest matrices around the
Laplacian matrix // Linear Algebra Appl. – 2002. – Vol. 356. –
P. 253–274.

23. DeGROOT M. H. Reaching a consensus // J. Amer. Statist.
Assoc. – 1974. – Vol. 69, No. 345. – P. 118–121.

24. FAX J. A., MURRAY R. M. Graph Laplacians and
Stabilization of Vehicle Formations // Proc. 15th IFAC World
Congress on Automatic Control, Barcelona, Spain. – 2002.

25. FAX J. A., MURRAY R. M. Information flow and cooperative
control of vehicle formations // IEEE Transactions Automatic
Control. – 2003. – Vol. 49, No. 9. – P. 1465–1476.

26. HAJNAL J. The ergodic properties of non-homogeneous finite
Markov chains // Proc. Cambridge Philos. Soc. – 1956. –
Vol. 52. – P. 67–77.

27. HAJNAL J. Weak ergodicity in non-homogeneous Markov
chains // Proc. Cambridge Philos. Soc. – 1958. – Vol. 54. –
P. 233–246.

28. JADBABAIE A., LIN J., MORSE A. S. Coordination of
groups of mobile autonomous agents using nearest neighbor
rules // IEEE Transactions Automatic Control. – 2003. –
Vol. 48, No. 6. – P. 988–1001.

29. LAFFERRIERE G., CAUGHMAN J. S., WILLIAMS A.
Graph theoretic methods in the stability of vehicle formations

502



Сетецентрическое управление и многоагентные системы

// Proc. American Control Conference ACC2004, July 2004. –
P. 3729–3734.

30. LAFFERRIERE G., WILLIAMS A., CAUGHMAN J. S.,
VEERMAN J. J. P. Decentralized control of vehicle formations
// Sys. Control Lett. – 2005. – Vol. 54, No. 9. – P. 899–910.

31. OLFATI-SABER R. M. Ultrafast consensus in small-world
networks // Proc. American Control Conference. – 2005. –
P. 2371–2378.

32. OLFATI-SABER R. M., FAX J. A., MURRAY R. M.
Consensus and cooperation in networked multi-agent systems
// Proc. IEEE. – 2007. – Vol. 95, No. 1. – P. 215–233.

33. OLFATI-SABER R. M., MURRAY R. M. Consensus problems
in networks of agents with switching topology and time-delays
// IEEE Transactions Automatic Control. – 2004. – Vol. 49,
No. 9. – P. 1520–1533.

34. REN W. Consensus tracking under directed interaction
topologies: Algorithms and experiments // Transactions
Control Systems Technology. – 2010. – Vol. 18, No. 1. –
P. 230–237.

35. REN W., BEARD R. W. Consensus seeking in multiagent
systems under dynamically changing interaction topologies
// IEEE Transactions Automatic Control. – 2005. – Vol. 50,
No. 5. – P. 655–661.

36. REN W., BEARD R. W. Distributed Consensus in Multi-
Vehicle Cooperative Control. – London: Springer-Verlag. –
2008.

37. REN W., BEARD R. W., ATKINS E. M. Information
consensus in multivehicle cooperative control // IEEE Control
Syst. Magazin. – 2007. – Vol. 27, No. 2. – P. 71–82.

38. REN W., CHAO H., BOURGEOUS W., SORENSEN N.,
CHEN Y.Q. Experimental validation of consensus algorithms
for multivehicle cooperative control // Transactions Control
Systems Technology. – 2010. – Vol. 16, No. 4. – P. 745–752.

39. TSITSIKLIS J. N., BERTSEKAS D. P., ATHANS M.
Distributed asynchronous deterministic and stochastic

503



Управление большими системами
Специальный выпуск 30.1 «Сетевые модели в управлении»

gradient optimization algorithms // IEEE Transactions
Automatic Control. – 1986. – Vol. AC-31, No. 9. – P. 803–812.

40. VEERMAN J. J. P., LAFFERRIERE G., CAUGHMAN J. S.,
WILLIAMS A. Flocks and formations // J. Statistical
Physics. – 2005. – Vol. 121, No. 5-6. – P. 901–936.

41. VICSEK T., CZIROK A., BEN JACOB E., COHEN I.,
SCHOCHET O. Novel type of phase transitions in a system
of self-driven particles // Phys. Rev. Lett. – 1995. – Vol. 75. –
P. 1226–1229.

42. WILLIAMS A., LAFFERRIERE G., VEERMAN J. J. P.
Stable motions of vehicle formations // Proc. 44th IEEE
Conference on Decision and Control, December 2005. – P. 72–
77.

43. WOLFOWITZ J. Products of indecomposable, aperiodic,
stochastic matrices // Proc. Amer. Math. Soc. – 1963. –
Vol. 15. – P. 733–736.

CONVERGENCE AND STABILITY IN CONSENSUS
AND COORDINATION PROBLEMS (A SURVEY OF
BASIC RESULTS)

Rafig Agaev, Institute of Control Sciences of RAS, Moscow,
Candidate of Science, senior researcher, senior lecturer
(agaraf@rambler.ru).
Pavel Chebotarev, Institute of Control Sciences of RAS, Moscow,
Doctor of Science, leading researcher (pavel4e@gmail.com,
Moscow, Profsoyuznaya str., 65, (495)334-88-69).

504



Сетецентрическое управление и многоагентные системы

Abstract: This paper is a survey of the basic results on coordination
and consensus seeking in multiagent systems and on the stability of
the corresponding algorithms. The first part of the paper is devoted
to the consensus problem in the discrete time. The second part deals
with more general problems of coordination in which every agent is
characterized by 2d parameters in the Euclidean space of dimension d.
These parameters are the coordinates and velocity components of
the agents. We discuss procedures of determining the trajectories
converging to a given course and obeying a prescribed geometric
configuration of the agents (the agents are moving in formation).
The dynamically adjusted speed of each agent is a function of the
current parameters of this agent and its ”neighbors.” The information
links between agents are determined by a communication digraph.
To stabilize the system, linear feedback is used. The stability of
motion is studied in terms that characterize the connectivity of the
communication digraph.

Keywords: multi-agent systems, decentralized control, communication
digraph, consensus, coordination, Laplacian spectrum, DeGroot
model, stability, control.

Статья представлена к публикации
членом редакционной коллегии А. Г. Чхартишвили

505